
/!\ FAILSAFE /!\  Mon Jul 12 13:03:20 +0200 2010
  Status: 500 Internal Server Error
  could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?

    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/postgresql_adapter.rb:968:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/postgresql_adapter.rb:968:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/postgresql_adapter.rb:968:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p249/gems/rails-2.3.5/lib/commands/server.rb:111
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:04:03) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (389.7ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (174.4ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:04:11.868118', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:04:04.868282', NULL, NULL, E'1277813186698', E'1bcceec06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:04:04.868282', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:04:04.718129', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (60.7ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:04:05.248064', 363, '2010-07-12 11:04:05.248064', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:04:05.315124', 363, '2010-07-12 11:04:05.315124', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:04:05.319168', 363, '2010-07-12 11:04:05.319168', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (43.3ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:04:05.379193', 363, NULL, E'1c2e1af06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:04:05.379193', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (1.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 363) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 363) [0m
  [4;35;1mSQL (180.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 363) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:04.718129', timestamp '2010-07-12 11:04:11.868118')))) [0m
  [4;36;1mSQL (75.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 363) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:04.718129', timestamp '2010-07-12 11:04:11.868118')))) [0m
  [4;35;1mEvent Load (19.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 363) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:04.718129', timestamp '2010-07-12 11:04:11.868118')))) [0m
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 363) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:04.718129', timestamp '2010-07-12 11:04:11.868118')))) [0m
  [4;35;1mSQL (45.2ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:04:05.802706', '2010-07-12 11:04:05.802706', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:04:04.718129', "updated_at" = '2010-07-12 11:04:05.858738', "created_at" = '2010-07-12 11:04:04.868282', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:04:11.868118', "event_group_id" = 203, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'1bcceec06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 363[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/1bcceec06fd3012d8d7d001f5bf1b5ba
Completed in 2090ms (DB: 997) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:04:49) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (26.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:04:56.260131', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:04:49.260244', NULL, NULL, E'1277813186698', E'365989b06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:04:49.260244', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:04:49.260045', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:04:49.293995', 364, '2010-07-12 11:04:49.293995', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:04:49.300592', 364, '2010-07-12 11:04:49.300592', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:04:49.302410', 364, '2010-07-12 11:04:49.302410', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:04:49.313564', 364, NULL, E'366128a06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:04:49.313564', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 364) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 364) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 364) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:49.260045', timestamp '2010-07-12 11:04:56.260131')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 364) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:49.260045', timestamp '2010-07-12 11:04:56.260131')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 364) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:49.260045', timestamp '2010-07-12 11:04:56.260131')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 364) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:04:49.260045', timestamp '2010-07-12 11:04:56.260131')))) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:04:49.334100', '2010-07-12 11:04:49.334100', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:04:49.260045', "updated_at" = '2010-07-12 11:04:49.401862', "created_at" = '2010-07-12 11:04:49.260244', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:04:56.260131', "event_group_id" = 204, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'365989b06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 364[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/365989b06fd3012d8d7d001f5bf1b5ba
Completed in 174ms (DB: 39) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:04:49) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (20.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 109ms (View: 74, DB: 21) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:05:06) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:05:13.793973', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:05:06.794085', NULL, NULL, E'1277813186698', E'40ccfd806fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:05:06.794085', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:05:06.793886', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:06.801805', 365, '2010-07-12 11:05:06.801805', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:06.805381', 365, '2010-07-12 11:05:06.805381', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:06.806390', 365, '2010-07-12 11:05:06.806390', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:05:06.814767', 365, NULL, E'40cfa4a06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:05:06.814767', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 365) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 365) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 365) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:06.793886', timestamp '2010-07-12 11:05:13.793973')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 365) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:06.793886', timestamp '2010-07-12 11:05:13.793973')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 365) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:06.793886', timestamp '2010-07-12 11:05:13.793973')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 365) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:06.793886', timestamp '2010-07-12 11:05:13.793973')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:05:06.896443', '2010-07-12 11:05:06.896443', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.8ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:05:06.793886', "updated_at" = '2010-07-12 11:05:06.904525', "created_at" = '2010-07-12 11:05:06.794085', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:05:13.793973', "event_group_id" = 205, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'40ccfd806fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 365[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/40ccfd806fd3012d8d7d001f5bf1b5ba
Completed in 143ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:06) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:05:07) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1nbuh50-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (45.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 61ms (View: 2, DB: 46) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:05:07) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:05:14.254684', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:05:07.254821', NULL, NULL, E'1277813120366', E'411348106fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:05:07.254821', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:05:07.254570', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.262991', 366, '2010-07-12 11:05:07.262991', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (25.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.266975', 366, '2010-07-12 11:05:07.266975', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.359625', 366, '2010-07-12 11:05:07.359625', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.361630', 366, '2010-07-12 11:05:07.361630', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.363321', 366, '2010-07-12 11:05:07.363321', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.364953', 366, '2010-07-12 11:05:07.364953', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.366570', 366, '2010-07-12 11:05:07.366570', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.367664', 366, '2010-07-12 11:05:07.367664', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:07.368727', 366, '2010-07-12 11:05:07.368727', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 366) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 366) [0m
  [4;36;1mSQL (32.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 366) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:07.254570', timestamp '2010-07-12 11:05:14.254684')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.8ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:05:07.254570', "updated_at" = '2010-07-12 11:05:07.411270', "created_at" = '2010-07-12 11:05:07.254821', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 11:05:14.254684', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'411348106fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 366[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 366) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:07.254570', timestamp '2010-07-12 11:05:14.254684')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:05:07.427946', "pairing_mode" = 3 WHERE "id" = 366[0m
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 366) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:07.254570', timestamp '2010-07-12 11:05:14.254684')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 366) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:07.254570', timestamp '2010-07-12 11:05:14.254684')))) [0m
  [4;36;1mEventGroup Load (0.8ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 205) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:05:07.452017', "event_group_id" = 205 WHERE "id" = 366[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/411348106fd3012d8d7d001f5bf1b5ba
Completed in 300ms (DB: 77) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:08) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:08) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:09) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:09) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:10) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 80ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:11) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:12) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:12) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:13) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 14ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:14) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:15) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:15) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 14ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:05:16) [GET]
  Parameters: {"id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:16) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 14ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:05:21) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813200210", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:05:28.382483', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:05:21.382600', NULL, NULL, E'1277813200210', E'497f05406fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:05:21.382600', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:05:21.382398', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:21.390151', 367, '2010-07-12 11:05:21.390151', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:21.394120', 367, '2010-07-12 11:05:21.394120', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:21.395233', 367, '2010-07-12 11:05:21.395233', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:21.396244', 367, '2010-07-12 11:05:21.396244', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:05:21.405031', 367, NULL, E'4981faa06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:05:21.405031', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 367) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 367) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 367) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:21.382398', timestamp '2010-07-12 11:05:28.382483')))) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 367) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:21.382398', timestamp '2010-07-12 11:05:28.382483')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 367) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:21.382398', timestamp '2010-07-12 11:05:28.382483')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 367) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:21.382398', timestamp '2010-07-12 11:05:28.382483')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:05:21.425636', '2010-07-12 11:05:21.425636', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.8ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:05:21.382398', "updated_at" = '2010-07-12 11:05:21.432331', "created_at" = '2010-07-12 11:05:21.382600', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813200210', "ending_at" = '2010-07-12 11:05:28.382483', "event_group_id" = 206, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'497f05406fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 367[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/497f05406fd3012d8d7d001f5bf1b5ba
Completed in 82ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:05:22) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 76ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:05:22) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-w8f8n3-0>}, "id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 2, DB: 1) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:05:22) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1c:df:76:56:7d,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813133914", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:05:29.650216', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:05:22.650340', NULL, NULL, E'1277813133914', E'4a4075506fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:05:22.650340', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:05:22.650120', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.660134', 368, '2010-07-12 11:05:22.660134', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.663868', 368, '2010-07-12 11:05:22.663868', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.664895', 368, '2010-07-12 11:05:22.664895', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.665920', 368, '2010-07-12 11:05:22.665920', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.666936', 368, '2010-07-12 11:05:22.666936', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.667940', 368, '2010-07-12 11:05:22.667940', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.668934', 368, '2010-07-12 11:05:22.668934', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.670285', 368, '2010-07-12 11:05:22.670285', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:05:22.671304', 368, '2010-07-12 11:05:22.671304', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 368) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 368) [0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 368) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:22.650120', timestamp '2010-07-12 11:05:29.650216')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:05:22.650120', "updated_at" = '2010-07-12 11:05:22.685219', "created_at" = '2010-07-12 11:05:22.650340', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813133914', "ending_at" = '2010-07-12 11:05:29.650216', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'4a4075506fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 368[0m
  [4;35;1mSQL (3.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 368) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:22.650120', timestamp '2010-07-12 11:05:29.650216')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:05:22.759604', "pairing_mode" = 3 WHERE "id" = 368[0m
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 368) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:22.650120', timestamp '2010-07-12 11:05:29.650216')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 368) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:05:22.650120', timestamp '2010-07-12 11:05:29.650216')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 206) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:05:22.782695', "event_group_id" = 206 WHERE "id" = 368[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/4a4075506fd3012d8d7d001f5bf1b5ba
Completed in 175ms (DB: 22) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:06:29) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:06:36.446732', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:06:29.446860', NULL, NULL, E'1277813186698', E'7210ccd06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:06:29.446860', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:06:29.446644', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:29.454846', 369, '2010-07-12 11:06:29.454846', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:29.458605', 369, '2010-07-12 11:06:29.458605', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:29.521951', 369, '2010-07-12 11:06:29.521951', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (41.9ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:06:29.592358', 369, NULL, E'722680406fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:06:29.592358', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 369) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 369) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 369) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:29.446644', timestamp '2010-07-12 11:06:36.446732')))) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 369) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:29.446644', timestamp '2010-07-12 11:06:36.446732')))) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 369) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:29.446644', timestamp '2010-07-12 11:06:36.446732')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 369) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:29.446644', timestamp '2010-07-12 11:06:36.446732')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:06:29.662038', '2010-07-12 11:06:29.662038', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:06:29.446644', "updated_at" = '2010-07-12 11:06:29.668732', "created_at" = '2010-07-12 11:06:29.446860', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:06:36.446732', "event_group_id" = 207, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'7210ccd06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 369[0m
  [4;36;1mSQL (365.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/7210ccd06fd3012d8d7d001f5bf1b5ba
Completed in 620ms (DB: 423) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:30) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:06:30) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-zrdhdi-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:06:30) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:06:37.241471', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:06:30.241595', NULL, NULL, E'1277813120366', E'728a11406fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:06:30.241595', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:06:30.241383', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.249428', 370, '2010-07-12 11:06:30.249428', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.253144', 370, '2010-07-12 11:06:30.253144', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.254175', 370, '2010-07-12 11:06:30.254175', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.255197', 370, '2010-07-12 11:06:30.255197', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.256198', 370, '2010-07-12 11:06:30.256198', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.257218', 370, '2010-07-12 11:06:30.257218', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.258460', 370, '2010-07-12 11:06:30.258460', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.259542', 370, '2010-07-12 11:06:30.259542', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:30.260724', 370, '2010-07-12 11:06:30.260724', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 370) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 370) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 370) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:30.241383', timestamp '2010-07-12 11:06:37.241471')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:06:30.241383', "updated_at" = '2010-07-12 11:06:30.272424', "created_at" = '2010-07-12 11:06:30.241595', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 11:06:37.241471', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'728a11406fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 370[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 370) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:30.241383', timestamp '2010-07-12 11:06:37.241471')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:06:30.284653', "pairing_mode" = 3 WHERE "id" = 370[0m
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 370) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:30.241383', timestamp '2010-07-12 11:06:37.241471')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 370) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:30.241383', timestamp '2010-07-12 11:06:37.241471')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 207) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:06:30.367503', "event_group_id" = 207 WHERE "id" = 370[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/728a11406fd3012d8d7d001f5bf1b5ba
Completed in 228ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:31) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:31) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:32) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:32) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:33) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:34) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:35) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:35) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 14ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:36) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:36) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:37) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:37) [GET]
  Parameters: {"id"=>"8263843065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8263843065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/8263843065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:06:39) [GET]
  Parameters: {"id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (1.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 71ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:39) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:06:44) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813200210", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:06:51.173280', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:06:44.173394', NULL, NULL, E'1277813200210', E'7ad7e4a06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:06:44.173394', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:06:44.173194', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:44.181202', 371, '2010-07-12 11:06:44.181202', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:44.184757', 371, '2010-07-12 11:06:44.184757', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:44.185776', 371, '2010-07-12 11:06:44.185776', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:44.186751', 371, '2010-07-12 11:06:44.186751', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:06:44.195622', 371, NULL, E'7adad1d06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:06:44.195622', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 371) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 371) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 371) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:44.173194', timestamp '2010-07-12 11:06:51.173280')))) [0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 371) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:44.173194', timestamp '2010-07-12 11:06:51.173280')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 371) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:44.173194', timestamp '2010-07-12 11:06:51.173280')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 371) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:44.173194', timestamp '2010-07-12 11:06:51.173280')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:06:44.216655', '2010-07-12 11:06:44.216655', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:06:44.173194', "updated_at" = '2010-07-12 11:06:44.281570', "created_at" = '2010-07-12 11:06:44.173394', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813200210', "ending_at" = '2010-07-12 11:06:51.173280', "event_group_id" = 208, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'7ad7e4a06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 371[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/7ad7e4a06fd3012d8d7d001f5bf1b5ba
Completed in 142ms (DB: 16) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:45) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:06:45) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1yzp7ng-0>}, "id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 2, DB: 1) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:06:45) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1c:df:76:56:7d,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813133914", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:06:52.427570', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:06:45.427703', NULL, NULL, E'1277813133914', E'7b9746706fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:06:45.427703', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:06:45.427450', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.435333', 372, '2010-07-12 11:06:45.435333', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.438895', 372, '2010-07-12 11:06:45.438895', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.439902', 372, '2010-07-12 11:06:45.439902', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.440897', 372, '2010-07-12 11:06:45.440897', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.442018', 372, '2010-07-12 11:06:45.442018', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.443145', 372, '2010-07-12 11:06:45.443145', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.444127', 372, '2010-07-12 11:06:45.444127', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.445141', 372, '2010-07-12 11:06:45.445141', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:06:45.446128', 372, '2010-07-12 11:06:45.446128', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 372) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 372) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:45.427450', timestamp '2010-07-12 11:06:52.427570')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:06:45.427450', "updated_at" = '2010-07-12 11:06:45.521670', "created_at" = '2010-07-12 11:06:45.427703', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813133914', "ending_at" = '2010-07-12 11:06:52.427570', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'7b9746706fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 372[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 372) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:45.427450', timestamp '2010-07-12 11:06:52.427570')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:06:45.535000', "pairing_mode" = 3 WHERE "id" = 372[0m
  [4;35;1mEvent Load (1.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 372) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:45.427450', timestamp '2010-07-12 11:06:52.427570')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 372) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:06:45.427450', timestamp '2010-07-12 11:06:52.427570')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 208) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:06:45.557976', "event_group_id" = 208 WHERE "id" = 372[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/7b9746706fd3012d8d7d001f5bf1b5ba
Completed in 168ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:06:45) [GET]
  Parameters: {"id"=>"8a6c790065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a6c790065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/8a6c790065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:05) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:07:12.674165', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:07:05.674317', NULL, NULL, E'1277813186698', E'87a8a8b06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:05.674317', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:07:05.674055', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.681957', 373, '2010-07-12 11:07:05.681957', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.685461', 373, '2010-07-12 11:07:05.685461', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.686541', 373, '2010-07-12 11:07:05.686541', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:07:05.694369', 373, NULL, E'87ab4ab06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:05.694369', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 373) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 373) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 373) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.674055', timestamp '2010-07-12 11:07:12.674165')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 373) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.674055', timestamp '2010-07-12 11:07:12.674165')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 373) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.674055', timestamp '2010-07-12 11:07:12.674165')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 373) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.674055', timestamp '2010-07-12 11:07:12.674165')))) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:07:05.713578', '2010-07-12 11:07:05.713578', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:05.674055', "updated_at" = '2010-07-12 11:07:05.721244', "created_at" = '2010-07-12 11:07:05.674317', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:07:12.674165', "event_group_id" = 209, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'87a8a8b06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 373[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/87a8a8b06fd3012d8d7d001f5bf1b5ba
Completed in 79ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:07:05) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1vm8148-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:05) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:07:12.886778', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:07:05.886901', NULL, NULL, E'1277813120366', E'87c91bd06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:05.886901', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:07:05.886686', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.894871', 374, '2010-07-12 11:07:05.894871', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.898676', 374, '2010-07-12 11:07:05.898676', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.899697', 374, '2010-07-12 11:07:05.899697', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.900687', 374, '2010-07-12 11:07:05.900687', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.901687', 374, '2010-07-12 11:07:05.901687', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (26.7ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.902706', 374, '2010-07-12 11:07:05.902706', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.931421', 374, '2010-07-12 11:07:05.931421', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.933562', 374, '2010-07-12 11:07:05.933562', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:05.935401', 374, '2010-07-12 11:07:05.935401', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 374) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 374) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 374) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.886686', timestamp '2010-07-12 11:07:12.886778')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:05.886686', "updated_at" = '2010-07-12 11:07:05.950254', "created_at" = '2010-07-12 11:07:05.886901', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 11:07:12.886778', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'87c91bd06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 374[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 374) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.886686', timestamp '2010-07-12 11:07:12.886778')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:05.961905', "pairing_mode" = 3 WHERE "id" = 374[0m
  [4;36;1mEvent Load (2.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 374) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.886686', timestamp '2010-07-12 11:07:12.886778')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 374) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:05.886686', timestamp '2010-07-12 11:07:12.886778')))) [0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 209) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:06.045675', "event_group_id" = 209 WHERE "id" = 374[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/87c91bd06fd3012d8d7d001f5bf1b5ba
Completed in 198ms (DB: 45) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:07) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 18ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:08) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 88ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:11) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:12) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:13) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:07:14) [GET]
  Parameters: {"id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:14) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 84ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:19) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813200210", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:07:26.569588', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:07:19.569705', NULL, NULL, E'1277813200210', E'8ff0f0e06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:19.569705', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:07:19.569501', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:19.577800', 375, '2010-07-12 11:07:19.577800', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:19.581452', 375, '2010-07-12 11:07:19.581452', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:19.582500', 375, '2010-07-12 11:07:19.582500', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:19.583537', 375, '2010-07-12 11:07:19.583537', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:07:19.591827', 375, NULL, E'8ff3e2106fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:19.591827', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 375) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 375) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 375) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:19.569501', timestamp '2010-07-12 11:07:26.569588')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 375) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:19.569501', timestamp '2010-07-12 11:07:26.569588')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 375) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:19.569501', timestamp '2010-07-12 11:07:26.569588')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 375) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:19.569501', timestamp '2010-07-12 11:07:26.569588')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:07:19.612539', '2010-07-12 11:07:19.612539', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:19.569501', "updated_at" = '2010-07-12 11:07:19.619276', "created_at" = '2010-07-12 11:07:19.569705', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813200210', "ending_at" = '2010-07-12 11:07:26.569588', "event_group_id" = 210, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'8ff0f0e06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 375[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/8ff0f0e06fd3012d8d7d001f5bf1b5ba
Completed in 84ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:07:20) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-bzv820-0>}, "id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:20) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1c:df:76:56:7d,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813133914", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.5ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:07:27.800404', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:07:20.800542', NULL, NULL, E'1277813133914', E'90acbe306fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:20.800542', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:07:20.800292', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.809677', 376, '2010-07-12 11:07:20.809677', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.813285', 376, '2010-07-12 11:07:20.813285', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.814360', 376, '2010-07-12 11:07:20.814360', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.815371', 376, '2010-07-12 11:07:20.815371', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.816387', 376, '2010-07-12 11:07:20.816387', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.817385', 376, '2010-07-12 11:07:20.817385', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.818374', 376, '2010-07-12 11:07:20.818374', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.819701', 376, '2010-07-12 11:07:20.819701', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:20.820714', 376, '2010-07-12 11:07:20.820714', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 376) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 376) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 376) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:20.800292', timestamp '2010-07-12 11:07:27.800404')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:20.800292', "updated_at" = '2010-07-12 11:07:20.831548', "created_at" = '2010-07-12 11:07:20.800542', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813133914', "ending_at" = '2010-07-12 11:07:27.800404', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'90acbe306fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 376[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 376) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:20.800292', timestamp '2010-07-12 11:07:27.800404')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:20.843810', "pairing_mode" = 3 WHERE "id" = 376[0m
  [4;36;1mEvent Load (2.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 376) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:20.800292', timestamp '2010-07-12 11:07:27.800404')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 376) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:20.800292', timestamp '2010-07-12 11:07:27.800404')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 210) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:20.928745', "event_group_id" = 210 WHERE "id" = 376[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/90acbe306fd3012d8d7d001f5bf1b5ba
Completed in 172ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:21) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:23) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 84ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:24) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:26) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:28) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:07:28) [GET]
  Parameters: {"id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:35) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813214869", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:07:42.399707', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:07:35.399825', NULL, NULL, E'1277813214869', E'99606ce06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:35.399825', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:07:35.399620', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.407341', 377, '2010-07-12 11:07:35.407341', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.410913', 377, '2010-07-12 11:07:35.410913', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.411965', 377, '2010-07-12 11:07:35.411965', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.413490', 377, '2010-07-12 11:07:35.413490', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:07:35.421759', 377, NULL, E'996356506fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:35.421759', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 377) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 377) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 377) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.399620', timestamp '2010-07-12 11:07:42.399707')))) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 377) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.399620', timestamp '2010-07-12 11:07:42.399707')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 377) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.399620', timestamp '2010-07-12 11:07:42.399707')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 377) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.399620', timestamp '2010-07-12 11:07:42.399707')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:07:35.442827', '2010-07-12 11:07:35.442827', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (19.7ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:35.399620', "updated_at" = '2010-07-12 11:07:35.449349', "created_at" = '2010-07-12 11:07:35.399825', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813214869', "ending_at" = '2010-07-12 11:07:42.399707', "event_group_id" = 211, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'99606ce06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 377[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/99606ce06fd3012d8d7d001f5bf1b5ba
Completed in 168ms (DB: 34) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:07:35) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-22nun7-0>}, "id"=>"92ecf65065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'92ecf65065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 12ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/92ecf65065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:35) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813148500", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:07:42.642731', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:07:35.642860', NULL, NULL, E'1277813148500', E'998581206fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:35.642860', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:07:35.642631', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.650672', 378, '2010-07-12 11:07:35.650672', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.654281', 378, '2010-07-12 11:07:35.654281', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.655329', 378, '2010-07-12 11:07:35.655329', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.656338', 378, '2010-07-12 11:07:35.656338', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.657347', 378, '2010-07-12 11:07:35.657347', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.658726', 378, '2010-07-12 11:07:35.658726', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.659742', 378, '2010-07-12 11:07:35.659742', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:35.660760', 378, '2010-07-12 11:07:35.660760', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 378) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 378) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 378) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.642631', timestamp '2010-07-12 11:07:42.642731')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:35.642631', "updated_at" = '2010-07-12 11:07:35.671378', "created_at" = '2010-07-12 11:07:35.642860', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813148500', "ending_at" = '2010-07-12 11:07:42.642731', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'998581206fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 378[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 378) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.642631', timestamp '2010-07-12 11:07:42.642731')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:35.682599', "pairing_mode" = 3 WHERE "id" = 378[0m
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 378) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.642631', timestamp '2010-07-12 11:07:42.642731')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 378) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:35.642631', timestamp '2010-07-12 11:07:42.642731')))) [0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 211) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:35.763700', "event_group_id" = 211 WHERE "id" = 378[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/998581206fd3012d8d7d001f5bf1b5ba
Completed in 158ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:36) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:38) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:39) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:41) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:42) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:43) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:07:44) [GET]
  Parameters: {"id"=>"92ecf65065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'92ecf65065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/92ecf65065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#index (for 127.0.0.1 at 2010-07-12 13:07:51) [DELETE]
Rendering events/index
Completed in 31ms (View: 29, DB: 0) | 200 OK [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:56) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813234472", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (73.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:03.360206', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:07:56.360322', NULL, NULL, E'1277813234472', E'a5debe806fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:56.360322', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:07:56.360120', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.440420', 379, '2010-07-12 11:07:56.440420', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.446800', 379, '2010-07-12 11:07:56.446800', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.448566', 379, '2010-07-12 11:07:56.448566', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:07:56.459201', 379, NULL, E'a5ed44206fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:56.459201', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 379) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 379) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 379) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.360120', timestamp '2010-07-12 11:08:03.360206')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 379) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.360120', timestamp '2010-07-12 11:08:03.360206')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 379) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.360120', timestamp '2010-07-12 11:08:03.360206')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 379) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.360120', timestamp '2010-07-12 11:08:03.360206')))) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:07:56.478528', '2010-07-12 11:07:56.478528', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.7ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:56.360120', "updated_at" = '2010-07-12 11:07:56.485604', "created_at" = '2010-07-12 11:07:56.360322', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813234472', "ending_at" = '2010-07-12 11:08:03.360206', "event_group_id" = 212, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'a5debe806fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 379[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a5debe806fd3012d8d7d001f5bf1b5ba
Completed in 157ms (DB: 86) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:56) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1f:9f:cd:71:63,0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813168257", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:03.616891', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:07:56.617011', NULL, NULL, E'1277813168257', E'a605e9206fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:56.617011', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:07:56.616803', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.624589', 380, '2010-07-12 11:07:56.624589', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.628212', 380, '2010-07-12 11:07:56.628212', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.629306', 380, '2010-07-12 11:07:56.629306', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.630341', 380, '2010-07-12 11:07:56.630341', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.631416', 380, '2010-07-12 11:07:56.631416', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.632660', 380, '2010-07-12 11:07:56.632660', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.633680', 380, '2010-07-12 11:07:56.633680', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.634711', 380, '2010-07-12 11:07:56.634711', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:56.635728', 380, '2010-07-12 11:07:56.635728', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 380) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 380) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 380) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.616803', timestamp '2010-07-12 11:08:03.616891')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:56.616803', "updated_at" = '2010-07-12 11:07:56.646690', "created_at" = '2010-07-12 11:07:56.617011', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813168257', "ending_at" = '2010-07-12 11:08:03.616891', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'a605e9206fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 380[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 380) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.616803', timestamp '2010-07-12 11:08:03.616891')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:56.659169', "pairing_mode" = 3 WHERE "id" = 380[0m
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 380) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.616803', timestamp '2010-07-12 11:08:03.616891')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 380) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:56.616803', timestamp '2010-07-12 11:08:03.616891')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 212) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:07:56.742724', "event_group_id" = 212 WHERE "id" = 380[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a605e9206fd3012d8d7d001f5bf1b5ba
Completed in 237ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:07:57) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1pgd4ot-0>}, "id"=>"9eaccc1065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9eaccc1065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 12ms (View: 2, DB: 1) | 404 Not Found [http://localhost/uploads/9eaccc1065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:07:57) [POST]
  Parameters: {"event"=>{"bssids"=>"0:14:7c:bd:f:f2,0:1a:c1:14:e8:b3,0:1f:9f:ed:16:9f,0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:1d:68:69:89:a1,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813166015", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (25.4ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:04.866283', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 11:07:57.866403', NULL, NULL, E'1277813166015', E'a6c48d306fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:57.866403', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-12 11:07:57.866190', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.897537', 381, '2010-07-12 11:07:57.897537', E'00:14:7c:bd:0f:f2', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.901842', 381, '2010-07-12 11:07:57.901842', E'00:1a:c1:14:e8:b3', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.902911', 381, '2010-07-12 11:07:57.902911', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.903943', 381, '2010-07-12 11:07:57.903943', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.904960', 381, '2010-07-12 11:07:57.904960', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.906220', 381, '2010-07-12 11:07:57.906220', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.907260', 381, '2010-07-12 11:07:57.907260', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:07:57.908300', 381, '2010-07-12 11:07:57.908300', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:07:57.982898', 381, NULL, E'a6d5cf106fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:07:57.982898', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 381) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 381) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 381) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:57.866190', timestamp '2010-07-12 11:08:04.866283')))) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 381) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:57.866190', timestamp '2010-07-12 11:08:04.866283')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 381) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:57.866190', timestamp '2010-07-12 11:08:04.866283')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 381) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:07:57.866190', timestamp '2010-07-12 11:08:04.866283')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:07:58.004184', '2010-07-12 11:07:58.004184', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mThrow Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:07:57.866190', "updated_at" = '2010-07-12 11:07:58.013254', "created_at" = '2010-07-12 11:07:57.866403', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813166015', "ending_at" = '2010-07-12 11:08:04.866283', "event_group_id" = 213, "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.78', "uuid" = E'a6c48d306fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 381[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/a6c48d306fd3012d8d7d001f5bf1b5ba
Completed in 192ms (DB: 37) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:07:58) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (6.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 32ms (View: 1, DB: 6) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:00) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:01) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:08:01) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-jlqtu3-0>}, "id"=>"9f4cdc2065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9f4cdc2065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/9f4cdc2065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:02) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:02) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813235067", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSQL (12.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:09.390327', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 11:08:02.390466', NULL, NULL, E'1277813235067', E'a976dc606fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:02.390466', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'Throw', NULL, NULL, 31.315675, NULL, '2010-07-12 11:08:02.390214', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:02.410439', 382, '2010-07-12 11:08:02.410439', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:02.414379', 382, '2010-07-12 11:08:02.414379', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:02.415428', 382, '2010-07-12 11:08:02.415428', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:02.416438', 382, '2010-07-12 11:08:02.416438', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:08:02.490254', 382, NULL, E'a98593c06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:02.490254', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 382) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 382) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 382) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:02.390214', timestamp '2010-07-12 11:08:09.390327')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:02.390214', "updated_at" = '2010-07-12 11:08:02.501229', "created_at" = '2010-07-12 11:08:02.390466', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813235067', "ending_at" = '2010-07-12 11:08:09.390327', "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "pairing_mode" = 2, "local_ip" = E'192.168.0.77', "uuid" = E'a976dc606fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 382[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 382) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:02.390214', timestamp '2010-07-12 11:08:09.390327')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 382) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:02.390214', timestamp '2010-07-12 11:08:09.390327')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 382) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:02.390214', timestamp '2010-07-12 11:08:09.390327')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 213) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:02.520759', "event_group_id" = 213 WHERE "id" = 382[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a976dc606fd3012d8d7d001f5bf1b5ba
Completed in 165ms (DB: 28) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:02) [GET]
  Parameters: {"id"=>"9f388b5065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9f388b5065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9f388b5065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:03) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:06) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:13.561179', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:08:06.561298', NULL, NULL, E'1277813186698', E'abf34a106fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:06.561298', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:08:06.561095', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:06.569158', 383, '2010-07-12 11:08:06.569158', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:06.572757', 383, '2010-07-12 11:08:06.572757', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:06.573752', 383, '2010-07-12 11:08:06.573752', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:08:06.582106', 383, NULL, E'abf609006fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:06.582106', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 383) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 383) [0m
  [4;35;1mSQL (269.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 383) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:06.561095', timestamp '2010-07-12 11:08:13.561179')))) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 383) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:06.561095', timestamp '2010-07-12 11:08:13.561179')))) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 383) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:06.561095', timestamp '2010-07-12 11:08:13.561179')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 383) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:06.561095', timestamp '2010-07-12 11:08:13.561179')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:08:06.874065', '2010-07-12 11:08:06.874065', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:06.561095', "updated_at" = '2010-07-12 11:08:06.880261', "created_at" = '2010-07-12 11:08:06.561298', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:08:13.561179', "event_group_id" = 214, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'abf34a106fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 383[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/abf34a106fd3012d8d7d001f5bf1b5ba
Completed in 350ms (DB: 283) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:08:06) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-i13xog-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (2.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 79ms (View: 68, DB: 2) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:07) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:14.044438', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:08:07.044560', NULL, NULL, E'1277813120366', E'ac3d06c06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:07.044560', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:08:07.044342', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.053050', 384, '2010-07-12 11:08:07.053050', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.056686', 384, '2010-07-12 11:08:07.056686', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.057775', 384, '2010-07-12 11:08:07.057775', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.058874', 384, '2010-07-12 11:08:07.058874', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.059947', 384, '2010-07-12 11:08:07.059947', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.060941', 384, '2010-07-12 11:08:07.060941', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.062204', 384, '2010-07-12 11:08:07.062204', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.063196', 384, '2010-07-12 11:08:07.063196', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:07.064201', 384, '2010-07-12 11:08:07.064201', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 384) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 384) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 384) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:07.044342', timestamp '2010-07-12 11:08:14.044438')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:07.044342', "updated_at" = '2010-07-12 11:08:07.075774', "created_at" = '2010-07-12 11:08:07.044560', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 11:08:14.044438', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'ac3d06c06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 384[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 384) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:07.044342', timestamp '2010-07-12 11:08:14.044438')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:07.088360', "pairing_mode" = 3 WHERE "id" = 384[0m
  [4;36;1mEvent Load (2.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 384) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:07.044342', timestamp '2010-07-12 11:08:14.044438')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 384) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:07.044342', timestamp '2010-07-12 11:08:14.044438')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 214) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:07.172014', "event_group_id" = 214 WHERE "id" = 384[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/ac3d06c06fd3012d8d7d001f5bf1b5ba
Completed in 167ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:08) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 2, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:09) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:12) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:13) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:14) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:08:15) [GET]
  Parameters: {"id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:15) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:20) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813200210", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:27.703337', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:08:20.703456', NULL, NULL, E'1277813200210', E'b46135e06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:20.703456', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:08:20.703247', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:20.710931', 385, '2010-07-12 11:08:20.710931', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:20.714917', 385, '2010-07-12 11:08:20.714917', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:20.715968', 385, '2010-07-12 11:08:20.715968', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:20.716977', 385, '2010-07-12 11:08:20.716977', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:08:20.725258', 385, NULL, E'b46419406fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:20.725258', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 385) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 385) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 385) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:20.703247', timestamp '2010-07-12 11:08:27.703337')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 385) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:20.703247', timestamp '2010-07-12 11:08:27.703337')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 385) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:20.703247', timestamp '2010-07-12 11:08:27.703337')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 385) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:20.703247', timestamp '2010-07-12 11:08:27.703337')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:08:20.744454', '2010-07-12 11:08:20.744454', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:20.703247', "updated_at" = '2010-07-12 11:08:20.751527', "created_at" = '2010-07-12 11:08:20.703456', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813200210', "ending_at" = '2010-07-12 11:08:27.703337', "event_group_id" = 215, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'b46135e06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 385[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/b46135e06fd3012d8d7d001f5bf1b5ba
Completed in 81ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:08:21) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1n2mtch-0>}, "id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (2.4ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 82ms (View: 68, DB: 3) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:21) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1c:df:76:56:7d,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813133914", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.7ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:28.934193', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:08:21.934327', NULL, NULL, E'1277813133914', E'b51d05406fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:21.934327', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:08:21.934090', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.942024', 386, '2010-07-12 11:08:21.942024', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.946305', 386, '2010-07-12 11:08:21.946305', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.947412', 386, '2010-07-12 11:08:21.947412', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.948455', 386, '2010-07-12 11:08:21.948455', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.949458', 386, '2010-07-12 11:08:21.949458', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.950464', 386, '2010-07-12 11:08:21.950464', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.951876', 386, '2010-07-12 11:08:21.951876', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.952878', 386, '2010-07-12 11:08:21.952878', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:21.953861', 386, '2010-07-12 11:08:21.953861', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 386) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 386) [0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 386) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:21.934090', timestamp '2010-07-12 11:08:28.934193')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:21.934090', "updated_at" = '2010-07-12 11:08:21.966441', "created_at" = '2010-07-12 11:08:21.934327', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813133914', "ending_at" = '2010-07-12 11:08:28.934193', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'b51d05406fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 386[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 386) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:21.934090', timestamp '2010-07-12 11:08:28.934193')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:21.978500', "pairing_mode" = 3 WHERE "id" = 386[0m
  [4;36;1mEvent Load (2.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 386) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:21.934090', timestamp '2010-07-12 11:08:28.934193')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 386) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:21.934090', timestamp '2010-07-12 11:08:28.934193')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 215) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:22.063713', "event_group_id" = 215 WHERE "id" = 386[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b51d05406fd3012d8d7d001f5bf1b5ba
Completed in 177ms (DB: 22) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:23) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:24) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 19ms (View: 2, DB: 3) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:25) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 84ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:27) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:29) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:08:29) [GET]
  Parameters: {"id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:36) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813214869", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:43.529070', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:08:36.529190', NULL, NULL, E'1277813214869', E'bdd006506fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:36.529190', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:08:36.528976', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.536857', 387, '2010-07-12 11:08:36.536857', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.540566', 387, '2010-07-12 11:08:36.540566', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.541653', 387, '2010-07-12 11:08:36.541653', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.542736', 387, '2010-07-12 11:08:36.542736', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:08:36.551696', 387, NULL, E'bdd303f06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:36.551696', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 387) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 387) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 387) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.528976', timestamp '2010-07-12 11:08:43.529070')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 387) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.528976', timestamp '2010-07-12 11:08:43.529070')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 387) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.528976', timestamp '2010-07-12 11:08:43.529070')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 387) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.528976', timestamp '2010-07-12 11:08:43.529070')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:08:36.571638', '2010-07-12 11:08:36.571638', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:36.528976', "updated_at" = '2010-07-12 11:08:36.578699', "created_at" = '2010-07-12 11:08:36.529190', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813214869', "ending_at" = '2010-07-12 11:08:43.529070', "event_group_id" = 216, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'bdd006506fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 387[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/bdd006506fd3012d8d7d001f5bf1b5ba
Completed in 144ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:08:36) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-ylil8x-0>}, "id"=>"92ecf65065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (2.1ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'92ecf65065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 12ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/92ecf65065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:36) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813148500", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:08:43.755512', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:08:36.755635', NULL, NULL, E'1277813148500', E'bdf293d06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:36.755635', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:08:36.755420', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.763169', 388, '2010-07-12 11:08:36.763169', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.766831', 388, '2010-07-12 11:08:36.766831', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.767876', 388, '2010-07-12 11:08:36.767876', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.768889', 388, '2010-07-12 11:08:36.768889', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.769897', 388, '2010-07-12 11:08:36.769897', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.770968', 388, '2010-07-12 11:08:36.770968', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.772055', 388, '2010-07-12 11:08:36.772055', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:36.773057', 388, '2010-07-12 11:08:36.773057', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 388) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 388) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 388) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.755420', timestamp '2010-07-12 11:08:43.755512')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:36.755420', "updated_at" = '2010-07-12 11:08:36.783856', "created_at" = '2010-07-12 11:08:36.755635', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813148500', "ending_at" = '2010-07-12 11:08:43.755512', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'bdf293d06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 388[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 388) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.755420', timestamp '2010-07-12 11:08:43.755512')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:36.795251', "pairing_mode" = 3 WHERE "id" = 388[0m
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 388) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.755420', timestamp '2010-07-12 11:08:43.755512')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 388) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:36.755420', timestamp '2010-07-12 11:08:43.755512')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 216) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:36.817878', "event_group_id" = 216 WHERE "id" = 388[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/bdf293d06fd3012d8d7d001f5bf1b5ba
Completed in 225ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:37) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 20ms (View: 2, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:39) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:41) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:42) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 82ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:43) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:44) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 19ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:08:45) [GET]
  Parameters: {"id"=>"92ecf65065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'92ecf65065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/92ecf65065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#index (for 127.0.0.1 at 2010-07-12 13:08:52) [DELETE]
Rendering events/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:57) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813234472", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:04.451438', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:08:57.451556', NULL, NULL, E'1277813234472', E'ca4886906fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:57.451556', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:08:57.451349', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.459228', 389, '2010-07-12 11:08:57.459228', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.462934', 389, '2010-07-12 11:08:57.462934', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.464018', 389, '2010-07-12 11:08:57.464018', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:08:57.472945', 389, NULL, E'ca4b41906fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:57.472945', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 389) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 389) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 389) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.451349', timestamp '2010-07-12 11:09:04.451438')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 389) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.451349', timestamp '2010-07-12 11:09:04.451438')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 389) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.451349', timestamp '2010-07-12 11:09:04.451438')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 389) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.451349', timestamp '2010-07-12 11:09:04.451438')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:08:57.493591', '2010-07-12 11:08:57.493591', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:57.451349', "updated_at" = '2010-07-12 11:08:57.499790', "created_at" = '2010-07-12 11:08:57.451556', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813234472', "ending_at" = '2010-07-12 11:09:04.451438', "event_group_id" = 217, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'ca4886906fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 389[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/ca4886906fd3012d8d7d001f5bf1b5ba
Completed in 145ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:57) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1f:9f:cd:71:63,0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813168257", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:04.562525', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:08:57.562672', NULL, NULL, E'1277813168257', E'ca5972306fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:57.562672', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:08:57.562252', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.570711', 390, '2010-07-12 11:08:57.570711', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.574430', 390, '2010-07-12 11:08:57.574430', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.575518', 390, '2010-07-12 11:08:57.575518', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.639404', 390, '2010-07-12 11:08:57.639404', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.640604', 390, '2010-07-12 11:08:57.640604', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.641690', 390, '2010-07-12 11:08:57.641690', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.642770', 390, '2010-07-12 11:08:57.642770', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.643916', 390, '2010-07-12 11:08:57.643916', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:57.645034', 390, '2010-07-12 11:08:57.645034', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 390) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 390) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 390) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.562252', timestamp '2010-07-12 11:09:04.562525')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:57.562252', "updated_at" = '2010-07-12 11:08:57.656947', "created_at" = '2010-07-12 11:08:57.562672', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813168257', "ending_at" = '2010-07-12 11:09:04.562525', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'ca5972306fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 390[0m
  [4;35;1mSQL (3.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 390) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.562252', timestamp '2010-07-12 11:09:04.562525')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:57.670864', "pairing_mode" = 3 WHERE "id" = 390[0m
  [4;36;1mEvent Load (2.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 390) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.562252', timestamp '2010-07-12 11:09:04.562525')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 390) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:57.562252', timestamp '2010-07-12 11:09:04.562525')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 217) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:08:57.694054', "event_group_id" = 217 WHERE "id" = 390[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/ca5972306fd3012d8d7d001f5bf1b5ba
Completed in 235ms (DB: 20) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:08:58) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-18w6tw1-0>}, "id"=>"9eaccc1065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9eaccc1065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 2, DB: 1) | 404 Not Found [http://localhost/uploads/9eaccc1065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:08:58) [POST]
  Parameters: {"event"=>{"bssids"=>"0:14:7c:bd:f:f2,0:1a:c1:14:e8:b3,0:1f:9f:ed:16:9f,0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:1d:68:69:89:a1,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813166015", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:05.873212', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 11:08:58.873332', NULL, NULL, E'1277813166015', E'cb2178906fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:58.873332', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-12 11:08:58.873125', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.880957', 391, '2010-07-12 11:08:58.880957', E'00:14:7c:bd:0f:f2', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.884839', 391, '2010-07-12 11:08:58.884839', E'00:1a:c1:14:e8:b3', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.885868', 391, '2010-07-12 11:08:58.885868', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.886878', 391, '2010-07-12 11:08:58.886878', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.887865', 391, '2010-07-12 11:08:58.887865', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.888885', 391, '2010-07-12 11:08:58.888885', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.890000', 391, '2010-07-12 11:08:58.890000', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:08:58.890993', 391, '2010-07-12 11:08:58.890993', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:08:58.900862', 391, NULL, E'cb253cb06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:08:58.900862', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 391) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 391) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 391) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:58.873125', timestamp '2010-07-12 11:09:05.873212')))) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 391) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:58.873125', timestamp '2010-07-12 11:09:05.873212')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 391) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:58.873125', timestamp '2010-07-12 11:09:05.873212')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 391) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:08:58.873125', timestamp '2010-07-12 11:09:05.873212')))) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:08:58.979508', '2010-07-12 11:08:58.979508', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mThrow Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:08:58.873125', "updated_at" = '2010-07-12 11:08:58.988833', "created_at" = '2010-07-12 11:08:58.873332', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813166015', "ending_at" = '2010-07-12 11:09:05.873212', "event_group_id" = 218, "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.78', "uuid" = E'cb2178906fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 391[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/cb2178906fd3012d8d7d001f5bf1b5ba
Completed in 158ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:08:59) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:01) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:02) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 83ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:09:02) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1c0gjky-0>}, "id"=>"9f4cdc2065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9f4cdc2065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 2, DB: 1) | 404 Not Found [http://localhost/uploads/9f4cdc2065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:03) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:09:03) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813235067", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:10.363465', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 11:09:03.363594', NULL, NULL, E'1277813235067', E'cdcea0306fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:03.363594', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'Throw', NULL, NULL, 31.315675, NULL, '2010-07-12 11:09:03.363361', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:03.372167', 392, '2010-07-12 11:09:03.372167', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:03.376335', 392, '2010-07-12 11:09:03.376335', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:03.378613', 392, '2010-07-12 11:09:03.378613', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:03.380384', 392, '2010-07-12 11:09:03.380384', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:09:03.389380', 392, NULL, E'cdd21b806fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:03.389380', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 392) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 392) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 392) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:03.363361', timestamp '2010-07-12 11:09:10.363465')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.8ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:09:03.363361', "updated_at" = '2010-07-12 11:09:03.467940', "created_at" = '2010-07-12 11:09:03.363594', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813235067', "ending_at" = '2010-07-12 11:09:10.363465', "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "pairing_mode" = 2, "local_ip" = E'192.168.0.77', "uuid" = E'cdcea0306fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 392[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 392) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:03.363361', timestamp '2010-07-12 11:09:10.363465')))) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 392) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:03.363361', timestamp '2010-07-12 11:09:10.363465')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 392) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:03.363361', timestamp '2010-07-12 11:09:10.363465')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 218) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:09:03.489135', "event_group_id" = 218 WHERE "id" = 392[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/cdcea0306fd3012d8d7d001f5bf1b5ba
Completed in 162ms (DB: 22) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:03) [GET]
  Parameters: {"id"=>"9f388b5065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9f388b5065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9f388b5065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:04) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:05) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 81ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:09:06) [GET]
  Parameters: {"id"=>"9eaccc1065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9eaccc1065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/9eaccc1065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:09:10) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"Nexus One", "device"=>"passion", "brand"=>"google", "latitude"=>"23.128147", "timestamp"=>"1277813177349", "network_type"=>"EDGE", "network_operator"=>"CMCC", "client_uuid"=>"d31ceab4-cde9-4486-a58f-0685044d69c5", "location_accuracy"=>"648.0", "hoccability"=>"1", "manufacturer"=>"HTC", "type"=>"Throw", "longitude"=>"113.342146", "local_ip"=>"10.57.43.155", "version_sdk"=>"8"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.342146 23.128147)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:17.795781', E'Nexus One', E'google', E'passion', 23.128147, '2010-07-12 11:09:10.795896', NULL, E'EDGE', E'1277813177349', E'd23cb5e06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:10.795896', E'CMCC', E'd31ceab4-cde9-4486-a58f-0685044d69c5', E'0101000020E6100000431D56B8E5555C409C14E63DCE203740', 648.0, E'1', E'Throw', NULL, E'HTC', 113.342146, NULL, '2010-07-12 11:09:10.795691', E'10.57.43.155', 2, E'waiting', E'8') RETURNING "id"[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:09:10.809757', 393, NULL, E'd23e66406fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:10.809757', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 393) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 393) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 393) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:10.795691', timestamp '2010-07-12 11:09:17.795781')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 393) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:10.795691', timestamp '2010-07-12 11:09:17.795781')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:09:10.828178', '2010-07-12 11:09:10.828178', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.342146 23.128147)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:09:10.795691', "updated_at" = '2010-07-12 11:09:10.833278', "created_at" = '2010-07-12 11:09:10.795896', "longitude" = 113.342146, "hoccability" = E'1', "client_uuid" = E'd31ceab4-cde9-4486-a58f-0685044d69c5', "device" = E'passion', "point" = E'0101000020E6100000431D56B8E5555C409C14E63DCE203740', "network_operator" = E'CMCC', "latitude" = 23.128147, "timestamp" = E'1277813177349', "ending_at" = '2010-07-12 11:09:17.795781', "manufacturer" = E'HTC', "event_group_id" = 219, "location_accuracy" = 648.0, "version_sdk" = E'8', "local_ip" = E'10.57.43.155', "uuid" = E'd23cb5e06fd3012d8d7d001f5bf1b5ba', "model" = E'Nexus One', "brand" = E'google', "api_version" = 2, "type" = E'Throw', "network_type" = E'EDGE' WHERE "id" = 393[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/d23cb5e06fd3012d8d7d001f5bf1b5ba
Completed in 64ms (DB: 12) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:09:11) [POST]
  Parameters: {"event"=>{"bssids"=>"", "device"=>"sapphire", "model"=>"HTC Magic", "brand"=>"HiAPK.com", "latitude"=>"23.12637", "timestamp"=>"1277813160387", "network_type"=>"UMTS", "network_operator"=>"中国联\351\200\232", "client_uuid"=>"9dc2b5f1-940d-40de-b04d-7c8cfc36061c", "location_accuracy"=>"1066.0", "hoccability"=>"1", "type"=>"Catch", "manufacturer"=>"HTC", "longitude"=>"113.339867", "local_ip"=>"172.16.8.119", "version_sdk"=>"4"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:18.953741', E'HTC Magic', E'HiAPK.com', E'sapphire', 23.12637, '2010-07-12 11:09:11.953868', NULL, E'UMTS', E'1277813160387', E'd2ed65f06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:11.953868', E'中国联通', E'9dc2b5f1-940d-40de-b04d-7c8cfc36061c', E'0101000020E6100000567F8461C0555C400E32C9C859203740', 1066.0, E'1', E'Catch', NULL, E'HTC', 113.339867, NULL, '2010-07-12 11:09:11.953637', E'172.16.8.119', 2, E'waiting', E'4') RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 394) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 394) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 394) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326), 0.0592611890832252) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1066.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:11.953637', timestamp '2010-07-12 11:09:18.953741')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;35;1mCatch Update (0.4ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:09:11.953637', "updated_at" = '2010-07-12 11:09:11.970389', "created_at" = '2010-07-12 11:09:11.953868', "longitude" = 113.339867, "hoccability" = E'1', "client_uuid" = E'9dc2b5f1-940d-40de-b04d-7c8cfc36061c', "device" = E'sapphire', "point" = E'0101000020E6100000567F8461C0555C400E32C9C859203740', "network_operator" = E'中国联通', "latitude" = 23.12637, "timestamp" = E'1277813160387', "ending_at" = '2010-07-12 11:09:18.953741', "manufacturer" = E'HTC', "location_accuracy" = 1066.0, "version_sdk" = E'4', "pairing_mode" = 1, "local_ip" = E'172.16.8.119', "uuid" = E'd2ed65f06fd3012d8d7d001f5bf1b5ba', "model" = E'HTC Magic', "brand" = E'HiAPK.com', "api_version" = 2, "type" = E'Catch', "network_type" = E'UMTS' WHERE "id" = 394[0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 394) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326), 0.0592611890832252) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1066.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:11.953637', timestamp '2010-07-12 11:09:18.953741')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 219) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;35;1mCatch Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:09:11.981485', "event_group_id" = 219 WHERE "id" = 394[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/d2ed65f06fd3012d8d7d001f5bf1b5ba
Completed in 115ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:09:13) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-vk7c71-0>}, "id"=>"a5c98a4065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (1.4ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'a5c98a4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 13ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/a5c98a4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:09:20) [GET]
  Parameters: {"id"=>"a5c98a4065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'a5c98a4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/a5c98a4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:09:36) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813272165", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:43.155537', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:09:36.155662', NULL, NULL, E'1277813272165', E'e15a4d506fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:36.155662', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:09:36.155447', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:36.162891', 395, '2010-07-12 11:09:36.162891', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:36.229001', 395, '2010-07-12 11:09:36.229001', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:36.230187', 395, '2010-07-12 11:09:36.230187', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:09:36.239112', 395, NULL, E'e16693906fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:36.239112', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 395) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 395) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 395) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:36.155447', timestamp '2010-07-12 11:09:43.155537')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 395) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:36.155447', timestamp '2010-07-12 11:09:43.155537')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 395) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:36.155447', timestamp '2010-07-12 11:09:43.155537')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 395) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:36.155447', timestamp '2010-07-12 11:09:43.155537')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:09:36.258003', '2010-07-12 11:09:36.258003', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:09:36.155447', "updated_at" = '2010-07-12 11:09:36.264211', "created_at" = '2010-07-12 11:09:36.155662', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813272165', "ending_at" = '2010-07-12 11:09:43.155537', "event_group_id" = 220, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'e15a4d506fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 395[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/e15a4d506fd3012d8d7d001f5bf1b5ba
Completed in 144ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:09:37) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b8:d5:ed,0:15:e9:a:e0:24,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813205843", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:44.328789', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:09:37.328904', NULL, NULL, E'1277813205843', E'e20d53a06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:37.328904', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:09:37.328701', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.336368', 396, '2010-07-12 11:09:37.336368', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.339849', 396, '2010-07-12 11:09:37.339849', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.340878', 396, '2010-07-12 11:09:37.340878', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.341896', 396, '2010-07-12 11:09:37.341896', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.342932', 396, '2010-07-12 11:09:37.342932', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.343958', 396, '2010-07-12 11:09:37.343958', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.345022', 396, '2010-07-12 11:09:37.345022', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.346035', 396, '2010-07-12 11:09:37.346035', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.410791', 396, '2010-07-12 11:09:37.410791', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:37.412373', 396, '2010-07-12 11:09:37.412373', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 396) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 396) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 396) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:37.328701', timestamp '2010-07-12 11:09:44.328789')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:09:37.328701', "updated_at" = '2010-07-12 11:09:37.424436', "created_at" = '2010-07-12 11:09:37.328904', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813205843', "ending_at" = '2010-07-12 11:09:44.328789', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'e20d53a06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 396[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 396) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:37.328701', timestamp '2010-07-12 11:09:44.328789')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:09:37.438520', "pairing_mode" = 3 WHERE "id" = 396[0m
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 396) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:37.328701', timestamp '2010-07-12 11:09:44.328789')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 396) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:37.328701', timestamp '2010-07-12 11:09:44.328789')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 220) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:09:37.462537', "event_group_id" = 220 WHERE "id" = 396[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/e20d53a06fd3012d8d7d001f5bf1b5ba
Completed in 240ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:37) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 20ms (View: 3, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:09:38) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-l78mcn-0>}, "id"=>"b51fd4b065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'b51fd4b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 12ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/b51fd4b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:39) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:40) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:41) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 83ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:42) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 18ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:43) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:09:44) [GET]
  Parameters: {"id"=>"b51fd4b065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'b51fd4b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/b51fd4b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:09:46) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:09:52) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813281621", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"SweepOut", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSQL (66.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:09:59.150195', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 11:09:52.150317', NULL, NULL, E'1277813281621', E'eae2e4e06fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:52.150317', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'SweepOut', NULL, NULL, 31.315675, NULL, '2010-07-12 11:09:52.150108', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:52.223634', 397, '2010-07-12 11:09:52.223634', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:52.230272', 397, '2010-07-12 11:09:52.230272', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:52.232674', 397, '2010-07-12 11:09:52.232674', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:09:52.234205', 397, '2010-07-12 11:09:52.234205', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:09:52.243940', 397, NULL, E'eaf0bd006fd3012d8d7d001f5bf1b5ba', '2010-07-12 11:09:52.243940', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 397) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 397) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 397) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:52.150108', timestamp '2010-07-12 11:09:59.150195')))) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 397) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:52.150108', timestamp '2010-07-12 11:09:59.150195')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 397) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:52.150108', timestamp '2010-07-12 11:09:59.150195')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 397) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:09:52.150108', timestamp '2010-07-12 11:09:59.150195')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:09:52.264573', '2010-07-12 11:09:52.264573', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:09:52.150108', "updated_at" = '2010-07-12 11:09:52.271113', "created_at" = '2010-07-12 11:09:52.150317', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813281621', "ending_at" = '2010-07-12 11:09:59.150195', "event_group_id" = 221, "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.77', "uuid" = E'eae2e4e06fd3012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 397[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/eae2e4e06fd3012d8d7d001f5bf1b5ba
Completed in 154ms (DB: 80) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:09:52) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-11x7snl-0>}, "id"=>"bd87e2f065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (2.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'bd87e2f065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 12ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/bd87e2f065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:14:07) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:14:14.998174', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:14:07.998291', NULL, NULL, E'1277813186698', E'836232906fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:07.998291', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:14:07.998086', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.006719', 398, '2010-07-12 11:14:08.006719', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.010536', 398, '2010-07-12 11:14:08.010536', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.011630', 398, '2010-07-12 11:14:08.011630', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:14:08.019585', 398, NULL, E'836502806fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:08.019585', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 398) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 398) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:14:08.040891', '2010-07-12 11:14:08.040891', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:14:07.998086', "updated_at" = '2010-07-12 11:14:08.048000', "created_at" = '2010-07-12 11:14:07.998291', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:14:14.998174', "event_group_id" = 222, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'836232906fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 398[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/836232906fd4012d8d7d001f5bf1b5ba
Completed in 81ms (DB: 17) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:08) [GET]
  Parameters: {"id"=>"836232906fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'836232906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 398) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 398) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 398) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:07.998086', timestamp '2010-07-12 11:14:14.998174')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 222) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 398) LIMIT 1[0m
Completed in 128ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/836232906fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:14:08) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-16oq9vp-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:14:08) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:14:15.292470', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:14:08.292594', NULL, NULL, E'1277813120366', E'838f19f06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:08.292594', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:14:08.292375', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.300129', 399, '2010-07-12 11:14:08.300129', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.303953', 399, '2010-07-12 11:14:08.303953', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.305189', 399, '2010-07-12 11:14:08.305189', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.306229', 399, '2010-07-12 11:14:08.306229', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.307280', 399, '2010-07-12 11:14:08.307280', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.308281', 399, '2010-07-12 11:14:08.308281', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.309306', 399, '2010-07-12 11:14:08.309306', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.310322', 399, '2010-07-12 11:14:08.310322', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:08.311338', 399, '2010-07-12 11:14:08.311338', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 399) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 399) [0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 399) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:08.292375', timestamp '2010-07-12 11:14:15.292470')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:14:08.292375', "updated_at" = '2010-07-12 11:14:08.386660', "created_at" = '2010-07-12 11:14:08.292594', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 11:14:15.292470', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 399[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 399) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:08.292375', timestamp '2010-07-12 11:14:15.292470')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:14:08.400021', "pairing_mode" = 3 WHERE "id" = 399[0m
  [4;36;1mEvent Load (2.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 399) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:08.292375', timestamp '2010-07-12 11:14:15.292470')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 399) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:08.292375', timestamp '2010-07-12 11:14:15.292470')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:14:08.423021', "event_group_id" = 222 WHERE "id" = 399[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba
Completed in 169ms (DB: 20) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:09) [GET]
  Parameters: {"id"=>"838f19f06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 222) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
Completed in 110ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:09) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:10) [GET]
  Parameters: {"id"=>"838f19f06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 222) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:10) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 89ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:11) [GET]
  Parameters: {"id"=>"838f19f06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 222) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:12) [GET]
  Parameters: {"id"=>"838f19f06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 222) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:13) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 81ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:14) [GET]
  Parameters: {"id"=>"838f19f06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 222) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:15) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:15) [GET]
  Parameters: {"id"=>"838f19f06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 222) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 222)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 222)) [0m
  [4;35;1mEvent Update (3.2ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 222) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 398) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
Completed in 117ms (View: 1, DB: 10) | 200 OK [http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:16) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:16) [GET]
  Parameters: {"id"=>"838f19f06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (5.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'838f19f06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 222) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 222) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 398) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 399) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 7) | 200 OK [http://localhost/events/838f19f06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:14:17) [GET]
  Parameters: {"id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:17) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:14:22) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813200210", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:14:29.580695', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:14:22.580818', NULL, NULL, E'1277813200210', E'8c1350206fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:22.580818', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:14:22.580605', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:22.588474', 400, '2010-07-12 11:14:22.588474', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:22.592070', 400, '2010-07-12 11:14:22.592070', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:22.593139', 400, '2010-07-12 11:14:22.593139', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:22.594187', 400, '2010-07-12 11:14:22.594187', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:14:22.602430', 400, NULL, E'8c162d106fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:22.602430', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 400) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 400) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:14:22.621147', '2010-07-12 11:14:22.621147', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:14:22.580605', "updated_at" = '2010-07-12 11:14:22.628409', "created_at" = '2010-07-12 11:14:22.580818', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813200210', "ending_at" = '2010-07-12 11:14:29.580695', "event_group_id" = 223, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'8c1350206fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 400[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/8c1350206fd4012d8d7d001f5bf1b5ba
Completed in 80ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:23) [GET]
  Parameters: {"id"=>"8c1350206fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8c1350206fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 400) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 400) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 400) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:22.580605', timestamp '2010-07-12 11:14:29.580695')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 223) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 400) LIMIT 1[0m
Completed in 119ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/8c1350206fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:14:23) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1hc6vxm-0>}, "id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (2.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 12ms (View: 1, DB: 3) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:14:23) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1c:df:76:56:7d,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813133914", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:14:30.887288', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:14:23.887416', NULL, NULL, E'1277813133914', E'8cdaae106fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:23.887416', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:14:23.887183', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.895098', 401, '2010-07-12 11:14:23.895098', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.898629', 401, '2010-07-12 11:14:23.898629', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.899658', 401, '2010-07-12 11:14:23.899658', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.900703', 401, '2010-07-12 11:14:23.900703', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.901766', 401, '2010-07-12 11:14:23.901766', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.902749', 401, '2010-07-12 11:14:23.902749', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.903768', 401, '2010-07-12 11:14:23.903768', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.904790', 401, '2010-07-12 11:14:23.904790', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:23.905774', 401, '2010-07-12 11:14:23.905774', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 401) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 401) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 401) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:23.887183', timestamp '2010-07-12 11:14:30.887288')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:14:23.887183', "updated_at" = '2010-07-12 11:14:23.978828', "created_at" = '2010-07-12 11:14:23.887416', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813133914', "ending_at" = '2010-07-12 11:14:30.887288', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 401[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 401) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:23.887183', timestamp '2010-07-12 11:14:30.887288')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:14:23.991250', "pairing_mode" = 3 WHERE "id" = 401[0m
  [4;36;1mEvent Load (2.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 401) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:23.887183', timestamp '2010-07-12 11:14:30.887288')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 401) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:23.887183', timestamp '2010-07-12 11:14:30.887288')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:14:24.014765', "event_group_id" = 223 WHERE "id" = 401[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba
Completed in 167ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:24) [GET]
  Parameters: {"id"=>"8cdaae106fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 223) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:25) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:25) [GET]
  Parameters: {"id"=>"8cdaae106fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 223) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:26) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:26) [GET]
  Parameters: {"id"=>"8cdaae106fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 223) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:27) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:28) [GET]
  Parameters: {"id"=>"8cdaae106fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 223) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
Completed in 104ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:29) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:29) [GET]
  Parameters: {"id"=>"8cdaae106fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 223) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 223)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 223)) [0m
  [4;36;1mEvent Update (3.0ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 223) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 400) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 10) | 200 OK [http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:30) [GET]
  Parameters: {"id"=>"8cdaae106fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 400) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 6) | 200 OK [http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:31) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (4.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 19ms (View: 1, DB: 5) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:31) [GET]
  Parameters: {"id"=>"8cdaae106fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8cdaae106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 223) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 223) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 400) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 401) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 6) | 200 OK [http://localhost/events/8cdaae106fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:14:32) [GET]
  Parameters: {"id"=>"8a3b082065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8a3b082065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8a3b082065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:14:39) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813214869", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:14:46.135978', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:14:39.136097', NULL, NULL, E'1277813214869', E'95f172d06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:39.136097', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:14:39.135888', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.143640', 402, '2010-07-12 11:14:39.143640', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.147353', 402, '2010-07-12 11:14:39.147353', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.148453', 402, '2010-07-12 11:14:39.148453', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.149528', 402, '2010-07-12 11:14:39.149528', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:14:39.158695', 402, NULL, E'95f462f06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:39.158695', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 402) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 402) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:14:39.177833', '2010-07-12 11:14:39.177833', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:14:39.135888', "updated_at" = '2010-07-12 11:14:39.184370', "created_at" = '2010-07-12 11:14:39.136097', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813214869', "ending_at" = '2010-07-12 11:14:46.135978', "event_group_id" = 224, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'95f172d06fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 402[0m
  [4;35;1mSQL (2.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/95f172d06fd4012d8d7d001f5bf1b5ba
Completed in 150ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:39) [GET]
  Parameters: {"id"=>"95f172d06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'95f172d06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 402) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 402) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 402) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.135888', timestamp '2010-07-12 11:14:46.135978')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (86.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 224) [0m
  [4;35;1mEvent Load (117.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 402) LIMIT 1[0m
Completed in 346ms (View: 1, DB: 216) | 202 Accepted [http://localhost/events/95f172d06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:14:39) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1ie5ul-0>}, "id"=>"92ecf65065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (2.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'92ecf65065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 13ms (View: 1, DB: 3) | 404 Not Found [http://localhost/uploads/92ecf65065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:14:39) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813148500", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:14:46.655234', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:14:39.655351', NULL, NULL, E'1277813148500', E'9640ae406fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:14:39.655351', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:14:39.655144', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.663018', 403, '2010-07-12 11:14:39.663018', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.666519', 403, '2010-07-12 11:14:39.666519', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.667532', 403, '2010-07-12 11:14:39.667532', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.668526', 403, '2010-07-12 11:14:39.668526', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.669514', 403, '2010-07-12 11:14:39.669514', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.670700', 403, '2010-07-12 11:14:39.670700', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.671736', 403, '2010-07-12 11:14:39.671736', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:14:39.672740', 403, '2010-07-12 11:14:39.672740', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 403) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 403) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 403) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.655144', timestamp '2010-07-12 11:14:46.655234')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:14:39.655144', "updated_at" = '2010-07-12 11:14:39.683460', "created_at" = '2010-07-12 11:14:39.655351', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813148500', "ending_at" = '2010-07-12 11:14:46.655234', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 403[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 403) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.655144', timestamp '2010-07-12 11:14:46.655234')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:14:39.759513', "pairing_mode" = 3 WHERE "id" = 403[0m
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 403) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.655144', timestamp '2010-07-12 11:14:46.655234')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 403) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:14:39.655144', timestamp '2010-07-12 11:14:46.655234')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:14:39.782561', "event_group_id" = 224 WHERE "id" = 403[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba
Completed in 166ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:40) [GET]
  Parameters: {"id"=>"9640ae406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 224) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
Completed in 108ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:40) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:41) [GET]
  Parameters: {"id"=>"9640ae406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 224) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:43) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:43) [GET]
  Parameters: {"id"=>"9640ae406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 224) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
Completed in 115ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:44) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:44) [GET]
  Parameters: {"id"=>"9640ae406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 224) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:45) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 79ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:46) [GET]
  Parameters: {"id"=>"9640ae406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 224) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 224)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 224)) [0m
  [4;35;1mEvent Update (2.5ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 224) [0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 402) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
Completed in 52ms (View: 1, DB: 9) | 200 OK [http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:46) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:47) [GET]
  Parameters: {"id"=>"9640ae406fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (6.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 402) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
Completed in 103ms (View: 1, DB: 8) | 200 OK [http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:47) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (4.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 18ms (View: 1, DB: 4) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:14:48) [GET]
  Parameters: {"id"=>"9640ae406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9640ae406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 224) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 224) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 402) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 403) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/9640ae406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:14:48) [GET]
  Parameters: {"id"=>"92ecf65065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'92ecf65065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/92ecf65065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#index (for 127.0.0.1 at 2010-07-12 13:14:55) [DELETE]
Rendering events/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:00) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813234472", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:08.020460', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:15:01.020577', NULL, NULL, E'1277813234472', E'a2fcc1a06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:01.020577', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:15:01.020374', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.027884', 404, '2010-07-12 11:15:01.027884', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.031447', 404, '2010-07-12 11:15:01.031447', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.032565', 404, '2010-07-12 11:15:01.032565', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:15:01.041057', 404, NULL, E'a2ff6f606fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:01.041057', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 404) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 404) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:15:01.087800', '2010-07-12 11:15:01.087800', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:01.020374', "updated_at" = '2010-07-12 11:15:01.094130', "created_at" = '2010-07-12 11:15:01.020577', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813234472', "ending_at" = '2010-07-12 11:15:08.020460', "event_group_id" = 225, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'a2fcc1a06fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 404[0m
  [4;36;1mSQL (17.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/a2fcc1a06fd4012d8d7d001f5bf1b5ba
Completed in 185ms (DB: 30) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:01) [GET]
  Parameters: {"id"=>"a2fcc1a06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a2fcc1a06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 404) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 404) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 404) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.020374', timestamp '2010-07-12 11:15:08.020460')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 225) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 404) LIMIT 1[0m
Completed in 124ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/a2fcc1a06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:01) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1f:9f:cd:71:63,0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813168257", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:08.329431', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:15:01.329549', NULL, NULL, E'1277813168257', E'a32be6606fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:01.329549', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:15:01.329340', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.337268', 405, '2010-07-12 11:15:01.337268', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.340827', 405, '2010-07-12 11:15:01.340827', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.341863', 405, '2010-07-12 11:15:01.341863', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.342895', 405, '2010-07-12 11:15:01.342895', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.343902', 405, '2010-07-12 11:15:01.343902', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.345226', 405, '2010-07-12 11:15:01.345226', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.346282', 405, '2010-07-12 11:15:01.346282', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.347271', 405, '2010-07-12 11:15:01.347271', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:01.348269', 405, '2010-07-12 11:15:01.348269', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 405) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 405) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 405) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.329340', timestamp '2010-07-12 11:15:08.329431')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:01.329340', "updated_at" = '2010-07-12 11:15:01.359638', "created_at" = '2010-07-12 11:15:01.329549', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813168257', "ending_at" = '2010-07-12 11:15:08.329431', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 405[0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 405) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.329340', timestamp '2010-07-12 11:15:08.329431')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:15:01.434275', "pairing_mode" = 3 WHERE "id" = 405[0m
  [4;36;1mEvent Load (2.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 405) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.329340', timestamp '2010-07-12 11:15:08.329431')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 405) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:01.329340', timestamp '2010-07-12 11:15:08.329431')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:15:01.457599', "event_group_id" = 225 WHERE "id" = 405[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba
Completed in 169ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:15:02) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1f8y2y1-0>}, "id"=>"9eaccc1065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9eaccc1065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 12ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/9eaccc1065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:02) [GET]
  Parameters: {"id"=>"a32be6606fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;35;1mEvent Load (1.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 225) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
Completed in 112ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:02) [POST]
  Parameters: {"event"=>{"bssids"=>"0:14:7c:bd:f:f2,0:1a:c1:14:e8:b3,0:1f:9f:ed:16:9f,0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:1d:68:69:89:a1,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813166015", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:09.698963', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 11:15:02.699086', NULL, NULL, E'1277813166015', E'a3fcdfc06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:02.699086', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-12 11:15:02.698868', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.706661', 406, '2010-07-12 11:15:02.706661', E'00:14:7c:bd:0f:f2', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.710214', 406, '2010-07-12 11:15:02.710214', E'00:1a:c1:14:e8:b3', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.711264', 406, '2010-07-12 11:15:02.711264', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.712261', 406, '2010-07-12 11:15:02.712261', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.713265', 406, '2010-07-12 11:15:02.713265', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.714283', 406, '2010-07-12 11:15:02.714283', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.715273', 406, '2010-07-12 11:15:02.715273', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:02.716312', 406, '2010-07-12 11:15:02.716312', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:15:02.726636', 406, NULL, E'a400a4c06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:02.726636', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:15:02.744748', '2010-07-12 11:15:02.744748', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:02.698868', "updated_at" = '2010-07-12 11:15:02.813394', "created_at" = '2010-07-12 11:15:02.699086', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813166015', "ending_at" = '2010-07-12 11:15:09.698963', "event_group_id" = 226, "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.78', "uuid" = E'a3fcdfc06fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 406[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a3fcdfc06fd4012d8d7d001f5bf1b5ba
Completed in 154ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:02) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:02) [GET]
  Parameters: {"id"=>"a3fcdfc06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a3fcdfc06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 226) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 226) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 226)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 226) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 226) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 226) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 406) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/a3fcdfc06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:04) [GET]
  Parameters: {"id"=>"a32be6606fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 225) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:05) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:05) [GET]
  Parameters: {"id"=>"a32be6606fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 225) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:05) [GET]
  Parameters: {"id"=>"a3fcdfc06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a3fcdfc06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 226) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 226) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 226)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 226) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 226) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 226) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 406) LIMIT 1[0m
Completed in 64ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/a3fcdfc06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:06) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 4) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:15:06) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-42694e-0>}, "id"=>"9f4cdc2065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (1.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9f4cdc2065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/9f4cdc2065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:06) [GET]
  Parameters: {"id"=>"a32be6606fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 225) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
Completed in 104ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:06) [GET]
  Parameters: {"id"=>"a3fcdfc06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a3fcdfc06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 226) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 226) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 406) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 406) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:02.698868', timestamp '2010-07-12 11:15:09.698963')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 226)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 226) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 226) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 226) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 406) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/a3fcdfc06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:07) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:07) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813235067", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:14.830231', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 11:15:07.830352', NULL, NULL, E'1277813235067', E'a70bd8006fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:07.830352', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'Throw', NULL, NULL, 31.315675, NULL, '2010-07-12 11:15:07.830140', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:07.838183', 407, '2010-07-12 11:15:07.838183', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:07.841917', 407, '2010-07-12 11:15:07.841917', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:07.843044', 407, '2010-07-12 11:15:07.843044', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:07.844094', 407, '2010-07-12 11:15:07.844094', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:15:07.853022', 407, NULL, E'a70edb206fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:07.853022', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 407) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 407) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 407) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:07.830140', timestamp '2010-07-12 11:15:14.830231')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:07.830140', "updated_at" = '2010-07-12 11:15:07.863529', "created_at" = '2010-07-12 11:15:07.830352', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813235067', "ending_at" = '2010-07-12 11:15:14.830231', "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "pairing_mode" = 2, "local_ip" = E'192.168.0.77', "uuid" = E'a70bd8006fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 407[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 407) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:07.830140', timestamp '2010-07-12 11:15:14.830231')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 407) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:07.830140', timestamp '2010-07-12 11:15:14.830231')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 407) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:07.830140', timestamp '2010-07-12 11:15:14.830231')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 226) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:15:07.882802', "event_group_id" = 226 WHERE "id" = 407[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a70bd8006fd4012d8d7d001f5bf1b5ba
Completed in 159ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:07) [GET]
  Parameters: {"id"=>"a32be6606fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 225) [0m
  [4;35;1mEvent Load (1.1ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
Completed in 107ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:08) [GET]
  Parameters: {"id"=>"9f388b5065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9f388b5065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9f388b5065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:09) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:09) [GET]
  Parameters: {"id"=>"a32be6606fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 225) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 225)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 225)) [0m
  [4;35;1mEvent Update (26.9ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 225) [0m
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
  [4;35;1mUpload Load (0.4ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 404) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
Completed in 85ms (View: 1, DB: 34) | 200 OK [http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:10) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:11) [GET]
  Parameters: {"id"=>"a32be6606fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a32be6606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 225) [0m
  [4;36;1mEvent Load (2.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 225) [0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 404) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 405) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 8) | 200 OK [http://localhost/events/a32be6606fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:15:11) [GET]
  Parameters: {"id"=>"9eaccc1065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9eaccc1065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/9eaccc1065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.6ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:11) [GET]
  Parameters: {"id"=>"a70bd8006fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a70bd8006fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 226) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 226) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 226)) [0m
  [4;35;1mEvent Update (2.4ms)[0m   [0mUPDATE "events" SET state = 'collision' WHERE (event_group_id = 226) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 407) LIMIT 1[0m
Completed in 108ms (View: 1, DB: 9) | 409 Conflict [http://localhost/events/a70bd8006fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:15) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"Nexus One", "device"=>"passion", "brand"=>"google", "latitude"=>"23.128147", "timestamp"=>"1277813177349", "network_type"=>"EDGE", "network_operator"=>"CMCC", "client_uuid"=>"d31ceab4-cde9-4486-a58f-0685044d69c5", "location_accuracy"=>"648.0", "hoccability"=>"1", "manufacturer"=>"HTC", "type"=>"Throw", "longitude"=>"113.342146", "local_ip"=>"10.57.43.155", "version_sdk"=>"8"}}
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(113.342146 23.128147)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:22.613650', E'Nexus One', E'google', E'passion', 23.128147, '2010-07-12 11:15:15.613783', NULL, E'EDGE', E'1277813177349', E'abaf7ff06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:15.613783', E'CMCC', E'd31ceab4-cde9-4486-a58f-0685044d69c5', E'0101000020E6100000431D56B8E5555C409C14E63DCE203740', 648.0, E'1', E'Throw', NULL, E'HTC', 113.342146, NULL, '2010-07-12 11:15:15.613560', E'10.57.43.155', 2, E'waiting', E'8') RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:15:15.628485', 408, NULL, E'abb139a06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:15.628485', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 408) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 408) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 408) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:15.613560', timestamp '2010-07-12 11:15:22.613650')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 408) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:15.613560', timestamp '2010-07-12 11:15:22.613650')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:15:15.645624', '2010-07-12 11:15:15.645624', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(113.342146 23.128147)', 4326)[0m
  [4;35;1mThrow Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:15.613560', "updated_at" = '2010-07-12 11:15:15.650816', "created_at" = '2010-07-12 11:15:15.613783', "longitude" = 113.342146, "hoccability" = E'1', "client_uuid" = E'd31ceab4-cde9-4486-a58f-0685044d69c5', "device" = E'passion', "point" = E'0101000020E6100000431D56B8E5555C409C14E63DCE203740', "network_operator" = E'CMCC', "latitude" = 23.128147, "timestamp" = E'1277813177349', "ending_at" = '2010-07-12 11:15:22.613650', "manufacturer" = E'HTC', "event_group_id" = 227, "location_accuracy" = 648.0, "version_sdk" = E'8', "local_ip" = E'10.57.43.155', "uuid" = E'abaf7ff06fd4012d8d7d001f5bf1b5ba', "model" = E'Nexus One', "brand" = E'google', "api_version" = 2, "type" = E'Throw', "network_type" = E'EDGE' WHERE "id" = 408[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/abaf7ff06fd4012d8d7d001f5bf1b5ba
Completed in 63ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:15) [GET]
  Parameters: {"id"=>"abaf7ff06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'abaf7ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mAccessPointSighting Load (0.9ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 408) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 408) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 408) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:15.613560', timestamp '2010-07-12 11:15:22.613650')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 408) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:15.613560', timestamp '2010-07-12 11:15:22.613650')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
Completed in 119ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/abaf7ff06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:16) [POST]
  Parameters: {"event"=>{"bssids"=>"", "device"=>"sapphire", "model"=>"HTC Magic", "brand"=>"HiAPK.com", "latitude"=>"23.12637", "timestamp"=>"1277813160387", "network_type"=>"UMTS", "network_operator"=>"中国联\351\200\232", "client_uuid"=>"9dc2b5f1-940d-40de-b04d-7c8cfc36061c", "location_accuracy"=>"1066.0", "hoccability"=>"1", "type"=>"Catch", "manufacturer"=>"HTC", "longitude"=>"113.339867", "local_ip"=>"172.16.8.119", "version_sdk"=>"4"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:23.845835', E'HTC Magic', E'HiAPK.com', E'sapphire', 23.12637, '2010-07-12 11:15:16.845954', NULL, E'UMTS', E'1277813160387', E'ac6b84406fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:16.845954', E'中国联通', E'9dc2b5f1-940d-40de-b04d-7c8cfc36061c', E'0101000020E6100000567F8461C0555C400E32C9C859203740', 1066.0, E'1', E'Catch', NULL, E'HTC', 113.339867, NULL, '2010-07-12 11:15:16.845744', E'172.16.8.119', 2, E'waiting', E'4') RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 409) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 409) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 409) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326), 0.0592611890832252) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1066.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:16.845744', timestamp '2010-07-12 11:15:23.845835')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;36;1mCatch Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:16.845744', "updated_at" = '2010-07-12 11:15:16.861545', "created_at" = '2010-07-12 11:15:16.845954', "longitude" = 113.339867, "hoccability" = E'1', "client_uuid" = E'9dc2b5f1-940d-40de-b04d-7c8cfc36061c', "device" = E'sapphire', "point" = E'0101000020E6100000567F8461C0555C400E32C9C859203740', "network_operator" = E'中国联通', "latitude" = 23.12637, "timestamp" = E'1277813160387', "ending_at" = '2010-07-12 11:15:23.845835', "manufacturer" = E'HTC', "location_accuracy" = 1066.0, "version_sdk" = E'4', "pairing_mode" = 1, "local_ip" = E'172.16.8.119', "uuid" = E'ac6b84406fd4012d8d7d001f5bf1b5ba', "model" = E'HTC Magic', "brand" = E'HiAPK.com', "api_version" = 2, "type" = E'Catch', "network_type" = E'UMTS' WHERE "id" = 409[0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 409) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326), 0.0592611890832252) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1066.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:16.845744', timestamp '2010-07-12 11:15:23.845835')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;36;1mCatch Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:15:16.871713', "event_group_id" = 227 WHERE "id" = 409[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/ac6b84406fd4012d8d7d001f5bf1b5ba
Completed in 51ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:15:17) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1h6qr0m-0>}, "id"=>"a5c98a4065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'a5c98a4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/a5c98a4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:17) [GET]
  Parameters: {"id"=>"ac6b84406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac6b84406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 227) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/ac6b84406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:18) [GET]
  Parameters: {"id"=>"abaf7ff06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'abaf7ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 227) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
Completed in 46ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/abaf7ff06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:20) [GET]
  Parameters: {"id"=>"ac6b84406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac6b84406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/ac6b84406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:20) [GET]
  Parameters: {"id"=>"abaf7ff06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'abaf7ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
Completed in 118ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/abaf7ff06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:22) [GET]
  Parameters: {"id"=>"ac6b84406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac6b84406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 227) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/ac6b84406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:22) [GET]
  Parameters: {"id"=>"abaf7ff06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'abaf7ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 227) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/abaf7ff06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:23) [GET]
  Parameters: {"id"=>"ac6b84406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac6b84406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 227)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 227) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 227)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 227)) [0m
  [4;36;1mEvent Update (2.3ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 227) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 8) | 200 OK [http://localhost/events/ac6b84406fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:24) [GET]
  Parameters: {"id"=>"abaf7ff06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'abaf7ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/abaf7ff06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:15:25) [GET]
  Parameters: {"id"=>"a5c98a4065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'a5c98a4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/a5c98a4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:25) [GET]
  Parameters: {"id"=>"ac6b84406fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac6b84406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 227) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 227) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 408) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 409) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ac6b84406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:41) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813272165", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:48.876802', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:15:41.876923', NULL, NULL, E'1277813272165', E'bb56f0206fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:41.876923', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:15:41.876709', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:41.884886', 410, '2010-07-12 11:15:41.884886', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:41.888872', 410, '2010-07-12 11:15:41.888872', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:41.889883', 410, '2010-07-12 11:15:41.889883', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:15:41.898080', 410, NULL, E'bb59ba506fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:41.898080', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 410) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 410) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 410) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:41.876709', timestamp '2010-07-12 11:15:48.876802')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 410) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:41.876709', timestamp '2010-07-12 11:15:48.876802')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 410) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:41.876709', timestamp '2010-07-12 11:15:48.876802')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 410) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:41.876709', timestamp '2010-07-12 11:15:48.876802')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:15:41.918268', '2010-07-12 11:15:41.918268', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.7ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:41.876709', "updated_at" = '2010-07-12 11:15:41.983902', "created_at" = '2010-07-12 11:15:41.876923', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813272165', "ending_at" = '2010-07-12 11:15:48.876802', "event_group_id" = 228, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'bb56f0206fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 410[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/bb56f0206fd4012d8d7d001f5bf1b5ba
Completed in 141ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:43) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b8:d5:ed,0:15:e9:a:e0:24,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813205843", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:15:50.060311', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:15:43.060550', NULL, NULL, E'1277813205843', E'bc0b83906fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:43.060550', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:15:43.060190', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.069073', 411, '2010-07-12 11:15:43.069073', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.073015', 411, '2010-07-12 11:15:43.073015', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.074109', 411, '2010-07-12 11:15:43.074109', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.075157', 411, '2010-07-12 11:15:43.075157', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.076173', 411, '2010-07-12 11:15:43.076173', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.077200', 411, '2010-07-12 11:15:43.077200', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.078229', 411, '2010-07-12 11:15:43.078229', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.079293', 411, '2010-07-12 11:15:43.079293', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.080391', 411, '2010-07-12 11:15:43.080391', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:43.081462', 411, '2010-07-12 11:15:43.081462', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 411) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 411) [0m
  [4;35;1mSQL (4.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 411) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:43.060190', timestamp '2010-07-12 11:15:50.060311')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:43.060190', "updated_at" = '2010-07-12 11:15:43.094183', "created_at" = '2010-07-12 11:15:43.060550', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813205843', "ending_at" = '2010-07-12 11:15:50.060311', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 411[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 411) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:43.060190', timestamp '2010-07-12 11:15:50.060311')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:15:43.170381', "pairing_mode" = 3 WHERE "id" = 411[0m
  [4;35;1mEvent Load (2.1ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 411) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:43.060190', timestamp '2010-07-12 11:15:50.060311')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 411) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:43.060190', timestamp '2010-07-12 11:15:50.060311')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:15:43.195433', "event_group_id" = 228 WHERE "id" = 411[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba
Completed in 185ms (DB: 21) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:43) [GET]
  Parameters: {"id"=>"bc0b83906fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 228) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 228)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 228) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:43) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:15:44) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1snzsd-0>}, "id"=>"b51fd4b065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (1.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'b51fd4b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/b51fd4b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:44) [GET]
  Parameters: {"id"=>"bc0b83906fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 228) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 228)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 228) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:45) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:45) [GET]
  Parameters: {"id"=>"bc0b83906fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 228) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 228)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 228) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:46) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:46) [GET]
  Parameters: {"id"=>"bc0b83906fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 228) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 228)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.1ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 228) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:47) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:48) [GET]
  Parameters: {"id"=>"bc0b83906fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 228) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 228)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 228)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 228) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 228)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 228)) [0m
  [4;36;1mEvent Update (2.4ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 228) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 410) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 9) | 200 OK [http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:49) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:50) [GET]
  Parameters: {"id"=>"bc0b83906fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 228) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 410) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:50) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:51) [GET]
  Parameters: {"id"=>"bc0b83906fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'bc0b83906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 228) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 228) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 410) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 411) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/bc0b83906fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:15:51) [GET]
  Parameters: {"id"=>"b51fd4b065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'b51fd4b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/b51fd4b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:52) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:15:58) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813281621", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"SweepOut", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:16:05.459098', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 11:15:58.459219', NULL, NULL, E'1277813281621', E'c53931406fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:58.459219', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'SweepOut', NULL, NULL, 31.315675, NULL, '2010-07-12 11:15:58.459006', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:58.466698', 412, '2010-07-12 11:15:58.466698', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:58.470211', 412, '2010-07-12 11:15:58.470211', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:58.471232', 412, '2010-07-12 11:15:58.471232', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:15:58.472255', 412, '2010-07-12 11:15:58.472255', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:15:58.480538', 412, NULL, E'c53c04b06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:15:58.480538', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 412) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 412) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:15:58.501092', '2010-07-12 11:15:58.501092', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:15:58.459006', "updated_at" = '2010-07-12 11:15:58.507722', "created_at" = '2010-07-12 11:15:58.459219', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813281621', "ending_at" = '2010-07-12 11:16:05.459098', "event_group_id" = 229, "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.77', "uuid" = E'c53931406fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 412[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/c53931406fd4012d8d7d001f5bf1b5ba
Completed in 143ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:15:58) [GET]
  Parameters: {"id"=>"c53931406fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c53931406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 229) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 229) [0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 412) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 412) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 412) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:15:58.459006', timestamp '2010-07-12 11:16:05.459098')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 229)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 229)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 229) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 229) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 229) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 412) LIMIT 1[0m
Completed in 62ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/c53931406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:15:58) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-yo6dm0-0>}, "id"=>"bd87e2f065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'bd87e2f065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/bd87e2f065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-12 13:15:59) [DELETE]
  Parameters: {"id"=>"c53931406fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c53931406fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;35;1mSweepOut Update (1.3ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:15:59.739247', "state" = E'canceled' WHERE "id" = 412[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Completed in 28ms (View: 1, DB: 7) | 200 OK [http://localhost/events/c53931406fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:16:03) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813292189", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:16:10.868565', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:16:03.868684', NULL, NULL, E'1277813292189', E'c8729d906fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:03.868684', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:16:03.868477', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:03.876002', 413, '2010-07-12 11:16:03.876002', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:03.879478', 413, '2010-07-12 11:16:03.879478', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:03.881003', 413, '2010-07-12 11:16:03.881003', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:03.882018', 413, '2010-07-12 11:16:03.882018', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:16:03.890237', 413, NULL, E'c8757a606fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:03.890237', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 413) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 413) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:16:03.913106', '2010-07-12 11:16:03.913106', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:16:03.868477', "updated_at" = '2010-07-12 11:16:03.919660', "created_at" = '2010-07-12 11:16:03.868684', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813292189', "ending_at" = '2010-07-12 11:16:10.868565', "event_group_id" = 230, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'c8729d906fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 413[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/c8729d906fd4012d8d7d001f5bf1b5ba
Completed in 84ms (DB: 16) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:04) [GET]
  Parameters: {"id"=>"c8729d906fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c8729d906fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 413) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 413) [0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 413) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:03.868477', timestamp '2010-07-12 11:16:10.868565')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 230) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 413) LIMIT 1[0m
Completed in 124ms (View: 1, DB: 17) | 202 Accepted [http://localhost/events/c8729d906fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:16:05) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b8:d5:ed,0:15:e9:a:e0:24,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813225830", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:16:12.134940', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 11:16:05.135066', NULL, NULL, E'1277813225830', E'c933d8c06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:05.135066', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 11:16:05.134841', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.143394', 414, '2010-07-12 11:16:05.143394', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.146970', 414, '2010-07-12 11:16:05.146970', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.148113', 414, '2010-07-12 11:16:05.148113', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.149134', 414, '2010-07-12 11:16:05.149134', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.150156', 414, '2010-07-12 11:16:05.150156', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.151163', 414, '2010-07-12 11:16:05.151163', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.152150', 414, '2010-07-12 11:16:05.152150', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.153135', 414, '2010-07-12 11:16:05.153135', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.154401', 414, '2010-07-12 11:16:05.154401', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:05.155388', 414, '2010-07-12 11:16:05.155388', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 414) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 414) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 414) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:05.134841', timestamp '2010-07-12 11:16:12.134940')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:16:05.134841', "updated_at" = '2010-07-12 11:16:05.166575', "created_at" = '2010-07-12 11:16:05.135066', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813225830', "ending_at" = '2010-07-12 11:16:12.134940', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 414[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 414) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:05.134841', timestamp '2010-07-12 11:16:12.134940')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 11:16:05.241748', "pairing_mode" = 3 WHERE "id" = 414[0m
  [4;35;1mEvent Load (2.1ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 414) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:05.134841', timestamp '2010-07-12 11:16:12.134940')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 414) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:05.134841', timestamp '2010-07-12 11:16:12.134940')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:16:05.266743', "event_group_id" = 230 WHERE "id" = 414[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba
Completed in 178ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:05) [GET]
  Parameters: {"id"=>"c933d8c06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 230) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:16:05) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-asnd7p-0>}, "id"=>"c1039f7065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'c1039f7065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/c1039f7065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:06) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:06) [GET]
  Parameters: {"id"=>"c933d8c06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.5ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 230) [0m
  [4;35;1mEvent Load (1.1ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:07) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:07) [GET]
  Parameters: {"id"=>"c933d8c06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 230) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:09) [GET]
  Parameters: {"id"=>"c933d8c06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 230) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:09) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 89ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:10) [GET]
  Parameters: {"id"=>"c933d8c06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 230) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 230)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 230)) [0m
  [4;35;1mEvent Update (2.5ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 230) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 413) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
Completed in 129ms (View: 1, DB: 9) | 200 OK [http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:11) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:12) [GET]
  Parameters: {"id"=>"c933d8c06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 413) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
Completed in 103ms (View: 1, DB: 7) | 200 OK [http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:12) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:13) [GET]
  Parameters: {"id"=>"c933d8c06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c933d8c06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 230) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 230) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 413) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 414) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/c933d8c06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 13:16:13) [GET]
  Parameters: {"id"=>"c1039f7065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'c1039f7065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/c1039f7065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:16:13) [POST]
  Parameters: {"event"=>{"bssids"=>"0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813295627", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"SweepOut", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:16:20.506517', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 11:16:13.506641', NULL, NULL, E'1277813295627', E'ce313ff06fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:13.506641', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'SweepOut', NULL, NULL, 31.315675, NULL, '2010-07-12 11:16:13.506427', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:13.514057', 415, '2010-07-12 11:16:13.514057', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:13.517622', 415, '2010-07-12 11:16:13.517622', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:13.518710', 415, '2010-07-12 11:16:13.518710', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:16:13.527249', 415, NULL, E'ce33f3006fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:13.527249', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506427', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506427', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506427', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506427', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:16:13.546010', '2010-07-12 11:16:13.546010', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:16:13.506427', "updated_at" = '2010-07-12 11:16:13.552175', "created_at" = '2010-07-12 11:16:13.506641', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813295627', "ending_at" = '2010-07-12 11:16:20.506517', "event_group_id" = 231, "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.77', "uuid" = E'ce313ff06fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 415[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/ce313ff06fd4012d8d7d001f5bf1b5ba
Completed in 144ms (DB: 13) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:13) [GET]
  Parameters: {"id"=>"ce313ff06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ce313ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 231) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 231) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 231) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 415) LIMIT 1[0m
Completed in 120ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/ce313ff06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:16:14) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-12vsvw3-0>}, "id"=>"c5b1095065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (3.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'c5b1095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 13ms (View: 1, DB: 3) | 404 Not Found [http://localhost/uploads/c5b1095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:15) [GET]
  Parameters: {"id"=>"ce313ff06fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ce313ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 231) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 231) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 231) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 415) LIMIT 1[0m
Completed in 58ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/ce313ff06fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:16) [GET]
  Parameters: {"id"=>"ce313ff06fd4012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ce313ff06fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 231) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 231) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 415) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 415) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:13.506426', timestamp '2010-07-12 11:16:20.506517')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 231) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 415) LIMIT 1[0m
Completed in 122ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/ce313ff06fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:16:17) [POST]
  Parameters: {"event"=>{"bssids"=>"0:14:7c:bd:f:f2,0:90:d0:f7:65:3f,0:1d:68:69:89:a1,0:1f:9f:ed:16:9f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813234009", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"SweepIn", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:16:24.039606', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 11:16:17.039737', NULL, NULL, E'1277813234009', E'd04c5a706fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:17.039737', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'SweepIn', NULL, NULL, 0.0, NULL, '2010-07-12 11:16:17.039501', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:17.048246', 416, '2010-07-12 11:16:17.048246', E'00:14:7c:bd:0f:f2', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:17.051737', 416, '2010-07-12 11:16:17.051737', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:17.052750', 416, '2010-07-12 11:16:17.052750', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:17.053769', 416, '2010-07-12 11:16:17.053769', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:17.055036', 416, '2010-07-12 11:16:17.055036', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:17.056100', 416, '2010-07-12 11:16:17.056100', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:16:17.057079', 416, '2010-07-12 11:16:17.057079', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 416) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 416) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 416) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:17.039501', timestamp '2010-07-12 11:16:24.039606')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:16:17.039501', "updated_at" = '2010-07-12 11:16:17.067552', "created_at" = '2010-07-12 11:16:17.039737', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813234009', "ending_at" = '2010-07-12 11:16:24.039606', "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "pairing_mode" = 2, "local_ip" = E'192.168.0.78', "uuid" = E'd04c5a706fd4012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 416[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 416) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:17.039501', timestamp '2010-07-12 11:16:24.039606')))) [0m
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 416) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:17.039501', timestamp '2010-07-12 11:16:24.039606')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 416) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:17.039501', timestamp '2010-07-12 11:16:24.039606')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 231) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:16:17.152042', "event_group_id" = 231 WHERE "id" = 416[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/d04c5a706fd4012d8d7d001f5bf1b5ba
Completed in 154ms (DB: 16) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:17) [GET]
  Parameters: {"id"=>"d04c5a706fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd04c5a706fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 231) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 231) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 231) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 416) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/d04c5a706fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:18) [GET]
  Parameters: {"id"=>"c5af404065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c5af404065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c5af404065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:19) [GET]
  Parameters: {"id"=>"d04c5a706fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd04c5a706fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 231) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 231) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 231) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 416) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/d04c5a706fd4012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:19) [GET]
  Parameters: {"id"=>"c5af404065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c5af404065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/c5af404065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:16:19) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"51.295935", "location_accuracy"=>"755.0", "type"=>"Catch", "longitude"=>"6.862474"}}
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:16:26.508537', NULL, NULL, NULL, 51.295935, '2010-07-12 11:16:19.508661', NULL, NULL, NULL, E'd1c515106fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:19.508661', NULL, NULL, E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', 755.0, NULL, E'Catch', NULL, NULL, 6.862474, NULL, '2010-07-12 11:16:19.508432', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 417) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 417) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 417) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:19.508432', timestamp '2010-07-12 11:16:26.508537')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 417) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:19.508432', timestamp '2010-07-12 11:16:26.508537')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:16:19.529871', '2010-07-12 11:16:19.529871', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;36;1mCatch Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:16:19.508432', "updated_at" = '2010-07-12 11:16:19.535447', "created_at" = '2010-07-12 11:16:19.508661', "longitude" = 6.862474, "point" = E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', "latitude" = 51.295935, "ending_at" = '2010-07-12 11:16:26.508537', "event_group_id" = 232, "location_accuracy" = 755.0, "uuid" = E'd1c515106fd4012d8d7d001f5bf1b5ba', "api_version" = 2, "type" = E'Catch' WHERE "id" = 417[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/d1c515106fd4012d8d7d001f5bf1b5ba
Completed in 51ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:16:19) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"51.295935", "location_accuracy"=>"755.0", "type"=>"Catch", "longitude"=>"6.862474"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:16:26.645932', NULL, NULL, NULL, 51.295935, '2010-07-12 11:16:19.646046', NULL, NULL, NULL, E'd1da0d606fd4012d8d7d001f5bf1b5ba', '2010-07-12 11:16:19.646046', NULL, NULL, E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', 755.0, NULL, E'Catch', NULL, NULL, 6.862474, NULL, '2010-07-12 11:16:19.645850', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 418) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 418) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 418) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:19.645850', timestamp '2010-07-12 11:16:26.645932')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mCatch Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:16:19.645850', "updated_at" = '2010-07-12 11:16:19.661498', "created_at" = '2010-07-12 11:16:19.646046', "longitude" = 6.862474, "point" = E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', "latitude" = 51.295935, "ending_at" = '2010-07-12 11:16:26.645932', "location_accuracy" = 755.0, "pairing_mode" = 1, "uuid" = E'd1da0d606fd4012d8d7d001f5bf1b5ba', "api_version" = 2, "type" = E'Catch' WHERE "id" = 418[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 418) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:16:19.645850', timestamp '2010-07-12 11:16:26.645932')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 232) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mCatch Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 11:16:19.670783', "event_group_id" = 232 WHERE "id" = 418[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/d1da0d606fd4012d8d7d001f5bf1b5ba
Completed in 48ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:19) [GET]
  Parameters: {"id"=>"d1c515106fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd1c515106fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 232) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 232) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 232)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 232) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 232) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 232) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 417) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/d1c515106fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:20) [GET]
  Parameters: {"id"=>"d1da0d606fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd1da0d606fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 232) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 232) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 232)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 232) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 232) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 232) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 418) LIMIT 1[0m
Completed in 104ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/d1da0d606fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:20) [GET]
  Parameters: {"id"=>"d04c5a706fd4012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd04c5a706fd4012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 231) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 231) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 231) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 231)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 231)) [0m
  [4;35;1mEvent Update (2.3ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 231) [0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 416) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 415) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 416) LIMIT 1[0m
Completed in 58ms (View: 1, DB: 10) | 200 OK [http://localhost/events/d04c5a706fd4012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:16:20) [GET]
  Parameters: {"id"=>"c5af404065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c5af404065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c5af404065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:19:06) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:19:13.210454', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:19:06.210572', NULL, NULL, E'1277813186698', E'3521c7b06fd5012d8d7d001f5bf1b5ba', '2010-07-12 11:19:06.210572', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:19:06.210368', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (2.8ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:19:06.218016', 419, '2010-07-12 11:19:06.218016', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:19:06.224034', 419, '2010-07-12 11:19:06.224034', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:19:06.225285', 419, '2010-07-12 11:19:06.225285', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:19:06.233919', 419, NULL, E'3524e8306fd5012d8d7d001f5bf1b5ba', '2010-07-12 11:19:06.233919', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 419) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 419) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:19:06.254877', '2010-07-12 11:19:06.254877', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:19:06.210368', "updated_at" = '2010-07-12 11:19:06.262123', "created_at" = '2010-07-12 11:19:06.210572', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:19:13.210454', "event_group_id" = 233, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'3521c7b06fd5012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 419[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/3521c7b06fd5012d8d7d001f5bf1b5ba
Completed in 148ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:19:23) [GET]
  Parameters: {"id"=>"3521c7b06fd5012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'3521c7b06fd5012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 233) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 233) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 419) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 419) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 419) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:19:06.210368', timestamp '2010-07-12 11:19:13.210454')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 233)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 233)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 233) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 233) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 233)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 233)) [0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 233) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 419) LIMIT 1[0m
Completed in 121ms (View: 1, DB: 14) | 410 Gone [http://localhost/events/3521c7b06fd5012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:19:45) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-p992aq-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:22:38) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:22:45.573045', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:22:38.573160', NULL, NULL, E'1277813186698', E'b3b5bd906fd5012d8d7d001f5bf1b5ba', '2010-07-12 11:22:38.573160', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:22:38.572959', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:22:38.580772', 420, '2010-07-12 11:22:38.580772', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:22:38.643451', 420, '2010-07-12 11:22:38.643451', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:22:38.645591', 420, '2010-07-12 11:22:38.645591', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:22:38.657938', 420, NULL, E'b3c216806fd5012d8d7d001f5bf1b5ba', '2010-07-12 11:22:38.657938', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 420) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 420) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:22:38.677229', '2010-07-12 11:22:38.677229', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.8ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 11:22:38.572959', "updated_at" = '2010-07-12 11:22:38.685037', "created_at" = '2010-07-12 11:22:38.573160', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:22:45.573045', "event_group_id" = 234, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'b3b5bd906fd5012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 420[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b3b5bd906fd5012d8d7d001f5bf1b5ba
Completed in 206ms (DB: 73) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:23:08) [GET]
  Parameters: {"id"=>"b3b5bd906fd5012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b3b5bd906fd5012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 234) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 234) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 420) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 420) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 420) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:22:38.572959', timestamp '2010-07-12 11:22:45.573045')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 234)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 234)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 234) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 234) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 234)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 234)) [0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 234) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 420) LIMIT 1[0m
Completed in 64ms (View: 1, DB: 14) | 410 Gone [http://localhost/events/b3b5bd906fd5012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 13:25:29) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-kwv1nk-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 13ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 13:26:11) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 11:26:18.932466', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 11:26:11.932592', NULL, NULL, E'1277813186698', E'32e1cd306fd6012d8d7d001f5bf1b5ba', '2010-07-12 11:26:11.932592', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 11:26:11.932368', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:26:11.940301', 421, '2010-07-12 11:26:11.940301', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:26:11.945268', 421, '2010-07-12 11:26:11.945268', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 11:26:11.947022', 421, '2010-07-12 11:26:11.947022', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 11:26:11.956397', 421, NULL, E'32e4e9706fd6012d8d7d001f5bf1b5ba', '2010-07-12 11:26:11.956397', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 421) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 421) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 11:26:11.978138', '2010-07-12 11:26:11.978138', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 11:26:11.932368', "updated_at" = '2010-07-12 11:26:11.985194', "created_at" = '2010-07-12 11:26:11.932592', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 11:26:18.932466', "event_group_id" = 235, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'32e1cd306fd6012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 421[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/32e1cd306fd6012d8d7d001f5bf1b5ba
Completed in 153ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 13:26:25) [GET]
  Parameters: {"id"=>"32e1cd306fd6012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'32e1cd306fd6012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 235) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 235) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 421) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 421) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 421) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 11:26:11.932368', timestamp '2010-07-12 11:26:18.932466')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 235)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 235)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 235) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 235) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 235)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 235)) [0m
  [4;36;1mEvent Update (2.4ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 235) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 421) LIMIT 1[0m
Completed in 123ms (View: 1, DB: 14) | 410 Gone [http://localhost/events/32e1cd306fd6012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:28:44) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-cjk2cr-0>}, "id"=>"8229e31065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8229e31065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 11ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/8229e31065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:29:00) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (269.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:29:08.062407', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:29:01.062593', NULL, NULL, E'1277813186698', E'f97560206fde012d8d7d001f5bf1b5ba', '2010-07-12 12:29:01.062593', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:29:01.062264', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (55.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:29:01.073485', 422, '2010-07-12 12:29:01.073485', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (45.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:29:01.132649', 422, '2010-07-12 12:29:01.132649', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (31.9ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:29:01.180078', 422, '2010-07-12 12:29:01.180078', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:29:01.222612', 422, NULL, E'f98d47d06fde012d8d7d001f5bf1b5ba', '2010-07-12 12:29:01.222612', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 422) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 422) [0m
  [4;36;1mSQL (7.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;35;1mSQL (11.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;36;1mEvent Load (1.6ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:29:01.262783', '2010-07-12 12:29:01.262783', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:29:01.062264', "updated_at" = '2010-07-12 12:29:01.270139', "created_at" = '2010-07-12 12:29:01.062593', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:29:08.062407', "event_group_id" = 236, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'f97560206fde012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 422[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/f97560206fde012d8d7d001f5bf1b5ba
Completed in 569ms (DB: 431) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:29:07) [GET]
  Parameters: {"id"=>"f97560206fde012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f97560206fde012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (68.2ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 236) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 236) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 422) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 422) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 422) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:01.062264', timestamp '2010-07-12 12:29:08.062407')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 236)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 236)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 236) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 236) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 236) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 422) LIMIT 1[0m
Completed in 128ms (View: 1, DB: 82) | 202 Accepted [http://localhost/events/f97560206fde012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:29:38) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (32.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:29:45.735985', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:29:38.736100', NULL, NULL, E'1277813186698', E'0fe9ec306fdf012d8d7d001f5bf1b5ba', '2010-07-12 12:29:38.736100', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:29:38.735894', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:29:38.775939', 423, '2010-07-12 12:29:38.775939', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:29:38.782191', 423, '2010-07-12 12:29:38.782191', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:29:38.783985', 423, '2010-07-12 12:29:38.783985', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:29:38.794730', 423, NULL, E'0ff262d06fdf012d8d7d001f5bf1b5ba', '2010-07-12 12:29:38.794730', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 423) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 423) [0m
  [4;36;1mSQL (41.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:29:38.920554', '2010-07-12 12:29:38.920554', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:29:38.735894', "updated_at" = '2010-07-12 12:29:38.928226', "created_at" = '2010-07-12 12:29:38.736100', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:29:45.735985', "event_group_id" = 237, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'0fe9ec306fdf012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 423[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/0fe9ec306fdf012d8d7d001f5bf1b5ba
Completed in 225ms (DB: 85) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:29:41) [GET]
  Parameters: {"id"=>"0fe9ec306fdf012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0fe9ec306fdf012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 237) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 237) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 423) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 423) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 423) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:29:38.735894', timestamp '2010-07-12 12:29:45.735985')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 237)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 237)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 237) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 237) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 237) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 423) LIMIT 1[0m
Completed in 60ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/0fe9ec306fdf012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:30:03) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:30:10.656995', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:30:03.657113', NULL, NULL, E'1277813186698', E'1ec491206fdf012d8d7d001f5bf1b5ba', '2010-07-12 12:30:03.657113', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:30:03.656908', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:03.664699', 424, '2010-07-12 12:30:03.664699', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:03.668313', 424, '2010-07-12 12:30:03.668313', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:03.669392', 424, '2010-07-12 12:30:03.669392', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (30.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:30:03.678108', 424, NULL, E'1ec751906fdf012d8d7d001f5bf1b5ba', '2010-07-12 12:30:03.678108', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 424) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 424) [0m
  [4;36;1mSQL (14.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:30:03.749364', '2010-07-12 12:30:03.749364', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:30:03.656908', "updated_at" = '2010-07-12 12:30:03.756305', "created_at" = '2010-07-12 12:30:03.657113', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:30:10.656995', "event_group_id" = 238, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'1ec491206fdf012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 424[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/1ec491206fdf012d8d7d001f5bf1b5ba
Completed in 198ms (DB: 58) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:30:05) [GET]
  Parameters: {"id"=>"1ec491206fdf012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1ec491206fdf012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 238) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 238) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 424) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 424) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 424) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:03.656908', timestamp '2010-07-12 12:30:10.656995')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 238)) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 238)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 238) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 238) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 238) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 424) LIMIT 1[0m
Completed in 119ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/1ec491206fdf012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:30:20) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-5sgnup-0>}, "id"=>"1ec751906fdf012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'1ec751906fdf012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:30:20.755101', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:30:20.753050', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 244[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/244/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/244/processed/file1.png
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 86ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/1ec751906fdf012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:30:26) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:30:33.535834', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:30:26.535958', NULL, NULL, E'1277813120366', E'2c6799506fdf012d8d7d001f5bf1b5ba', '2010-07-12 12:30:26.535958', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:30:26.535740', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.543679', 425, '2010-07-12 12:30:26.543679', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.547525', 425, '2010-07-12 12:30:26.547525', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.549517', 425, '2010-07-12 12:30:26.549517', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.550607', 425, '2010-07-12 12:30:26.550607', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.551719', 425, '2010-07-12 12:30:26.551719', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.552857', 425, '2010-07-12 12:30:26.552857', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.553947', 425, '2010-07-12 12:30:26.553947', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.555006', 425, '2010-07-12 12:30:26.555006', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:30:26.556249', 425, '2010-07-12 12:30:26.556249', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 425) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 425) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:30:26.659828', '2010-07-12 12:30:26.659828', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:30:26.535740', "updated_at" = '2010-07-12 12:30:26.669130', "created_at" = '2010-07-12 12:30:26.535958', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 12:30:33.535834', "event_group_id" = 239, "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "local_ip" = E'192.168.1.123', "uuid" = E'2c6799506fdf012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 425[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/2c6799506fdf012d8d7d001f5bf1b5ba
Completed in 177ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:30:35) [GET]
  Parameters: {"id"=>"2c6799506fdf012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'2c6799506fdf012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 239) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 239) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 425) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 425) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 425) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:30:26.535740', timestamp '2010-07-12 12:30:33.535834')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 239)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 239)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 239) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 239) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 239)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 239) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 239)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 239)) [0m
  [4;36;1mEvent Update (2.1ms)[0m   [0;1mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 239) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 425) LIMIT 1[0m
Completed in 59ms (View: 1, DB: 13) | 410 Gone [http://localhost/events/2c6799506fdf012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:30:40) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:37:56) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (452.4ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:38:03.814472', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:37:56.814685', NULL, NULL, E'1277813186698', E'38caa6b06fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:37:56.814685', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:37:56.814325', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (161.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:37:56.826171', 426, '2010-07-12 12:37:56.826171', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (14.9ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:37:56.992414', 426, '2010-07-12 12:37:56.992414', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:37:57.009342', 426, '2010-07-12 12:37:57.009342', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (19.9ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:37:57.022150', 426, NULL, E'38e9bd906fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:37:57.022150', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 426) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 426) [0m
  [4;36;1mSQL (29.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 426) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:37:56.814325', timestamp '2010-07-12 12:38:03.814472')))) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 426) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:37:56.814325', timestamp '2010-07-12 12:38:03.814472')))) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 426) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:37:56.814325', timestamp '2010-07-12 12:38:03.814472')))) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 426) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:37:56.814325', timestamp '2010-07-12 12:38:03.814472')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:37:57.190966', '2010-07-12 12:37:57.190966', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:37:56.814325', "updated_at" = '2010-07-12 12:37:57.197453', "created_at" = '2010-07-12 12:37:56.814685', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:38:03.814472', "event_group_id" = 240, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'38caa6b06fe0012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 426[0m
  [4;35;1mSQL (75.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/38caa6b06fe0012d8d7d001f5bf1b5ba
Completed in 971ms (DB: 764) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:38:48) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (132.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:38:56.063770', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:38:49.063942', NULL, NULL, E'1277813186698', E'57ef44a06fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:38:49.063942', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:38:49.063645', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:38:49.072703', 427, '2010-07-12 12:38:49.072703', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:38:49.076694', 427, '2010-07-12 12:38:49.076694', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:38:49.077767', 427, '2010-07-12 12:38:49.077767', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:38:49.085996', 427, NULL, E'57f237106fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:38:49.085996', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 427) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 427) [0m
  [4;35;1mSQL (91.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 427) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:38:49.063645', timestamp '2010-07-12 12:38:56.063770')))) [0m
  [4;36;1mSQL (48.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 427) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:38:49.063645', timestamp '2010-07-12 12:38:56.063770')))) [0m
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 427) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:38:49.063645', timestamp '2010-07-12 12:38:56.063770')))) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 427) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:38:49.063645', timestamp '2010-07-12 12:38:56.063770')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:38:49.247635', '2010-07-12 12:38:49.247635', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:38:49.063645', "updated_at" = '2010-07-12 12:38:49.254867', "created_at" = '2010-07-12 12:38:49.063942', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:38:56.063770', "event_group_id" = 241, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'57ef44a06fe0012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 427[0m
  [4;36;1mSQL (53.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/57ef44a06fe0012d8d7d001f5bf1b5ba
Completed in 406ms (DB: 333) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:39:16) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:39:23.456837', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:39:16.456957', NULL, NULL, E'1277813186698', E'684321006fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:39:16.456957', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:39:16.456748', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (14.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:39:16.464793', 428, '2010-07-12 12:39:16.464793', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:39:16.482709', 428, '2010-07-12 12:39:16.482709', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (7.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:39:16.484718', 428, '2010-07-12 12:39:16.484718', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (2.8ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:39:16.501525', 428, NULL, E'684975706fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:39:16.501525', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 428) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 428) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 428) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:16.456748', timestamp '2010-07-12 12:39:23.456837')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 428) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:16.456748', timestamp '2010-07-12 12:39:23.456837')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 428) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:16.456748', timestamp '2010-07-12 12:39:23.456837')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 428) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:16.456748', timestamp '2010-07-12 12:39:23.456837')))) [0m
  [4;36;1mSQL (11.1ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:39:16.524669', '2010-07-12 12:39:16.524669', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:39:16.456748', "updated_at" = '2010-07-12 12:39:16.542233', "created_at" = '2010-07-12 12:39:16.456957', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:39:23.456837', "event_group_id" = 242, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'684321006fe0012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 428[0m
  [4;35;1mSQL (18.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/684321006fe0012d8d7d001f5bf1b5ba
Completed in 197ms (DB: 67) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:39:53) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (159.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:40:00.516654', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:39:53.516843', NULL, NULL, E'1277813186698', E'7e59fec06fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:39:53.516843', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:39:53.516519', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:39:53.527087', 429, '2010-07-12 12:39:53.527087', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:39:53.531467', 429, '2010-07-12 12:39:53.531467', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:39:53.532991', 429, '2010-07-12 12:39:53.532991', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:39:53.605474', 429, NULL, E'7e6710206fe0012d8d7d001f5bf1b5ba', '2010-07-12 12:39:53.605474', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 429) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 429) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 429) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:53.516519', timestamp '2010-07-12 12:40:00.516654')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 429) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:53.516519', timestamp '2010-07-12 12:40:00.516654')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 429) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:53.516519', timestamp '2010-07-12 12:40:00.516654')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 429) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:39:53.516519', timestamp '2010-07-12 12:40:00.516654')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:39:53.626081', '2010-07-12 12:39:53.626081', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:39:53.516519', "updated_at" = '2010-07-12 12:39:53.632809', "created_at" = '2010-07-12 12:39:53.516843', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:40:00.516654', "event_group_id" = 243, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'7e59fec06fe0012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 429[0m
  [4;36;1mSQL (178.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/7e59fec06fe0012d8d7d001f5bf1b5ba
Completed in 485ms (DB: 348) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:44:01) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (309.6ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (2.3ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:44:09.139414', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:44:02.139613', NULL, NULL, E'1277813186698', E'128ad0206fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:44:02.139613', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:44:02.139263', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (106.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:02.149862', 430, '2010-07-12 12:44:02.149862', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:02.260657', 430, '2010-07-12 12:44:02.260657', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:02.262824', 430, '2010-07-12 12:44:02.262824', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:44:02.314512', 430, NULL, E'12a4d3806fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:44:02.314512', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 430) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 430) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 430) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:02.139263', timestamp '2010-07-12 12:44:09.139414')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 430) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:02.139263', timestamp '2010-07-12 12:44:09.139414')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 430) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:02.139263', timestamp '2010-07-12 12:44:09.139414')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 430) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:02.139263', timestamp '2010-07-12 12:44:09.139414')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:44:02.397916', '2010-07-12 12:44:02.397916', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:44:02.139263', "updated_at" = '2010-07-12 12:44:02.404638', "created_at" = '2010-07-12 12:44:02.139613', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:44:09.139414', "event_group_id" = 244, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'128ad0206fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 430[0m
  [4;35;1mSQL (38.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/128ad0206fe1012d8d7d001f5bf1b5ba
Completed in 678ms (DB: 465) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:44:20) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:44:27.860014', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:44:20.860140', NULL, NULL, E'1277813186698', E'1db35dd06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:44:20.860140', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:44:20.859923', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:20.867626', 431, '2010-07-12 12:44:20.867626', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:20.870996', 431, '2010-07-12 12:44:20.870996', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:20.872004', 431, '2010-07-12 12:44:20.872004', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:44:20.879813', 431, NULL, E'1db5f4006fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:44:20.879813', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 431) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 431) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 431) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:20.859923', timestamp '2010-07-12 12:44:27.860014')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 431) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:20.859923', timestamp '2010-07-12 12:44:27.860014')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 431) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:20.859923', timestamp '2010-07-12 12:44:27.860014')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 431) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:20.859923', timestamp '2010-07-12 12:44:27.860014')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:44:20.898731', '2010-07-12 12:44:20.898731', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:44:20.859923', "updated_at" = '2010-07-12 12:44:21.002519', "created_at" = '2010-07-12 12:44:20.860140', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:44:27.860014', "event_group_id" = 245, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'1db35dd06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 431[0m
  [4;36;1mSQL (52.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/1db35dd06fe1012d8d7d001f5bf1b5ba
Completed in 505ms (DB: 65) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:44:33) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:44:40.399634', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:44:33.399755', NULL, NULL, E'1277813186698', E'252cc2f06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:44:33.399755', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:44:33.399544', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:33.408813', 432, '2010-07-12 12:44:33.408813', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:33.413265', 432, '2010-07-12 12:44:33.413265', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:33.414498', 432, '2010-07-12 12:44:33.414498', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:44:33.423299', 432, NULL, E'252fe5a06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:44:33.423299', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 432) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 432) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:44:33.442535', '2010-07-12 12:44:33.442535', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:44:33.399544', "updated_at" = '2010-07-12 12:44:33.449001', "created_at" = '2010-07-12 12:44:33.399755', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:44:40.399634', "event_group_id" = 246, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'252cc2f06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 432[0m
  [4;35;1mSQL (94.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/252cc2f06fe1012d8d7d001f5bf1b5ba
Completed in 506ms (DB: 107) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:44:36) [GET]
  Parameters: {"id"=>"252cc2f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'252cc2f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 246) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 246) [0m
  [4;35;1mAccessPointSighting Load (0.8ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 432) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 432) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;35;1mEvent Load (1.1ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 432) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:33.399544', timestamp '2010-07-12 12:44:40.399634')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 246)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 246)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 246) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.0ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 246) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 246) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 432) LIMIT 1[0m
Completed in 194ms (View: 131, DB: 15) | 202 Accepted [http://localhost/events/252cc2f06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:44:38) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-11mccq6-0>}, "id"=>"252fe5a06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'252fe5a06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.6ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:44:39.364308', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:44:39.350659', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 251[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/251/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/251/processed/file1.png
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 506ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/252fe5a06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:44:40) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:44:47.702110', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:44:40.702235', NULL, NULL, E'1277813120366', E'298707b06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:44:40.702235', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:44:40.702017', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.710073', 433, '2010-07-12 12:44:40.710073', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.713924', 433, '2010-07-12 12:44:40.713924', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.715132', 433, '2010-07-12 12:44:40.715132', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.716255', 433, '2010-07-12 12:44:40.716255', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.717395', 433, '2010-07-12 12:44:40.717395', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.718511', 433, '2010-07-12 12:44:40.718511', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.719603', 433, '2010-07-12 12:44:40.719603', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.720640', 433, '2010-07-12 12:44:40.720640', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:44:40.721664', 433, '2010-07-12 12:44:40.721664', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 433) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 433) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:44:40.742437', '2010-07-12 12:44:40.742437', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:44:40.702017', "updated_at" = '2010-07-12 12:44:40.752101', "created_at" = '2010-07-12 12:44:40.702235', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 12:44:47.702110', "event_group_id" = 247, "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "local_ip" = E'192.168.1.123', "uuid" = E'298707b06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 433[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/298707b06fe1012d8d7d001f5bf1b5ba
Completed in 186ms (DB: 20) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:44:43) [GET]
  Parameters: {"id"=>"298707b06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (5.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'298707b06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 247) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 247) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 433) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 433) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 433) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:44:40.702017', timestamp '2010-07-12 12:44:47.702110')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 247)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 247)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 247) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (92.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 247) [0m
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 247) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 433) LIMIT 1[0m
Completed in 244ms (View: 4, DB: 108) | 202 Accepted [http://localhost/events/298707b06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:44:45) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:45:17) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:45:24.983309', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:45:17.983426', NULL, NULL, E'1277813186698', E'3fbfb0406fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:17.983426', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:45:17.983220', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:17.991229', 434, '2010-07-12 12:45:17.991229', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:17.994881', 434, '2010-07-12 12:45:17.994881', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:17.996039', 434, '2010-07-12 12:45:17.996039', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:45:18.004610', 434, NULL, E'3fc263206fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:18.004610', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 434) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 434) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:45:18.089588', '2010-07-12 12:45:18.089588', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:45:17.983220', "updated_at" = '2010-07-12 12:45:18.096237', "created_at" = '2010-07-12 12:45:17.983426', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:45:24.983309', "event_group_id" = 248, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'3fbfb0406fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 434[0m
  [4;35;1mSQL (10.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/3fbfb0406fe1012d8d7d001f5bf1b5ba
Completed in 155ms (DB: 25) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:18) [GET]
  Parameters: {"id"=>"3fbfb0406fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (5.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'3fbfb0406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 248) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 248) [0m
  [4;35;1mAccessPointSighting Load (1.1ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 434) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 434) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 434) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:17.983220', timestamp '2010-07-12 12:45:24.983309')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 248)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 248)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.0ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 248) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 434) LIMIT 1[0m
Completed in 71ms (View: 1, DB: 18) | 202 Accepted [http://localhost/events/3fbfb0406fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:45:18) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-14b2yap-0>}, "id"=>"3fc263206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'3fc263206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.8ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:45:18.258096', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:45:18.254530', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 252[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/252/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/252/processed/file1.png
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Completed in 39ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/3fc263206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:45:18) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:45:25.431065', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:45:18.431190', NULL, NULL, E'1277813120366', E'400403306fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:18.431190', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:45:18.430976', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.438892', 435, '2010-07-12 12:45:18.438892', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.442479', 435, '2010-07-12 12:45:18.442479', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.444010', 435, '2010-07-12 12:45:18.444010', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.445143', 435, '2010-07-12 12:45:18.445143', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.446191', 435, '2010-07-12 12:45:18.446191', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.447251', 435, '2010-07-12 12:45:18.447251', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.448271', 435, '2010-07-12 12:45:18.448271', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.449359', 435, '2010-07-12 12:45:18.449359', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:18.450602', 435, '2010-07-12 12:45:18.450602', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 435) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 435) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 435) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:18.430976', timestamp '2010-07-12 12:45:25.431065')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:45:18.430976', "updated_at" = '2010-07-12 12:45:18.462256', "created_at" = '2010-07-12 12:45:18.431190', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 12:45:25.431065', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'400403306fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 435[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 435) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:18.430976', timestamp '2010-07-12 12:45:25.431065')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:45:18.475907', "pairing_mode" = 3 WHERE "id" = 435[0m
  [4;35;1mEvent Load (2.2ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 435) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:18.430976', timestamp '2010-07-12 12:45:25.431065')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 435) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:18.430976', timestamp '2010-07-12 12:45:25.431065')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 248) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:45:18.561398', "event_group_id" = 248 WHERE "id" = 435[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/400403306fe1012d8d7d001f5bf1b5ba
Completed in 170ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:19) [GET]
  Parameters: {"id"=>"400403306fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'400403306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 248) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 248) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 248)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 248)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (35.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 248) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 435) LIMIT 1[0m
Completed in 81ms (View: 1, DB: 43) | 202 Accepted [http://localhost/events/400403306fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:19) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 100ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:20) [GET]
  Parameters: {"id"=>"400403306fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'400403306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 248) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 248) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 248)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 248)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 248) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 435) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/400403306fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:20) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 22ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:21) [GET]
  Parameters: {"id"=>"400403306fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'400403306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 248) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 248) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 248)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 248)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 248) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 435) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/400403306fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:23) [GET]
  Parameters: {"id"=>"400403306fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'400403306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 248) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 248) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 248)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 248)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 248) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 248) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 435) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/400403306fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:45:31) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813186698", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:45:38.550153', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:45:31.550269', NULL, NULL, E'1277813186698', E'47d5d3a06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:31.550269', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:45:31.550066', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:31.557828', 436, '2010-07-12 12:45:31.557828', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:31.561318', 436, '2010-07-12 12:45:31.561318', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:31.562351', 436, '2010-07-12 12:45:31.562351', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:45:31.570158', 436, NULL, E'47d870f06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:31.570158', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 436) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 436) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:45:31.650406', '2010-07-12 12:45:31.650406', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:45:31.550066', "updated_at" = '2010-07-12 12:45:31.657659', "created_at" = '2010-07-12 12:45:31.550269', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813186698', "ending_at" = '2010-07-12 12:45:38.550153', "event_group_id" = 249, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'47d5d3a06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 436[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/47d5d3a06fe1012d8d7d001f5bf1b5ba
Completed in 140ms (DB: 13) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:31) [GET]
  Parameters: {"id"=>"47d5d3a06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (5.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'47d5d3a06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 436) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 436) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 436) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:31.550066', timestamp '2010-07-12 12:45:38.550153')))) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 249) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 436) LIMIT 1[0m
Completed in 72ms (View: 1, DB: 19) | 202 Accepted [http://localhost/events/47d5d3a06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:45:31) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1h4r3us-0>}, "id"=>"47d870f06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (13.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'47d870f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:45:31.823418', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:45:31.819571', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 253[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/253/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/253/processed/file1.png
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 89ms (View: 1, DB: 15) | 200 OK [http://localhost/uploads/47d870f06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:45:31) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813120366", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:45:39.034609', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:45:32.034727', NULL, NULL, E'1277813120366', E'481fbfb06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:32.034727', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:45:32.034518', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.042415', 437, '2010-07-12 12:45:32.042415', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.046012', 437, '2010-07-12 12:45:32.046012', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.047056', 437, '2010-07-12 12:45:32.047056', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.048127', 437, '2010-07-12 12:45:32.048127', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.049154', 437, '2010-07-12 12:45:32.049154', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.050599', 437, '2010-07-12 12:45:32.050599', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (205.0ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.051880', 437, '2010-07-12 12:45:32.051880', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.258354', 437, '2010-07-12 12:45:32.258354', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:32.260493', 437, '2010-07-12 12:45:32.260493', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 437) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 437) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 437) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:32.034518', timestamp '2010-07-12 12:45:39.034609')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:45:32.034518', "updated_at" = '2010-07-12 12:45:32.275302', "created_at" = '2010-07-12 12:45:32.034727', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813120366', "ending_at" = '2010-07-12 12:45:39.034609', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 437[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 437) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:32.034518', timestamp '2010-07-12 12:45:39.034609')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:45:32.289741', "pairing_mode" = 3 WHERE "id" = 437[0m
  [4;35;1mEvent Load (2.2ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 437) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:32.034518', timestamp '2010-07-12 12:45:39.034609')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 437) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:32.034518', timestamp '2010-07-12 12:45:39.034609')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:45:32.375781', "event_group_id" = 249 WHERE "id" = 437[0m
  [4;36;1mSQL (247.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba
Completed in 628ms (DB: 470) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:33) [GET]
  Parameters: {"id"=>"481fbfb06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 249) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:33) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (5.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 26ms (View: 1, DB: 6) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:34) [GET]
  Parameters: {"id"=>"481fbfb06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (38.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 249) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
Completed in 87ms (View: 1, DB: 46) | 202 Accepted [http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:34) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 18ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:36) [GET]
  Parameters: {"id"=>"481fbfb06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (123.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 249) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
Completed in 167ms (View: 1, DB: 130) | 202 Accepted [http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:37) [GET]
  Parameters: {"id"=>"481fbfb06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (117.5ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 249) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
Completed in 223ms (View: 1, DB: 124) | 202 Accepted [http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:38) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:38) [GET]
  Parameters: {"id"=>"481fbfb06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (12.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 249) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 249)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 249)) [0m
  [4;36;1mEvent Update (4.4ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 249) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 436) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
Completed in 73ms (View: 1, DB: 20) | 200 OK [http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:39) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 87ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:39) [GET]
  Parameters: {"id"=>"481fbfb06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (9.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 436) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
Completed in 75ms (View: 1, DB: 12) | 200 OK [http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:40) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:40) [GET]
  Parameters: {"id"=>"481fbfb06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'481fbfb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 249) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 249) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 436) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 437) LIMIT 1[0m
Completed in 135ms (View: 1, DB: 6) | 200 OK [http://localhost/events/481fbfb06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:45:42) [GET]
  Parameters: {"id"=>"47d870f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'47d870f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/47d870f06fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/253/processed/file1.png
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:42) [GET]
  Parameters: {"id"=>"822825b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'822825b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 19ms (View: 2, DB: 3) | 404 Not Found [http://localhost/events/822825b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:45:47) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813200210", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.7ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:45:54.456659', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:45:47.456797', NULL, NULL, E'1277813200210', E'5150f5e06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:47.456797', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:45:47.456538', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:47.467370', 438, '2010-07-12 12:45:47.467370', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:47.471169', 438, '2010-07-12 12:45:47.471169', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:47.472259', 438, '2010-07-12 12:45:47.472259', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:47.473410', 438, '2010-07-12 12:45:47.473410', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:45:47.482291', 438, NULL, E'515462606fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:47.482291', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 438) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 438) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:45:47.565458', '2010-07-12 12:45:47.565458', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:45:47.456538', "updated_at" = '2010-07-12 12:45:47.573333', "created_at" = '2010-07-12 12:45:47.456797', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813200210', "ending_at" = '2010-07-12 12:45:54.456659', "event_group_id" = 250, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'5150f5e06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 438[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/5150f5e06fe1012d8d7d001f5bf1b5ba
Completed in 156ms (DB: 21) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:48) [GET]
  Parameters: {"id"=>"5150f5e06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (27.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'5150f5e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 438) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 438) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 438) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:47.456538', timestamp '2010-07-12 12:45:54.456659')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.1ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 250) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 438) LIMIT 1[0m
Completed in 86ms (View: 1, DB: 37) | 202 Accepted [http://localhost/events/5150f5e06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:45:48) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1b746wq-0>}, "id"=>"515462606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (2.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'515462606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.7ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:45:48.791480', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:45:48.739742', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 254[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/254/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/254/processed/file1.png
  [4;36;1mSQL (91.7ms)[0m   [0;1mCOMMIT[0m
Completed in 297ms (View: 1, DB: 95) | 200 OK [http://localhost/uploads/515462606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:45:49) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1c:df:76:56:7d,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813133914", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:45:56.102195', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:45:49.102324', NULL, NULL, E'1277813133914', E'524c0d206fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:45:49.102324', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:45:49.102099', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.111004', 439, '2010-07-12 12:45:49.111004', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.114900', 439, '2010-07-12 12:45:49.114900', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.116142', 439, '2010-07-12 12:45:49.116142', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.117287', 439, '2010-07-12 12:45:49.117287', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.118868', 439, '2010-07-12 12:45:49.118868', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.120124', 439, '2010-07-12 12:45:49.120124', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.121323', 439, '2010-07-12 12:45:49.121323', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.122515', 439, '2010-07-12 12:45:49.122515', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:45:49.123650', 439, '2010-07-12 12:45:49.123650', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 439) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 439) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 439) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:49.102099', timestamp '2010-07-12 12:45:56.102195')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:45:49.102099', "updated_at" = '2010-07-12 12:45:49.136013', "created_at" = '2010-07-12 12:45:49.102324', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813133914', "ending_at" = '2010-07-12 12:45:56.102195', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 439[0m
  [4;36;1mSQL (33.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 439) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:49.102099', timestamp '2010-07-12 12:45:56.102195')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.6ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:45:49.182591', "pairing_mode" = 3 WHERE "id" = 439[0m
  [4;35;1mEvent Load (2.3ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 439) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:49.102099', timestamp '2010-07-12 12:45:56.102195')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 439) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:45:49.102099', timestamp '2010-07-12 12:45:56.102195')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:45:49.287961', "event_group_id" = 250 WHERE "id" = 439[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba
Completed in 283ms (DB: 91) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:49) [GET]
  Parameters: {"id"=>"524c0d206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (77.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 250) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
Completed in 124ms (View: 1, DB: 85) | 202 Accepted [http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:50) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 339ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:50) [GET]
  Parameters: {"id"=>"524c0d206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (1.1ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (134.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 250) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
Completed in 185ms (View: 1, DB: 143) | 202 Accepted [http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:52) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:52) [GET]
  Parameters: {"id"=>"524c0d206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (84.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 250) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
Completed in 192ms (View: 1, DB: 92) | 202 Accepted [http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:53) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:54) [GET]
  Parameters: {"id"=>"524c0d206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 250) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:55) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:55) [GET]
  Parameters: {"id"=>"524c0d206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 250) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 250)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 250)) [0m
  [4;35;1mEvent Update (2.3ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 250) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 438) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
Completed in 133ms (View: 1, DB: 8) | 200 OK [http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:56) [GET]
  Parameters: {"id"=>"524c0d206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 438) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:57) [GET]
  Parameters: {"id"=>"8a2eabc065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8a2eabc065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 14ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/8a2eabc065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:45:57) [GET]
  Parameters: {"id"=>"524c0d206fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'524c0d206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 250) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 250) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 438) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 439) LIMIT 1[0m
Completed in 125ms (View: 1, DB: 5) | 200 OK [http://localhost/events/524c0d206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:45:57) [GET]
  Parameters: {"id"=>"515462606fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'515462606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/515462606fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/254/processed/file1.png
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:05) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813214869", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:12.128114', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:46:05.128229', NULL, NULL, E'1277813214869', E'5bd96af06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:05.128229', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:46:05.128029', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.136363', 440, '2010-07-12 12:46:05.136363', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.140138', 440, '2010-07-12 12:46:05.140138', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (22.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.141314', 440, '2010-07-12 12:46:05.141314', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.165947', 440, '2010-07-12 12:46:05.165947', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:46:05.179316', 440, NULL, E'5be09e106fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:05.179316', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 440) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 440) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:46:05.262048', '2010-07-12 12:46:05.262048', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:05.128029', "updated_at" = '2010-07-12 12:46:05.268931', "created_at" = '2010-07-12 12:46:05.128229', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813214869', "ending_at" = '2010-07-12 12:46:12.128114', "event_group_id" = 251, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'5bd96af06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 440[0m
  [4;36;1mSQL (44.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/5bd96af06fe1012d8d7d001f5bf1b5ba
Completed in 217ms (DB: 81) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:05) [GET]
  Parameters: {"id"=>"5bd96af06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'5bd96af06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 440) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 440) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 440) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.128029', timestamp '2010-07-12 12:46:12.128114')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (36.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 251) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 440) LIMIT 1[0m
Completed in 113ms (View: 1, DB: 51) | 202 Accepted [http://localhost/events/5bd96af06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:46:05) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1ge5e3p-0>}, "id"=>"5be09e106fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'5be09e106fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:46:05.513588', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:46:05.500176', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 255[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/255/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/255/processed/file1.png
  [4;35;1mSQL (38.4ms)[0m   [0mCOMMIT[0m
Completed in 203ms (View: 2, DB: 40) | 200 OK [http://localhost/uploads/5be09e106fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:05) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813148500", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:12.764410', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:46:05.764533', NULL, NULL, E'1277813148500', E'5c3a81606fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:05.764533', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:46:05.764318', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.772210', 441, '2010-07-12 12:46:05.772210', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.776078', 441, '2010-07-12 12:46:05.776078', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.777227', 441, '2010-07-12 12:46:05.777227', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.778353', 441, '2010-07-12 12:46:05.778353', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.779449', 441, '2010-07-12 12:46:05.779449', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.780545', 441, '2010-07-12 12:46:05.780545', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.781687', 441, '2010-07-12 12:46:05.781687', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:05.782891', 441, '2010-07-12 12:46:05.782891', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 441) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 441) [0m
  [4;35;1mSQL (74.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 441) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.764318', timestamp '2010-07-12 12:46:12.764410')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (1.0ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:05.764318', "updated_at" = '2010-07-12 12:46:05.868195', "created_at" = '2010-07-12 12:46:05.764533', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813148500', "ending_at" = '2010-07-12 12:46:12.764410', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 441[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 441) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.764318', timestamp '2010-07-12 12:46:12.764410')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:46:05.885691', "pairing_mode" = 3 WHERE "id" = 441[0m
  [4;35;1mEvent Load (2.1ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 441) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.764318', timestamp '2010-07-12 12:46:12.764410')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 441) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:05.764318', timestamp '2010-07-12 12:46:12.764410')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.6ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:46:05.989070', "event_group_id" = 251 WHERE "id" = 441[0m
  [4;36;1mSQL (19.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba
Completed in 294ms (DB: 109) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:07) [GET]
  Parameters: {"id"=>"5c3a81606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (5.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (138.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 251) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
Completed in 185ms (View: 1, DB: 147) | 202 Accepted [http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:07) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 19ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:08) [GET]
  Parameters: {"id"=>"5c3a81606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 251) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:09) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 19ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:09) [GET]
  Parameters: {"id"=>"5c3a81606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (109.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 251) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
Completed in 181ms (View: 1, DB: 117) | 202 Accepted [http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:10) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:10) [GET]
  Parameters: {"id"=>"5c3a81606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (24.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 251) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
Completed in 75ms (View: 1, DB: 34) | 202 Accepted [http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:11) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:12) [GET]
  Parameters: {"id"=>"5c3a81606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 251) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 251)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 251)) [0m
  [4;35;1mEvent Update (78.4ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 251) [0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
  [4;35;1mUpload Load (0.4ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 440) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
Completed in 193ms (View: 1, DB: 85) | 200 OK [http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:13) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 18ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:14) [GET]
  Parameters: {"id"=>"5c3a81606fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 440) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:14) [GET]
  Parameters: {"id"=>"92eaed4065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'92eaed4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/92eaed4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:15) [GET]
  Parameters: {"id"=>"5c3a81606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'5c3a81606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 251) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 251) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 440) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 441) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/5c3a81606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:46:15) [GET]
  Parameters: {"id"=>"5be09e106fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'5be09e106fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/5be09e106fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/255/processed/file1.png
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#index (for 127.0.0.1 at 2010-07-12 14:46:22) [DELETE]
Rendering events/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:27) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813234472", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:34.588038', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:46:27.588153', NULL, NULL, E'1277813234472', E'693c87a06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:27.588153', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:46:27.587953', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.595574', 442, '2010-07-12 12:46:27.595574', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.598992', 442, '2010-07-12 12:46:27.598992', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.600011', 442, '2010-07-12 12:46:27.600011', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:46:27.668518', 442, NULL, E'69484c906fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:27.668518', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 442) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 442) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:46:27.688341', '2010-07-12 12:46:27.688341', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:27.587953', "updated_at" = '2010-07-12 12:46:27.695039', "created_at" = '2010-07-12 12:46:27.588153', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813234472', "ending_at" = '2010-07-12 12:46:34.588038', "event_group_id" = 252, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'693c87a06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 442[0m
  [4;36;1mSQL (46.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/693c87a06fe1012d8d7d001f5bf1b5ba
Completed in 184ms (DB: 58) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:27) [GET]
  Parameters: {"id"=>"693c87a06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'693c87a06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 442) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 442) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 442) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.587953', timestamp '2010-07-12 12:46:34.588038')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 252) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 442) LIMIT 1[0m
Completed in 71ms (View: 1, DB: 16) | 202 Accepted [http://localhost/events/693c87a06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:27) [POST]
  Parameters: {"event"=>{"bssids"=>"0:15:e9:a:e0:24,0:1f:9f:cd:71:63,0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813168257", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:34.966571', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:46:27.966688', NULL, NULL, E'1277813168257', E'697649f06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:27.966688', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:46:27.966481', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.974145', 443, '2010-07-12 12:46:27.974145', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.977601', 443, '2010-07-12 12:46:27.977601', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.978700', 443, '2010-07-12 12:46:27.978700', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.979833', 443, '2010-07-12 12:46:27.979833', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.980853', 443, '2010-07-12 12:46:27.980853', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.982331', 443, '2010-07-12 12:46:27.982331', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.983327', 443, '2010-07-12 12:46:27.983327', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.984357', 443, '2010-07-12 12:46:27.984357', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:27.985405', 443, '2010-07-12 12:46:27.985405', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 443) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 443) [0m
  [4;36;1mSQL (23.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 443) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.966481', timestamp '2010-07-12 12:46:34.966571')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:27.966481', "updated_at" = '2010-07-12 12:46:28.017861', "created_at" = '2010-07-12 12:46:27.966688', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813168257', "ending_at" = '2010-07-12 12:46:34.966571', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 443[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 443) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.966481', timestamp '2010-07-12 12:46:34.966571')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:46:28.030729', "pairing_mode" = 3 WHERE "id" = 443[0m
  [4;36;1mEvent Load (2.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 443) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.966481', timestamp '2010-07-12 12:46:34.966571')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 443) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:27.966481', timestamp '2010-07-12 12:46:34.966571')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (48.1ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:46:28.114477', "event_group_id" = 252 WHERE "id" = 443[0m
  [4;35;1mSQL (14.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba
Completed in 326ms (DB: 100) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:46:29) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-nxkra2-0>}, "id"=>"69484c906fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'69484c906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.8ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:46:29.310901', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:46:29.304070', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 256[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/processed/file1.png
  [4;35;1mSQL (4.1ms)[0m   [0mCOMMIT[0m
Completed in 104ms (View: 1, DB: 6) | 200 OK [http://localhost/uploads/69484c906fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:29) [GET]
  Parameters: {"id"=>"697649f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (1.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (5.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 252) [0m
  [4;35;1mEvent Load (13.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
Completed in 75ms (View: 1, DB: 27) | 202 Accepted [http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:29) [POST]
  Parameters: {"event"=>{"bssids"=>"0:14:7c:bd:f:f2,0:1a:c1:14:e8:b3,0:1f:9f:ed:16:9f,0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:1d:68:69:89:a1,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813166015", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:36.590798', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 12:46:29.590917', NULL, NULL, E'1277813166015', E'6a6e20306fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:29.590917', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-12 12:46:29.590708', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.598704', 444, '2010-07-12 12:46:29.598704', E'00:14:7c:bd:0f:f2', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.602445', 444, '2010-07-12 12:46:29.602445', E'00:1a:c1:14:e8:b3', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.603514', 444, '2010-07-12 12:46:29.603514', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.604530', 444, '2010-07-12 12:46:29.604530', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.605958', 444, '2010-07-12 12:46:29.605958', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.607140', 444, '2010-07-12 12:46:29.607140', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (12.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.608210', 444, '2010-07-12 12:46:29.608210', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:29.621932', 444, '2010-07-12 12:46:29.621932', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:46:29.632903', 444, NULL, E'6a740fa06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:29.632903', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:46:29.652004', '2010-07-12 12:46:29.652004', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mThrow Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:29.590708', "updated_at" = '2010-07-12 12:46:29.660465', "created_at" = '2010-07-12 12:46:29.590917', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813166015', "ending_at" = '2010-07-12 12:46:36.590798', "event_group_id" = 253, "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.78', "uuid" = E'6a6e20306fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 444[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/6a6e20306fe1012d8d7d001f5bf1b5ba
Completed in 169ms (DB: 29) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:29) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:29) [GET]
  Parameters: {"id"=>"6a6e20306fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6a6e20306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.9ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 253) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 253) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 253)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 253) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (5.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 253) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 253) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 444) LIMIT 1[0m
Completed in 61ms (View: 1, DB: 17) | 202 Accepted [http://localhost/events/6a6e20306fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:30) [GET]
  Parameters: {"id"=>"697649f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (21.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 252) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
Completed in 127ms (View: 1, DB: 28) | 202 Accepted [http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:32) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:32) [GET]
  Parameters: {"id"=>"697649f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (5.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (3.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 252) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:32) [GET]
  Parameters: {"id"=>"6a6e20306fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (5.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6a6e20306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 253) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 253) [0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 253)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 253) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (32.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 253) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 253) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 444) LIMIT 1[0m
Completed in 166ms (View: 1, DB: 47) | 202 Accepted [http://localhost/events/6a6e20306fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:33) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:46:33) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1crieck-0>}, "id"=>"6a740fa06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'6a740fa06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (1.4ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:46:33.391796', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:46:33.389116', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 257[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/257/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/257/processed/file1.png
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 46ms (View: 1, DB: 4) | 200 OK [http://localhost/uploads/6a740fa06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:33) [GET]
  Parameters: {"id"=>"697649f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (12.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 252) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
Completed in 166ms (View: 1, DB: 19) | 202 Accepted [http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:33) [GET]
  Parameters: {"id"=>"6a6e20306fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6a6e20306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 253) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 253) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 444) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:1d:68:69:89:a1',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f',E'00:1f:9f:ed:16:9f',E'00:1a:c1:14:e8:b3',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 444) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:29.590708', timestamp '2010-07-12 12:46:36.590798')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 253)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 253) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 253) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 253) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 444) LIMIT 1[0m
Completed in 64ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/6a6e20306fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:34) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:34) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813235067", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:41.873741', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 12:46:34.873869', NULL, NULL, E'1277813235067', E'6d943c806fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:34.873869', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'Throw', NULL, NULL, 31.315675, NULL, '2010-07-12 12:46:34.873638', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:34.882044', 445, '2010-07-12 12:46:34.882044', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:34.885986', 445, '2010-07-12 12:46:34.885986', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:34.887130', 445, '2010-07-12 12:46:34.887130', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:46:34.888444', 445, '2010-07-12 12:46:34.888444', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.4ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:46:34.898267', 445, NULL, E'6d9768e06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:34.898267', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 445) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 445) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 445) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:34.873638', timestamp '2010-07-12 12:46:41.873741')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:34.873638', "updated_at" = '2010-07-12 12:46:34.909406', "created_at" = '2010-07-12 12:46:34.873869', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813235067', "ending_at" = '2010-07-12 12:46:41.873741', "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "pairing_mode" = 2, "local_ip" = E'192.168.0.77', "uuid" = E'6d943c806fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 445[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 445) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:34.873638', timestamp '2010-07-12 12:46:41.873741')))) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 445) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:34.873638', timestamp '2010-07-12 12:46:41.873741')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 445) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:34.873638', timestamp '2010-07-12 12:46:41.873741')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 253) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:46:34.928514', "event_group_id" = 253 WHERE "id" = 445[0m
  [4;35;1mSQL (31.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/6d943c806fe1012d8d7d001f5bf1b5ba
Completed in 198ms (DB: 46) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:34) [GET]
  Parameters: {"id"=>"697649f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 252) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 252)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 252)) [0m
  [4;36;1mEvent Update (3.9ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 252) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 442) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
Completed in 121ms (View: 1, DB: 11) | 200 OK [http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:35) [GET]
  Parameters: {"id"=>"9f388b5065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9f388b5065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9f388b5065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:36) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:36) [GET]
  Parameters: {"id"=>"697649f06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (9.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 442) LIMIT 1[0m
  [4;36;1mUpload Load (0.4ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
Completed in 61ms (View: 2, DB: 11) | 200 OK [http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:37) [GET]
  Parameters: {"id"=>"9eab118065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9eab118065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 80ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/9eab118065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:38) [GET]
  Parameters: {"id"=>"697649f06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'697649f06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 252) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 252) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 442) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 443) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/697649f06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:46:38) [GET]
  Parameters: {"id"=>"69484c906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'69484c906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 12ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/69484c906fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/processed/file1.png
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:38) [GET]
  Parameters: {"id"=>"6d943c806fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6d943c806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 253) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 253) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 253)) [0m
  [4;36;1mEvent Update (109.9ms)[0m   [0;1mUPDATE "events" SET state = 'collision' WHERE (event_group_id = 253) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 445) LIMIT 1[0m
Completed in 149ms (View: 1, DB: 115) | 409 Conflict [http://localhost/events/6d943c806fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:42) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"Nexus One", "device"=>"passion", "brand"=>"google", "latitude"=>"23.128147", "timestamp"=>"1277813177349", "network_type"=>"EDGE", "network_operator"=>"CMCC", "client_uuid"=>"d31ceab4-cde9-4486-a58f-0685044d69c5", "location_accuracy"=>"648.0", "hoccability"=>"1", "manufacturer"=>"HTC", "type"=>"Throw", "longitude"=>"113.342146", "local_ip"=>"10.57.43.155", "version_sdk"=>"8"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.342146 23.128147)', 4326)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:49.776097', E'Nexus One', E'google', E'passion', 23.128147, '2010-07-12 12:46:42.776222', NULL, E'EDGE', E'1277813177349', E'724a0a706fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:42.776222', E'CMCC', E'd31ceab4-cde9-4486-a58f-0685044d69c5', E'0101000020E6100000431D56B8E5555C409C14E63DCE203740', 648.0, E'1', E'Throw', NULL, E'HTC', 113.342146, NULL, '2010-07-12 12:46:42.775998', E'10.57.43.155', 2, E'waiting', E'8') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:46:42.825688', 446, NULL, E'725107506fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:42.825688', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 446) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 446) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 446) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:42.775998', timestamp '2010-07-12 12:46:49.776097')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 446) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:42.775998', timestamp '2010-07-12 12:46:49.776097')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:46:42.842572', '2010-07-12 12:46:42.842572', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.342146 23.128147)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:42.775998', "updated_at" = '2010-07-12 12:46:42.848162', "created_at" = '2010-07-12 12:46:42.776222', "longitude" = 113.342146, "hoccability" = E'1', "client_uuid" = E'd31ceab4-cde9-4486-a58f-0685044d69c5', "device" = E'passion', "point" = E'0101000020E6100000431D56B8E5555C409C14E63DCE203740', "network_operator" = E'CMCC', "latitude" = 23.128147, "timestamp" = E'1277813177349', "ending_at" = '2010-07-12 12:46:49.776097', "manufacturer" = E'HTC', "event_group_id" = 254, "location_accuracy" = 648.0, "version_sdk" = E'8', "local_ip" = E'10.57.43.155', "uuid" = E'724a0a706fe1012d8d7d001f5bf1b5ba', "model" = E'Nexus One', "brand" = E'google', "api_version" = 2, "type" = E'Throw', "network_type" = E'EDGE' WHERE "id" = 446[0m
  [4;35;1mSQL (10.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/724a0a706fe1012d8d7d001f5bf1b5ba
Completed in 107ms (DB: 21) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:42) [GET]
  Parameters: {"id"=>"724a0a706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'724a0a706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;35;1mAccessPointSighting Load (1.1ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 446) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 446) [0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 446) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:42.775998', timestamp '2010-07-12 12:46:49.776097')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 446) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326), 0.0592619740768797) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.342146 23.128147)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 648.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:42.775998', timestamp '2010-07-12 12:46:49.776097')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (6.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 254) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
Completed in 126ms (View: 1, DB: 18) | 202 Accepted [http://localhost/events/724a0a706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:46:44) [POST]
  Parameters: {"event"=>{"bssids"=>"", "device"=>"sapphire", "model"=>"HTC Magic", "brand"=>"HiAPK.com", "latitude"=>"23.12637", "timestamp"=>"1277813160387", "network_type"=>"UMTS", "network_operator"=>"中国联\351\200\232", "client_uuid"=>"9dc2b5f1-940d-40de-b04d-7c8cfc36061c", "location_accuracy"=>"1066.0", "hoccability"=>"1", "type"=>"Catch", "manufacturer"=>"HTC", "longitude"=>"113.339867", "local_ip"=>"172.16.8.119", "version_sdk"=>"4"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:46:51.072809', E'HTC Magic', E'HiAPK.com', E'sapphire', 23.12637, '2010-07-12 12:46:44.072929', NULL, E'UMTS', E'1277813160387', E'730fe7e06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:46:44.072929', E'中国联通', E'9dc2b5f1-940d-40de-b04d-7c8cfc36061c', E'0101000020E6100000567F8461C0555C400E32C9C859203740', 1066.0, E'1', E'Catch', NULL, E'HTC', 113.339867, NULL, '2010-07-12 12:46:44.072721', E'172.16.8.119', 2, E'waiting', E'4') RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 447) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 447) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 447) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326), 0.0592611890832252) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1066.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:44.072721', timestamp '2010-07-12 12:46:51.072809')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;35;1mCatch Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:46:44.072721', "updated_at" = '2010-07-12 12:46:44.090788', "created_at" = '2010-07-12 12:46:44.072929', "longitude" = 113.339867, "hoccability" = E'1', "client_uuid" = E'9dc2b5f1-940d-40de-b04d-7c8cfc36061c', "device" = E'sapphire', "point" = E'0101000020E6100000567F8461C0555C400E32C9C859203740', "network_operator" = E'中国联通', "latitude" = 23.12637, "timestamp" = E'1277813160387', "ending_at" = '2010-07-12 12:46:51.072809', "manufacturer" = E'HTC', "location_accuracy" = 1066.0, "version_sdk" = E'4', "pairing_mode" = 1, "local_ip" = E'172.16.8.119', "uuid" = E'730fe7e06fe1012d8d7d001f5bf1b5ba', "model" = E'HTC Magic', "brand" = E'HiAPK.com', "api_version" = 2, "type" = E'Catch', "network_type" = E'UMTS' WHERE "id" = 447[0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 447) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326), 0.0592611890832252) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(113.339867 23.12637)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1066.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:46:44.072721', timestamp '2010-07-12 12:46:51.072809')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(113.339867 23.12637)', 4326)[0m
  [4;35;1mCatch Update (0.6ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:46:44.101712', "event_group_id" = 254 WHERE "id" = 447[0m
  [4;36;1mSQL (9.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/730fe7e06fe1012d8d7d001f5bf1b5ba
Completed in 62ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:46:45) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-bi623i-0>}, "id"=>"725107506fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'725107506fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:46:45.163242', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:46:45.161359', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 259[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/259/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/259/processed/file1.png
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 33ms (View: 1, DB: 4) | 200 OK [http://localhost/uploads/725107506fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:45) [GET]
  Parameters: {"id"=>"730fe7e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'730fe7e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 254) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
Completed in 145ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/730fe7e06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:45) [GET]
  Parameters: {"id"=>"724a0a706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'724a0a706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 254) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/724a0a706fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:47) [GET]
  Parameters: {"id"=>"730fe7e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'730fe7e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (68.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 254) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 75) | 202 Accepted [http://localhost/events/730fe7e06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:47) [GET]
  Parameters: {"id"=>"724a0a706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'724a0a706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.5ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 254) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
Completed in 125ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/724a0a706fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:49) [GET]
  Parameters: {"id"=>"730fe7e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'730fe7e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (59.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 254) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 66) | 202 Accepted [http://localhost/events/730fe7e06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:49) [GET]
  Parameters: {"id"=>"724a0a706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (5.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'724a0a706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;35;1mEvent Load (4.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 254)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 254) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 254)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 254)) [0m
  [4;36;1mEvent Update (21.6ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 254) [0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
Completed in 94ms (View: 1, DB: 35) | 200 OK [http://localhost/events/724a0a706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:51) [GET]
  Parameters: {"id"=>"730fe7e06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'730fe7e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/730fe7e06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:52) [GET]
  Parameters: {"id"=>"724a0a706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'724a0a706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
  [4;36;1mUpload Load (0.4ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/724a0a706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:46:53) [GET]
  Parameters: {"id"=>"a5c98a4065a4012d361200176ed99fe3"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'a5c98a4065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/a5c98a4065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:46:53) [GET]
  Parameters: {"id"=>"730fe7e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'730fe7e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 254) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 254) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 446) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 447) LIMIT 1[0m
Completed in 118ms (View: 1, DB: 5) | 200 OK [http://localhost/events/730fe7e06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:09) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813272165", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:16.378848', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:47:09.378966', NULL, NULL, E'1277813272165', E'82254cf06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:09.378966', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:47:09.378758', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:09.386396', 448, '2010-07-12 12:47:09.386396', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:09.390778', 448, '2010-07-12 12:47:09.390778', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:09.391856', 448, '2010-07-12 12:47:09.391856', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:47:09.399906', 448, NULL, E'82280ef06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:09.399906', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (151.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 448) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 448) [0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 448) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:09.378758', timestamp '2010-07-12 12:47:16.378848')))) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 448) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:09.378758', timestamp '2010-07-12 12:47:16.378848')))) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 448) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:09.378758', timestamp '2010-07-12 12:47:16.378848')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 448) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:09.378758', timestamp '2010-07-12 12:47:16.378848')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:47:09.576958', '2010-07-12 12:47:09.576958', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:09.378758', "updated_at" = '2010-07-12 12:47:09.646206', "created_at" = '2010-07-12 12:47:09.378966', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813272165', "ending_at" = '2010-07-12 12:47:16.378848', "event_group_id" = 255, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'82254cf06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 448[0m
  [4;35;1mSQL (19.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/82254cf06fe1012d8d7d001f5bf1b5ba
Completed in 319ms (DB: 186) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:10) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b8:d5:ed,0:15:e9:a:e0:24,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813205843", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:17.730721', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:47:10.730841', NULL, NULL, E'1277813205843', E'82f394906fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:10.730841', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:47:10.730633', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.738188', 449, '2010-07-12 12:47:10.738188', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.741695', 449, '2010-07-12 12:47:10.741695', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.742813', 449, '2010-07-12 12:47:10.742813', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.743833', 449, '2010-07-12 12:47:10.743833', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.744868', 449, '2010-07-12 12:47:10.744868', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.745884', 449, '2010-07-12 12:47:10.745884', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.746896', 449, '2010-07-12 12:47:10.746896', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.747912', 449, '2010-07-12 12:47:10.747912', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.748921', 449, '2010-07-12 12:47:10.748921', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:10.749999', 449, '2010-07-12 12:47:10.749999', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 449) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 449) [0m
  [4;35;1mSQL (4.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 449) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:10.730633', timestamp '2010-07-12 12:47:17.730721')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:10.730633', "updated_at" = '2010-07-12 12:47:10.764515', "created_at" = '2010-07-12 12:47:10.730841', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813205843', "ending_at" = '2010-07-12 12:47:17.730721', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 449[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 449) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:10.730633', timestamp '2010-07-12 12:47:17.730721')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:10.778067', "pairing_mode" = 3 WHERE "id" = 449[0m
  [4;35;1mEvent Load (2.4ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 449) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:10.730633', timestamp '2010-07-12 12:47:17.730721')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 449) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:10.730633', timestamp '2010-07-12 12:47:17.730721')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:10.871535', "event_group_id" = 255 WHERE "id" = 449[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba
Completed in 182ms (DB: 22) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:10) [GET]
  Parameters: {"id"=>"82f394906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 255) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 255)) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (15.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 255) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
Completed in 140ms (View: 1, DB: 23) | 202 Accepted [http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:11) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (2.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:47:12) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1umh6b6-0>}, "id"=>"69484c906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'69484c906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:47:12.147252', "attachment_updated_at" = '2010-07-12 12:47:12.145349' WHERE "id" = 256[0m
[paperclip] Saving attachments.
[paperclip] deleting /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/original/file1.png
[paperclip] deleting /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/processed/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/processed/file1.png
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Completed in 62ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/69484c906fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:12) [GET]
  Parameters: {"id"=>"82f394906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 255) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 255)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (3.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 255) [0m
  [4;36;1mEvent Load (1.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
Completed in 63ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:13) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 103ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:13) [GET]
  Parameters: {"id"=>"82f394906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (7.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 255) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 255)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (4.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 255) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 17) | 202 Accepted [http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:14) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:14) [GET]
  Parameters: {"id"=>"82f394906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 255) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 255)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 255) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
Completed in 115ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:15) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:16) [GET]
  Parameters: {"id"=>"82f394906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 255) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 255)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 255)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 255) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 255)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 255)) [0m
  [4;35;1mEvent Update (97.7ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 255) [0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 448) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
Completed in 150ms (View: 1, DB: 104) | 200 OK [http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:16) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (3.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 18ms (View: 1, DB: 4) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:17) [GET]
  Parameters: {"id"=>"82f394906fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 255) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 448) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:18) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:19) [GET]
  Parameters: {"id"=>"82f394906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'82f394906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 255) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 255) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 448) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 449) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/82f394906fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:47:19) [GET]
  Parameters: {"id"=>"69484c906fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'69484c906fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (7.8ms)[0m   [0mCOMMIT[0m
Completed in 89ms (View: 1, DB: 9) | 200 OK [http://localhost/uploads/69484c906fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/256/processed/file1.png
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:20) [GET]
  Parameters: {"id"=>"b51e095065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b51e095065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/b51e095065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:26) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:65:3f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813281621", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"SweepOut", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:33.414733', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 12:47:26.414852', NULL, NULL, E'1277813281621', E'8c4cc5506fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:26.414852', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'SweepOut', NULL, NULL, 31.315675, NULL, '2010-07-12 12:47:26.414645', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:26.422242', 450, '2010-07-12 12:47:26.422242', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:26.425860', 450, '2010-07-12 12:47:26.425860', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:26.426870', 450, '2010-07-12 12:47:26.426870', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:26.427863', 450, '2010-07-12 12:47:26.427863', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:47:26.436358', 450, NULL, E'8c4f9ed06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:26.436358', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 450) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 450) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:47:26.455200', '2010-07-12 12:47:26.455200', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;35;1mSweepOut Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:26.414645', "updated_at" = '2010-07-12 12:47:26.521077', "created_at" = '2010-07-12 12:47:26.414852', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813281621', "ending_at" = '2010-07-12 12:47:33.414733', "event_group_id" = 256, "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.77', "uuid" = E'8c4cc5506fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 450[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/8c4cc5506fe1012d8d7d001f5bf1b5ba
Completed in 140ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:26) [GET]
  Parameters: {"id"=>"8c4cc5506fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8c4cc5506fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 256) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 256) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 450) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 450) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:90:d0:f7:65:3f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 450) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:26.414645', timestamp '2010-07-12 12:47:33.414733')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 256)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 256)) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 256) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 256) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 256) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 450) LIMIT 1[0m
Completed in 65ms (View: 1, DB: 16) | 202 Accepted [http://localhost/events/8c4cc5506fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:47:26) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-edu4ti-0>}, "id"=>"8c4f9ed06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8c4f9ed06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:47:26.656318', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:47:26.652791', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 261[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/261/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/261/processed/file1.png
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 32ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/8c4f9ed06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-12 14:47:27) [DELETE]
  Parameters: {"id"=>"8c4cc5506fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'8c4cc5506fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;35;1mSweepOut Update (1.2ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:27.822451', "state" = E'canceled' WHERE "id" = 450[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Completed in 120ms (View: 1, DB: 6) | 200 OK [http://localhost/events/8c4cc5506fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:31) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813292189", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:38.880008', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:47:31.880128', NULL, NULL, E'1277813292189', E'8f8eb4606fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:31.880128', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:47:31.879918', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:31.887637', 451, '2010-07-12 12:47:31.887637', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:31.891165', 451, '2010-07-12 12:47:31.891165', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:31.892264', 451, '2010-07-12 12:47:31.892264', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:31.893432', 451, '2010-07-12 12:47:31.893432', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:47:31.902599', 451, NULL, E'8f91aca06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:31.902599', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 451) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 451) [0m
  [4;35;1mSQL (4.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;35;1mEvent Load (1.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:47:31.925270', '2010-07-12 12:47:31.925270', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:31.879918', "updated_at" = '2010-07-12 12:47:31.932093', "created_at" = '2010-07-12 12:47:31.880128', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813292189', "ending_at" = '2010-07-12 12:47:38.880008', "event_group_id" = 257, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'8f8eb4606fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 451[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/8f8eb4606fe1012d8d7d001f5bf1b5ba
Completed in 85ms (DB: 17) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:33) [GET]
  Parameters: {"id"=>"8f8eb4606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'8f8eb4606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 451) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 451) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;36;1mEvent Load (1.6ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 451) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:31.879918', timestamp '2010-07-12 12:47:38.880008')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 257) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 451) LIMIT 1[0m
Completed in 58ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/8f8eb4606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:33) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b8:d5:ed,0:15:e9:a:e0:24,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813225830", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:40.140474', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:47:33.140596', NULL, NULL, E'1277813225830', E'904f08e06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:33.140596', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:47:33.140373', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.154639', 452, '2010-07-12 12:47:33.154639', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.158939', 452, '2010-07-12 12:47:33.158939', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.160395', 452, '2010-07-12 12:47:33.160395', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.161533', 452, '2010-07-12 12:47:33.161533', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.162584', 452, '2010-07-12 12:47:33.162584', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.163596', 452, '2010-07-12 12:47:33.163596', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.164607', 452, '2010-07-12 12:47:33.164607', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.165958', 452, '2010-07-12 12:47:33.165958', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.167003', 452, '2010-07-12 12:47:33.167003', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:33.168032', 452, '2010-07-12 12:47:33.168032', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 452) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 452) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 452) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:33.140373', timestamp '2010-07-12 12:47:40.140474')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:33.140373', "updated_at" = '2010-07-12 12:47:33.241283', "created_at" = '2010-07-12 12:47:33.140596', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813225830', "ending_at" = '2010-07-12 12:47:40.140474', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 452[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 452) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:33.140373', timestamp '2010-07-12 12:47:40.140474')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:33.255264', "pairing_mode" = 3 WHERE "id" = 452[0m
  [4;35;1mEvent Load (2.2ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 452) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:33.140373', timestamp '2010-07-12 12:47:40.140474')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 452) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:33.140373', timestamp '2010-07-12 12:47:40.140474')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:33.282137', "event_group_id" = 257 WHERE "id" = 452[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba
Completed in 187ms (DB: 20) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:33) [GET]
  Parameters: {"id"=>"904f08e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 257) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:47:33) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-osl7mo-0>}, "id"=>"8f91aca06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8f91aca06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:47:33.477102', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:47:33.474828', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 262[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/262/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/262/processed/file1.png
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 32ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/8f91aca06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:34) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:34) [GET]
  Parameters: {"id"=>"904f08e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 257) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
Completed in 143ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:35) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:35) [GET]
  Parameters: {"id"=>"904f08e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 257) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:37) [GET]
  Parameters: {"id"=>"904f08e06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 257) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
Completed in 126ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:38) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 20ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:39) [GET]
  Parameters: {"id"=>"904f08e06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 257) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 257)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 257)) [0m
  [4;36;1mEvent Update (2.5ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 257) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 451) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 8) | 200 OK [http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:39) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 90ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:40) [GET]
  Parameters: {"id"=>"904f08e06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 451) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 5) | 200 OK [http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:40) [GET]
  Parameters: {"id"=>"c10182b065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c10182b065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 25ms (View: 11, DB: 2) | 404 Not Found [http://localhost/events/c10182b065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:41) [GET]
  Parameters: {"id"=>"904f08e06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'904f08e06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 257) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 257) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 451) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 452) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/904f08e06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:47:41) [GET]
  Parameters: {"id"=>"8f91aca06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8f91aca06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 22ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/8f91aca06fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/262/processed/file1.png
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:41) [POST]
  Parameters: {"event"=>{"bssids"=>"0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"30.093176", "timestamp"=>"1277813295627", "client_uuid"=>"70af887981adca926dd6f9d4fdb0738a6e41a6d4", "location_accuracy"=>"8000.000000", "hoccability"=>"1", "type"=>"SweepOut", "longitude"=>"31.315675", "local_ip"=>"192.168.0.77", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:48.587781', E'iPhone', NULL, E'iPhone OS', 30.093176, '2010-07-12 12:47:41.587904', NULL, NULL, E'1277813295627', E'9557fde06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:41.587904', NULL, E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', 8000.0, E'1', E'SweepOut', NULL, NULL, 31.315675, NULL, '2010-07-12 12:47:41.587679', E'192.168.0.77', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:41.595632', 453, '2010-07-12 12:47:41.595632', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:41.599132', 453, '2010-07-12 12:47:41.599132', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:41.600155', 453, '2010-07-12 12:47:41.600155', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:47:41.608598', 453, NULL, E'955ab5406fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:41.608598', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:47:41.627631', '2010-07-12 12:47:41.627631', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(31.315675 30.093176)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:41.587679', "updated_at" = '2010-07-12 12:47:41.633763', "created_at" = '2010-07-12 12:47:41.587904', "longitude" = 31.315675, "hoccability" = E'1', "client_uuid" = E'70af887981adca926dd6f9d4fdb0738a6e41a6d4', "device" = E'iPhone OS', "point" = E'0101000020E6100000302AA913D0503F40A8C5E061DA173E40', "latitude" = 30.093176, "timestamp" = E'1277813295627', "ending_at" = '2010-07-12 12:47:48.587781', "event_group_id" = 258, "location_accuracy" = 8000.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.77', "uuid" = E'9557fde06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 453[0m
  [4;35;1mSQL (6.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/9557fde06fe1012d8d7d001f5bf1b5ba
Completed in 86ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:41) [GET]
  Parameters: {"id"=>"9557fde06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9557fde06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.1ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 258) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 453) LIMIT 1[0m
Completed in 62ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/9557fde06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:47:42) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1xyadee-0>}, "id"=>"8c4f9ed06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'8c4f9ed06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:47:42.845173', "attachment_updated_at" = '2010-07-12 12:47:42.843193' WHERE "id" = 261[0m
[paperclip] Saving attachments.
[paperclip] deleting /Volumes/Data/Artcom/hoccer/server/public/system/attachments/261/original/file1.png
[paperclip] deleting /Volumes/Data/Artcom/hoccer/server/public/system/attachments/261/processed/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/261/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/261/processed/file1.png
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 32ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/8c4f9ed06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:43) [GET]
  Parameters: {"id"=>"9557fde06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9557fde06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 258) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 453) LIMIT 1[0m
Completed in 146ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/9557fde06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:45) [GET]
  Parameters: {"id"=>"9557fde06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9557fde06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 453) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 453) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326), 0.062989259203346) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(31.315675 30.093176)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 8000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:41.587679', timestamp '2010-07-12 12:47:48.587781')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 258) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 453) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/9557fde06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:45) [POST]
  Parameters: {"event"=>{"bssids"=>"0:14:7c:bd:f:f2,0:90:d0:f7:65:3f,0:1d:68:69:89:a1,0:1f:9f:ed:16:9f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813234009", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"SweepIn", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:52.184926', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 12:47:45.185056', NULL, NULL, E'1277813234009', E'977cdf706fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:45.185056', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'SweepIn', NULL, NULL, 0.0, NULL, '2010-07-12 12:47:45.184827', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:45.261905', 454, '2010-07-12 12:47:45.261905', E'00:14:7c:bd:0f:f2', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:45.266152', 454, '2010-07-12 12:47:45.266152', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:45.267275', 454, '2010-07-12 12:47:45.267275', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:45.268572', 454, '2010-07-12 12:47:45.268572', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:45.269690', 454, '2010-07-12 12:47:45.269690', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:45.270752', 454, '2010-07-12 12:47:45.270752', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:45.271803', 454, '2010-07-12 12:47:45.271803', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 454) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 454) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 454) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:45.184827', timestamp '2010-07-12 12:47:52.184926')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:45.184827', "updated_at" = '2010-07-12 12:47:45.283303', "created_at" = '2010-07-12 12:47:45.185056', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813234009', "ending_at" = '2010-07-12 12:47:52.184926', "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "pairing_mode" = 2, "local_ip" = E'192.168.0.78', "uuid" = E'977cdf706fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 454[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 454) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:45.184827', timestamp '2010-07-12 12:47:52.184926')))) [0m
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 454) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:45.184827', timestamp '2010-07-12 12:47:52.184926')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 454) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:45.184827', timestamp '2010-07-12 12:47:52.184926')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSweepIn Update (0.6ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:45.307611', "event_group_id" = 258 WHERE "id" = 454[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/977cdf706fe1012d8d7d001f5bf1b5ba
Completed in 165ms (DB: 17) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:45) [GET]
  Parameters: {"id"=>"977cdf706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'977cdf706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 258) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
Completed in 107ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/977cdf706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:46) [GET]
  Parameters: {"id"=>"c5af404065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c5af404065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c5af404065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:47) [GET]
  Parameters: {"id"=>"977cdf706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'977cdf706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 258) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/977cdf706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:47) [GET]
  Parameters: {"id"=>"c5af404065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'c5af404065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c5af404065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:47) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"51.295935", "location_accuracy"=>"755.0", "type"=>"Catch", "longitude"=>"6.862474"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:54.729235', NULL, NULL, NULL, 51.295935, '2010-07-12 12:47:47.729353', NULL, NULL, NULL, E'99011b206fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:47.729353', NULL, NULL, E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', 755.0, NULL, E'Catch', NULL, NULL, 6.862474, NULL, '2010-07-12 12:47:47.729148', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 455) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 455) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 455) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:47.729148', timestamp '2010-07-12 12:47:54.729235')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 455) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:47.729148', timestamp '2010-07-12 12:47:54.729235')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:47:47.750409', '2010-07-12 12:47:47.750409', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;36;1mCatch Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:47.729148', "updated_at" = '2010-07-12 12:47:47.756500', "created_at" = '2010-07-12 12:47:47.729353', "longitude" = 6.862474, "point" = E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', "latitude" = 51.295935, "ending_at" = '2010-07-12 12:47:54.729235', "event_group_id" = 259, "location_accuracy" = 755.0, "uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba', "api_version" = 2, "type" = E'Catch' WHERE "id" = 455[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba
Completed in 115ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:47) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"51.295935", "location_accuracy"=>"755.0", "type"=>"Catch", "longitude"=>"6.862474"}}
  [4;36;1mSQL (0.9ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:47:54.803515', NULL, NULL, NULL, 51.295935, '2010-07-12 12:47:47.803642', NULL, NULL, NULL, E'990c6fb06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:47.803642', NULL, NULL, E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', 755.0, NULL, E'Catch', NULL, NULL, 6.862474, NULL, '2010-07-12 12:47:47.803411', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 456) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 456) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 456) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:47.803411', timestamp '2010-07-12 12:47:54.803515')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mCatch Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:47.803411', "updated_at" = '2010-07-12 12:47:47.821194', "created_at" = '2010-07-12 12:47:47.803642', "longitude" = 6.862474, "point" = E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', "latitude" = 51.295935, "ending_at" = '2010-07-12 12:47:54.803515', "location_accuracy" = 755.0, "pairing_mode" = 1, "uuid" = E'990c6fb06fe1012d8d7d001f5bf1b5ba', "api_version" = 2, "type" = E'Catch' WHERE "id" = 456[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 456) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:47.803411', timestamp '2010-07-12 12:47:54.803515')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mCatch Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:47.830100', "event_group_id" = 259 WHERE "id" = 456[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/990c6fb06fe1012d8d7d001f5bf1b5ba
Completed in 51ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:47) [GET]
  Parameters: {"id"=>"99011b206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 259) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 455) LIMIT 1[0m
Completed in 104ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:48) [GET]
  Parameters: {"id"=>"990c6fb06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'990c6fb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 259) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 456) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/990c6fb06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:49) [GET]
  Parameters: {"id"=>"977cdf706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'977cdf706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 258) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 258)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 258)) [0m
  [4;35;1mEvent Update (2.2ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 258) [0m
  [4;36;1mUpload Load (1.1ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 453) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 9) | 200 OK [http://localhost/events/977cdf706fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:49) [GET]
  Parameters: {"id"=>"c5af404065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c5af404065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/c5af404065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:50) [GET]
  Parameters: {"id"=>"990c6fb06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'990c6fb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.9ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 259) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 456) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/990c6fb06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:50) [GET]
  Parameters: {"id"=>"977cdf706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'977cdf706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 453) LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 7) | 200 OK [http://localhost/events/977cdf706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-12 14:47:50) [DELETE]
  Parameters: {"id"=>"990c6fb06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'990c6fb06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mCatch Update (1.1ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:50.452084', "state" = E'canceled' WHERE "id" = 456[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Completed in 27ms (View: 1, DB: 6) | 200 OK [http://localhost/events/990c6fb06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:50) [GET]
  Parameters: {"id"=>"99011b206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.9ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 259) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 455) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:51) [GET]
  Parameters: {"id"=>"c5af404065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'c5af404065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 14ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/c5af404065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:51) [GET]
  Parameters: {"id"=>"977cdf706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'977cdf706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 258) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 258) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 453) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 454) LIMIT 1[0m
Completed in 108ms (View: 1, DB: 5) | 200 OK [http://localhost/events/977cdf706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:47:51) [GET]
  Parameters: {"id"=>"955ab5406fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'955ab5406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
Completed in 11ms (View: 1, DB: 1) | 202 Accepted [http://localhost/uploads/955ab5406fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:52) [GET]
  Parameters: {"id"=>"99011b206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (2.2ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 259) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 455) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:53) [GET]
  Parameters: {"id"=>"99011b206fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 259) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 455) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:53) [POST]
  Parameters: {"event"=>{"bssids"=>"0:14:7c:bd:f:f2,0:90:d0:f7:65:3f,0:1d:68:69:89:a1,0:1f:9f:ed:16:9f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813241572", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"SweepOut", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:00.982797', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 12:47:53.982915', NULL, NULL, E'1277813241572', E'9cbb52c06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:53.982915', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'SweepOut', NULL, NULL, 0.0, NULL, '2010-07-12 12:47:53.982706', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:53.990142', 457, '2010-07-12 12:47:53.990142', E'00:14:7c:bd:0f:f2', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:53.993594', 457, '2010-07-12 12:47:53.993594', E'00:90:d0:f7:65:3f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (13.9ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:53.994623', 457, '2010-07-12 12:47:53.994623', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:54.011410', 457, '2010-07-12 12:47:54.011410', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:54.013489', 457, '2010-07-12 12:47:54.013489', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:54.015363', 457, '2010-07-12 12:47:54.015363', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:54.017186', 457, '2010-07-12 12:47:54.017186', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:47:54.030081', 457, NULL, E'9cc20aa06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:54.030081', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:47:54.048963', '2010-07-12 12:47:54.048963', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:53.982706', "updated_at" = '2010-07-12 12:47:54.056760', "created_at" = '2010-07-12 12:47:53.982915', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813241572', "ending_at" = '2010-07-12 12:48:00.982797', "event_group_id" = 260, "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.78', "uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 457[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba
Completed in 169ms (DB: 28) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:55) [GET]
  Parameters: {"id"=>"9cbb52c06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 260) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 260) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 260)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 260)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 260) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 457) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:55) [POST]
  Parameters: {"event"=>{"bssids"=>"0:24:17:b1:de:4f,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813310630", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:02.260628', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:47:55.260751', NULL, NULL, E'1277813310630', E'9d7e4d406fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:55.260751', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:47:55.260523', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.269924', 458, '2010-07-12 12:47:55.269924', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.275570', 458, '2010-07-12 12:47:55.275570', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.276963', 458, '2010-07-12 12:47:55.276963', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.278648', 458, '2010-07-12 12:47:55.278648', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:47:55.354558', 458, NULL, E'9d8c19d06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:55.354558', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 458) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 458) [0m
  [4;35;1mSQL (4.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;35;1mEvent Load (1.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:47:55.377814', '2010-07-12 12:47:55.377814', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:55.260523', "updated_at" = '2010-07-12 12:47:55.384845', "created_at" = '2010-07-12 12:47:55.260751', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813310630', "ending_at" = '2010-07-12 12:48:02.260628', "event_group_id" = 261, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'9d7e4d406fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 458[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/9d7e4d406fe1012d8d7d001f5bf1b5ba
Completed in 159ms (DB: 18) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:47:55) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-vw40k6-0>}, "id"=>"9cc20aa06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9cc20aa06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:47:55.454322', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:47:55.452023', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 264[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/264/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/264/processed/file1.png
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/9cc20aa06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:55) [GET]
  Parameters: {"id"=>"9d7e4d406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9d7e4d406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 458) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 458) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;36;1mEvent Load (1.6ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b1:de:4f')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 458) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.260523', timestamp '2010-07-12 12:48:02.260628')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 261) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 458) LIMIT 1[0m
Completed in 149ms (View: 1, DB: 17) | 202 Accepted [http://localhost/events/9d7e4d406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:55) [GET]
  Parameters: {"id"=>"99011b206fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 259) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 259)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 259)) [0m
  [4;36;1mEvent Update (2.6ms)[0m   [0;1mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 259) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 455) LIMIT 1[0m
Completed in 46ms (View: 1, DB: 9) | 410 Gone [http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:47:55) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1f:9f:e9:7a:93,0:15:e9:a:e0:24,0:24:17:b1:de:4f,0:24:17:b8:d5:ed,0:1c:df:76:56:7d,0:1f:9f:cd:71:63,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813244383", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:02.780451', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:47:55.780570', NULL, NULL, E'1277813244383', E'9dcd9f606fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:47:55.780570', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:47:55.780357', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.789260', 459, '2010-07-12 12:47:55.789260', E'00:1f:9f:e9:7a:93', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.793462', 459, '2010-07-12 12:47:55.793462', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.794656', 459, '2010-07-12 12:47:55.794656', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.795711', 459, '2010-07-12 12:47:55.795711', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.796751', 459, '2010-07-12 12:47:55.796751', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.797908', 459, '2010-07-12 12:47:55.797908', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.799074', 459, '2010-07-12 12:47:55.799074', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.864191', 459, '2010-07-12 12:47:55.864191', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.865886', 459, '2010-07-12 12:47:55.865886', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.867031', 459, '2010-07-12 12:47:55.867031', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:47:55.868163', 459, '2010-07-12 12:47:55.868163', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 459) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 459) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 459) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:1f:9f:e9:7a:93')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.780357', timestamp '2010-07-12 12:48:02.780451')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:47:55.780357', "updated_at" = '2010-07-12 12:47:55.884708', "created_at" = '2010-07-12 12:47:55.780570', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813244383', "ending_at" = '2010-07-12 12:48:02.780451', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 459[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 459) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.780357', timestamp '2010-07-12 12:48:02.780451')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:55.899226', "pairing_mode" = 3 WHERE "id" = 459[0m
  [4;36;1mEvent Load (2.3ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 459) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1f:9f:cd:71:63',E'00:1c:df:76:56:7d',E'00:24:17:b8:d5:ed',E'00:24:17:b1:de:4f',E'00:15:e9:0a:e0:24',E'00:1f:9f:e9:7a:93')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.780357', timestamp '2010-07-12 12:48:02.780451')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 459) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:55.780357', timestamp '2010-07-12 12:48:02.780451')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:55.926624', "event_group_id" = 261 WHERE "id" = 459[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba
Completed in 253ms (DB: 21) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:57) [GET]
  Parameters: {"id"=>"9dcd9f606fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 261) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:47:57) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-6711a3-0>}, "id"=>"9d8c19d06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9d8c19d06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:47:57.109029', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:47:57.106884', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 265[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/265/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/265/processed/file1.png
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/9d8c19d06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:57) [GET]
  Parameters: {"id"=>"9cbb52c06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 260) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 260) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 260)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 260)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 260) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 457) LIMIT 1[0m
Completed in 155ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:57) [GET]
  Parameters: {"id"=>"99011b206fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 259) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 259) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 455) LIMIT 1[0m
Completed in 33ms (View: 1, DB: 5) | 410 Gone [http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-12 14:47:57) [DELETE]
  Parameters: {"id"=>"99011b206fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'99011b206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;35;1mCatch Update (2.0ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:47:57.413234', "state" = E'canceled' WHERE "id" = 455[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Completed in 29ms (View: 1, DB: 7) | 200 OK [http://localhost/events/99011b206fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:57) [GET]
  Parameters: {"id"=>"cbff14f065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'cbff14f065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 83ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/cbff14f065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:58) [GET]
  Parameters: {"id"=>"9dcd9f606fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 261) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:58) [GET]
  Parameters: {"id"=>"9cbb52c06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 260) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 260) [0m
  [4;36;1mAccessPointSighting Load (1.2ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (1.1ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 260)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 260)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 260) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 457) LIMIT 1[0m
Completed in 63ms (View: 1, DB: 16) | 202 Accepted [http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:59) [GET]
  Parameters: {"id"=>"cbff14f065a4012d361200176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'cbff14f065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 77ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/cbff14f065a4012d361200176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:59) [GET]
  Parameters: {"id"=>"9dcd9f606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 261) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:47:59) [GET]
  Parameters: {"id"=>"9cbb52c06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 260) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 260) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (1.1ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 260)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 260)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 260) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 457) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:01) [GET]
  Parameters: {"id"=>"9dcd9f606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 261) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:01) [GET]
  Parameters: {"id"=>"9cbb52c06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (5.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 260) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 260) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 260)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 260)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 260) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 260)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 260)) [0m
  [4;35;1mEvent Update (3.2ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 260) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 457) LIMIT 1[0m
Completed in 67ms (View: 1, DB: 19) | 410 Gone [http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:02) [GET]
  Parameters: {"id"=>"9dcd9f606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 261) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 261)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 261)) [0m
  [4;35;1mEvent Update (2.4ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 261) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 458) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
Completed in 112ms (View: 1, DB: 8) | 200 OK [http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:03) [GET]
  Parameters: {"id"=>"9cbb52c06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 260) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 260) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 457) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 12) | 410 Gone [http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:03) [GET]
  Parameters: {"id"=>"9dcd9f606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 458) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
Completed in 108ms (View: 1, DB: 6) | 200 OK [http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:04) [GET]
  Parameters: {"id"=>"9cbb52c06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9cbb52c06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 260) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 260) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 457) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1',E'00:90:d0:f7:65:3f',E'00:14:7c:bd:0f:f2')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 457) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:47:53.982706', timestamp '2010-07-12 12:48:00.982797')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 457) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/9cbb52c06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:04) [GET]
  Parameters: {"id"=>"cbff14f065a4012d361200176ed99fe3"}
  [4;35;1mEvent Load (2.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'cbff14f065a4012d361200176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/cbff14f065a4012d361200176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:04) [GET]
  Parameters: {"id"=>"cfdab78065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'cfdab78065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/cfdab78065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:04) [GET]
  Parameters: {"id"=>"9dcd9f606fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'9dcd9f606fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 261) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 261) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 458) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 459) LIMIT 1[0m
Completed in 116ms (View: 1, DB: 5) | 200 OK [http://localhost/events/9dcd9f606fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:48:04) [GET]
  Parameters: {"id"=>"9d8c19d06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'9d8c19d06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/9d8c19d06fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/265/processed/file1.png
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:06) [GET]
  Parameters: {"id"=>"cfdab78065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'cfdab78065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/cfdab78065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:08) [GET]
  Parameters: {"id"=>"cfdab78065a4012d361a00176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'cfdab78065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 14ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/cfdab78065a4012d361a00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:09) [GET]
  Parameters: {"id"=>"cfdab78065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'cfdab78065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 76ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/cfdab78065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:12) [GET]
  Parameters: {"id"=>"cfdab78065a4012d361a00176ed99fe3"}
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'cfdab78065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/cfdab78065a4012d361a00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:48:13) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813326002", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:20.114959', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:48:13.115070', NULL, NULL, E'1277813326002', E'a822a9306fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:13.115070', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:48:13.114876', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:13.122945', 460, '2010-07-12 12:48:13.122945', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:13.128913', 460, '2010-07-12 12:48:13.128913', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:13.129980', 460, '2010-07-12 12:48:13.129980', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:48:13.137944', 460, NULL, E'a825b8806fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:13.137944', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 460) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 460) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:48:13.157169', '2010-07-12 12:48:13.157169', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSweepOut Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:48:13.114876', "updated_at" = '2010-07-12 12:48:13.222210', "created_at" = '2010-07-12 12:48:13.115070', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813326002', "ending_at" = '2010-07-12 12:48:20.114959', "event_group_id" = 262, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'a822a9306fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 460[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/a822a9306fe1012d8d7d001f5bf1b5ba
Completed in 138ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:14) [GET]
  Parameters: {"id"=>"a822a9306fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (5.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a822a9306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 460) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 460) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 460) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:13.114876', timestamp '2010-07-12 12:48:20.114959')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 262) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 460) LIMIT 1[0m
Completed in 222ms (View: 1, DB: 16) | 202 Accepted [http://localhost/events/a822a9306fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:48:14) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1b:2f:e7:27:86,0:1f:9f:e9:7a:93,0:24:17:b8:d5:ed,0:15:e9:a:e0:24,0:1f:9f:cd:71:63,0:24:17:b1:de:4f,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b0:36:23,2:1e:69:e6:2b:6a,0:1e:69:e6:2b:69,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813259659", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:21.589736', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:48:14.589871', NULL, NULL, E'1277813259659', E'a903ad706fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:14.589871', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:48:14.589597', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.598248', 461, '2010-07-12 12:48:14.598248', E'00:1b:2f:e7:27:86', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.601830', 461, '2010-07-12 12:48:14.601830', E'00:1f:9f:e9:7a:93', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.666397', 461, '2010-07-12 12:48:14.666397', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.667573', 461, '2010-07-12 12:48:14.667573', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.668708', 461, '2010-07-12 12:48:14.668708', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.669772', 461, '2010-07-12 12:48:14.669772', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.670905', 461, '2010-07-12 12:48:14.670905', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.671985', 461, '2010-07-12 12:48:14.671985', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.673030', 461, '2010-07-12 12:48:14.673030', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.674129', 461, '2010-07-12 12:48:14.674129', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.675200', 461, '2010-07-12 12:48:14.675200', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:14.676279', 461, '2010-07-12 12:48:14.676279', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 461) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 461) [0m
  [4;35;1mSQL (4.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 461) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed',E'00:1f:9f:e9:7a:93',E'00:1b:2f:e7:27:86')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:14.589597', timestamp '2010-07-12 12:48:21.589736')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:48:14.589597', "updated_at" = '2010-07-12 12:48:14.690651', "created_at" = '2010-07-12 12:48:14.589871', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813259659', "ending_at" = '2010-07-12 12:48:21.589736', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 461[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 461) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:14.589597', timestamp '2010-07-12 12:48:21.589736')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:48:14.705140', "pairing_mode" = 3 WHERE "id" = 461[0m
  [4;35;1mEvent Load (5.5ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 461) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'00:1e:69:e6:2b:69',E'02:1e:69:e6:2b:6a',E'00:24:17:b0:36:23',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:24:17:b1:de:4f',E'00:1f:9f:cd:71:63',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed',E'00:1f:9f:e9:7a:93',E'00:1b:2f:e7:27:86')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:14.589597', timestamp '2010-07-12 12:48:21.589736')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 461) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:14.589597', timestamp '2010-07-12 12:48:21.589736')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.7ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:48:14.803537', "event_group_id" = 262 WHERE "id" = 461[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba
Completed in 265ms (DB: 25) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:14) [GET]
  Parameters: {"id"=>"a903ad706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 262) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:48:14) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1lfx6ka-0>}, "id"=>"a825b8806fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'a825b8806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.8ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:48:14.926172', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:48:14.921982', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 266[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/266/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/266/processed/file1.png
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 35ms (View: 3, DB: 3) | 200 OK [http://localhost/uploads/a825b8806fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:16) [GET]
  Parameters: {"id"=>"d53ae20065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'd53ae20065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/d53ae20065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:16) [GET]
  Parameters: {"id"=>"a903ad706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 262) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:48:17) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1d:68:69:89:a1,0:1f:9f:ed:16:9f,0:22:6b:f3:44:e7,0:19:e3:d9:db:53,0:90:4c:60:4:0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1277813259788", "client_uuid"=>"fdef02498310a13cb3d89adeea6e0da5d7e42ed1", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"SweepOut", "longitude"=>"0.000000", "local_ip"=>"192.168.0.78", "version_sdk"=>"3.1.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:24.211562', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-12 12:48:17.211681', NULL, NULL, E'1277813259788', E'aa93c0806fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:17.211681', NULL, E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'SweepOut', NULL, NULL, 0.0, NULL, '2010-07-12 12:48:17.211477', E'192.168.0.78', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:17.219410', 462, '2010-07-12 12:48:17.219410', E'00:1d:68:69:89:a1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:17.222985', 462, '2010-07-12 12:48:17.222985', E'00:1f:9f:ed:16:9f', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:17.223984', 462, '2010-07-12 12:48:17.223984', E'00:22:6b:f3:44:e7', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:17.224976', 462, '2010-07-12 12:48:17.224976', E'00:19:e3:d9:db:53', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:17.225985', 462, '2010-07-12 12:48:17.225985', E'00:90:4c:60:04:00', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:48:17.295970', 462, NULL, E'aaa01f306fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:17.295970', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mEvent Load (1.1ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:48:17.317058', '2010-07-12 12:48:17.317058', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSweepOut Update (1.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:48:17.211477', "updated_at" = '2010-07-12 12:48:17.324790', "created_at" = '2010-07-12 12:48:17.211681', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'fdef02498310a13cb3d89adeea6e0da5d7e42ed1', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1277813259788', "ending_at" = '2010-07-12 12:48:24.211562', "event_group_id" = 263, "location_accuracy" = 0.0, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.0.78', "uuid" = E'aa93c0806fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 462[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/aa93c0806fe1012d8d7d001f5bf1b5ba
Completed in 148ms (DB: 15) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:17) [GET]
  Parameters: {"id"=>"a903ad706fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 262) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
Completed in 46ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:17) [GET]
  Parameters: {"id"=>"aa93c0806fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'aa93c0806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 263) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 263) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 263)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 263)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 263) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 462) LIMIT 1[0m
Completed in 124ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/aa93c0806fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:18) [GET]
  Parameters: {"id"=>"d53ae20065a4012d361a00176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd53ae20065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/d53ae20065a4012d361a00176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:48:18) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1l87jzw-0>}, "id"=>"aaa01f306fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'aaa01f306fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.7ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:48:18.629906', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:48:18.627596', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 267[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/267/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/267/processed/file1.png
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 35ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/aaa01f306fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:18) [GET]
  Parameters: {"id"=>"a903ad706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 262) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
Completed in 147ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:19) [GET]
  Parameters: {"id"=>"aa93c0806fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'aa93c0806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 263) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 263) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 263)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 263)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 263) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 462) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/aa93c0806fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:48:19) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"51.293257", "location_accuracy"=>"1219.0", "type"=>"SweepIn", "longitude"=>"6.867004"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.867004 51.293257)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:26.955164', NULL, NULL, NULL, 51.293257, '2010-07-12 12:48:19.955283', NULL, NULL, NULL, E'ac3664406fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:19.955283', NULL, NULL, E'0101000020E6100000360186E5CF771B405A29047289A54940', 1219.0, NULL, E'SweepIn', NULL, NULL, 6.867004, NULL, '2010-07-12 12:48:19.955073', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (1.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 463) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 463) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 463) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326), 0.0871517710433164) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1219.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:19.955073', timestamp '2010-07-12 12:48:26.955164')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 463) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326), 0.0871517710433164) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1219.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:19.955073', timestamp '2010-07-12 12:48:26.955164')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:48:20.049780', '2010-07-12 12:48:20.049780', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(6.867004 51.293257)', 4326)[0m
  [4;35;1mSweepIn Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:48:19.955073', "updated_at" = '2010-07-12 12:48:20.057850', "created_at" = '2010-07-12 12:48:19.955283', "longitude" = 6.867004, "point" = E'0101000020E6100000360186E5CF771B405A29047289A54940', "latitude" = 51.293257, "ending_at" = '2010-07-12 12:48:26.955164', "event_group_id" = 264, "location_accuracy" = 1219.0, "uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 463[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba
Completed in 128ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:20) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (36.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 463) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 463) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 463) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326), 0.0871517710433164) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1219.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:19.955073', timestamp '2010-07-12 12:48:26.955164')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 463) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326), 0.0871517710433164) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.867004 51.293257)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 1219.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:19.955073', timestamp '2010-07-12 12:48:26.955164')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (49.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 264) [0m
  [4;36;1mEvent Load (56.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 251ms (View: 11, DB: 149) | 202 Accepted [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:20) [GET]
  Parameters: {"id"=>"a903ad706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 262) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 262)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 262)) [0m
  [4;36;1mEvent Update (2.8ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 262) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 460) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
Completed in 282ms (View: 1, DB: 10) | 200 OK [http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:48:21) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"51.295935", "location_accuracy"=>"755.0", "type"=>"SweepOut", "longitude"=>"6.862474"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:28.756796', NULL, NULL, NULL, 51.295935, '2010-07-12 12:48:21.756913', NULL, NULL, NULL, E'ad494cf06fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:21.756913', NULL, NULL, E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', 755.0, NULL, E'SweepOut', NULL, NULL, 6.862474, NULL, '2010-07-12 12:48:21.756713', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:48:21.770992', 464, NULL, E'ad4af2206fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:21.770992', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 464) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 464) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 464) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:21.756713', timestamp '2010-07-12 12:48:28.756796')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:48:21.756713', "updated_at" = '2010-07-12 12:48:21.783600', "created_at" = '2010-07-12 12:48:21.756913', "longitude" = 6.862474, "point" = E'0101000020E6100000E9995E622C731B40F25EB532E1A54940', "latitude" = 51.295935, "ending_at" = '2010-07-12 12:48:28.756796', "location_accuracy" = 755.0, "pairing_mode" = 1, "uuid" = E'ad494cf06fe1012d8d7d001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 464[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 464) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326), 0.0871568547263337) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(6.862474 51.295935)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 755.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:21.756713', timestamp '2010-07-12 12:48:28.756796')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(6.862474 51.295935)', 4326)[0m
  [4;36;1mSweepOut Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:48:21.793756', "event_group_id" = 264 WHERE "id" = 464[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/ad494cf06fe1012d8d7d001f5bf1b5ba
Completed in 60ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:21) [GET]
  Parameters: {"id"=>"ad494cf06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ad494cf06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (5.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 264) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/ad494cf06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:21) [GET]
  Parameters: {"id"=>"aa93c0806fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'aa93c0806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 263) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 263) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 263)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 263)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 263) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 462) LIMIT 1[0m
Completed in 58ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/aa93c0806fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:22) [GET]
  Parameters: {"id"=>"d53ae20065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'd53ae20065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/d53ae20065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:22) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 264) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:23) [GET]
  Parameters: {"id"=>"a903ad706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 460) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:23) [GET]
  Parameters: {"id"=>"aa93c0806fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'aa93c0806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.7ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 263) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 263) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 263)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 263)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 263) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (1.1ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 462) LIMIT 1[0m
Completed in 65ms (View: 1, DB: 17) | 202 Accepted [http://localhost/events/aa93c0806fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:23) [GET]
  Parameters: {"id"=>"ad494cf06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ad494cf06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 264) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/ad494cf06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:24) [GET]
  Parameters: {"id"=>"a903ad706fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'a903ad706fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 262) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 262) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 460) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 461) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/a903ad706fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:48:24) [GET]
  Parameters: {"id"=>"a825b8806fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'a825b8806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 12ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/a825b8806fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/266/processed/file1.png
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:24) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 264) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:24) [GET]
  Parameters: {"id"=>"d53ae20065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'd53ae20065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 2, DB: 2) | 404 Not Found [http://localhost/events/d53ae20065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:25) [GET]
  Parameters: {"id"=>"aa93c0806fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'aa93c0806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 263) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 263) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 263)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 263)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 263) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 263)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 263)) [0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 263) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 462) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 13) | 410 Gone [http://localhost/events/aa93c0806fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:25) [GET]
  Parameters: {"id"=>"ad494cf06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ad494cf06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 264) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
Completed in 119ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/ad494cf06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:26) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 264) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:27) [GET]
  Parameters: {"id"=>"aa93c0806fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'aa93c0806fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 263) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 263) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 462) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:90:4c:60:04:00',E'00:19:e3:d9:db:53',E'00:22:6b:f3:44:e7',E'00:1f:9f:ed:16:9f',E'00:1d:68:69:89:a1')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 462) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:17.211477', timestamp '2010-07-12 12:48:24.211562')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 462) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 10) | 410 Gone [http://localhost/events/aa93c0806fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:48:27) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-nbqj4g-0>}, "id"=>"ad4af2206fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'ad4af2206fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:48:27.249178', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:48:27.247201', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 268[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/268/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/268/processed/file1.png
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/ad4af2206fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:27) [GET]
  Parameters: {"id"=>"ad494cf06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ad494cf06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 264) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 264)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 264)) [0m
  [4;36;1mEvent Update (2.1ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 264) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 8) | 200 OK [http://localhost/events/ad494cf06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:28) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (4.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 121ms (View: 1, DB: 7) | 200 OK [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:29) [GET]
  Parameters: {"id"=>"ad494cf06fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ad494cf06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ad494cf06fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:29) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (5.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 7) | 200 OK [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:48:30) [GET]
  Parameters: {"id"=>"d84fc68065a4012d361a00176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'd84fc68065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 9ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/d84fc68065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:30) [GET]
  Parameters: {"id"=>"ad494cf06fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ad494cf06fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ad494cf06fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:31) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:32) [GET]
  Parameters: {"id"=>"ac3664406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ac3664406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 264) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 264) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 464) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 463) LIMIT 1[0m
Completed in 98ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ac3664406fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:48:34) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218184", "timestamp"=>"1277813341421", "client_uuid"=>"bf6416df26f450d3a49a67cc738136b48042d095", "location_accuracy"=>"87.344873", "hoccability"=>"3", "type"=>"SweepOut", "longitude"=>"16.473696", "local_ip"=>"192.168.1.138", "version_sdk"=>"3.1.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:41.085767', E'iPhone', NULL, E'iPhone OS', 48.218184, '2010-07-12 12:48:34.085886', NULL, NULL, E'1277813341421', E'b4a28d106fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:34.085886', NULL, E'bf6416df26f450d3a49a67cc738136b48042d095', E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', 87.344873, E'3', E'SweepOut', NULL, NULL, 16.473696, NULL, '2010-07-12 12:48:34.085678', E'192.168.1.138', 2, E'waiting', E'3.1.2') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.093705', 465, '2010-07-12 12:48:34.093705', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.099217', 465, '2010-07-12 12:48:34.099217', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.100352', 465, '2010-07-12 12:48:34.100352', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-12 12:48:34.108778', 465, NULL, E'b4a59c506fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:34.108778', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 465) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 465) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;35;1mSQL (84.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-12 12:48:34.215584', '2010-07-12 12:48:34.215584', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473696 48.218184)', 4326)[0m
  [4;36;1mSweepOut Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-12 12:48:34.085678', "updated_at" = '2010-07-12 12:48:34.223323', "created_at" = '2010-07-12 12:48:34.085886', "longitude" = 16.473696, "hoccability" = E'3', "client_uuid" = E'bf6416df26f450d3a49a67cc738136b48042d095', "device" = E'iPhone OS', "point" = E'0101000020E6100000FB3E1C244479304057410C74ED1B4840', "latitude" = 48.218184, "timestamp" = E'1277813341421', "ending_at" = '2010-07-12 12:48:41.085767', "event_group_id" = 265, "location_accuracy" = 87.344873, "version_sdk" = E'3.1.2', "local_ip" = E'192.168.1.138', "uuid" = E'b4a28d106fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 465[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b4a28d106fe1012d8d7d001f5bf1b5ba
Completed in 169ms (DB: 97) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:34) [GET]
  Parameters: {"id"=>"b4a28d106fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4a28d106fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 465) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 465) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 465) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326), 0.0817940101690183) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473696 48.218184)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 87.344873))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.085678', timestamp '2010-07-12 12:48:41.085767')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 265) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 465) LIMIT 1[0m
Completed in 132ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/b4a28d106fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-12 14:48:34) [POST]
  Parameters: {"event"=>{"bssids"=>"0:1b:2f:e7:27:86,0:24:17:b8:d5:ed,0:15:e9:a:e0:24,0:1c:df:76:56:7d,0:1b:2f:5b:83:2a,0:24:17:b1:de:4f,0:1f:9f:cd:71:63,0:24:17:b0:36:23,0:1e:69:e6:2b:69,2:1e:69:e6:2b:6a,0:18:f8:62:3:b1", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.218175", "timestamp"=>"1277813275038", "client_uuid"=>"9cdc6bfe95cc46e4dacd743a7c658eb67723739c", "location_accuracy"=>"58.431720", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"16.473676", "local_ip"=>"192.168.1.123", "version_sdk"=>"3.1.3"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-12 12:48:41.456723', E'iPhone', NULL, E'iPhone OS', 48.218175, '2010-07-12 12:48:34.456841', NULL, NULL, E'1277813275038', E'b4db27406fe1012d8d7d001f5bf1b5ba', '2010-07-12 12:48:34.456841', NULL, E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', E'0101000020E61000006DE690D44279304004E78C28ED1B4840', 58.43172, E'3', E'SweepIn', NULL, NULL, 16.473676, NULL, '2010-07-12 12:48:34.456631', E'192.168.1.123', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.464606', 466, '2010-07-12 12:48:34.464606', E'00:1b:2f:e7:27:86', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.468104', 466, '2010-07-12 12:48:34.468104', E'00:24:17:b8:d5:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.469097', 466, '2010-07-12 12:48:34.469097', E'00:15:e9:0a:e0:24', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.470118', 466, '2010-07-12 12:48:34.470118', E'00:1c:df:76:56:7d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.471107', 466, '2010-07-12 12:48:34.471107', E'00:1b:2f:5b:83:2a', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.472122', 466, '2010-07-12 12:48:34.472122', E'00:24:17:b1:de:4f', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.473148', 466, '2010-07-12 12:48:34.473148', E'00:1f:9f:cd:71:63', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.474222', 466, '2010-07-12 12:48:34.474222', E'00:24:17:b0:36:23', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.475230', 466, '2010-07-12 12:48:34.475230', E'00:1e:69:e6:2b:69', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.476334', 466, '2010-07-12 12:48:34.476334', E'02:1e:69:e6:2b:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-12 12:48:34.477358', 466, '2010-07-12 12:48:34.477358', E'00:18:f8:62:03:b1', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 466) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 466) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 466) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed',E'00:1b:2f:e7:27:86')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.456631', timestamp '2010-07-12 12:48:41.456723')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-12 12:48:34.456631', "updated_at" = '2010-07-12 12:48:34.550644', "created_at" = '2010-07-12 12:48:34.456841', "longitude" = 16.473676, "hoccability" = E'3', "client_uuid" = E'9cdc6bfe95cc46e4dacd743a7c658eb67723739c', "device" = E'iPhone OS', "point" = E'0101000020E61000006DE690D44279304004E78C28ED1B4840', "latitude" = 48.218175, "timestamp" = E'1277813275038', "ending_at" = '2010-07-12 12:48:41.456723', "location_accuracy" = 58.43172, "version_sdk" = E'3.1.3', "pairing_mode" = 2, "local_ip" = E'192.168.1.123', "uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 466[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 466) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.456631', timestamp '2010-07-12 12:48:41.456723')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-12 12:48:34.566321', "pairing_mode" = 3 WHERE "id" = 466[0m
  [4;35;1mEvent Load (2.3ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 466) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'00:18:f8:62:03:b1',E'02:1e:69:e6:2b:6a',E'00:1e:69:e6:2b:69',E'00:24:17:b0:36:23',E'00:1f:9f:cd:71:63',E'00:24:17:b1:de:4f',E'00:1b:2f:5b:83:2a',E'00:1c:df:76:56:7d',E'00:15:e9:0a:e0:24',E'00:24:17:b8:d5:ed',E'00:1b:2f:e7:27:86')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.456631', timestamp '2010-07-12 12:48:41.456723')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 466) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326), 0.0817939957899406) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.473676 48.218175)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 58.43172))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-12 12:48:34.456631', timestamp '2010-07-12 12:48:41.456723')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.473676 48.218175)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-12 12:48:34.592567', "event_group_id" = 265 WHERE "id" = 466[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba
Completed in 178ms (DB: 20) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-12 14:48:34) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100712-59118-1qashrd-0>}, "id"=>"b4a59c506fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (1.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'b4a59c506fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-12 12:48:34.710482', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-12 12:48:34.708470', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 269[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/269/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/269/processed/file1.png
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Completed in 37ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/b4a59c506fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:34) [GET]
  Parameters: {"id"=>"b4db27406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 265) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:35) [GET]
  Parameters: {"id"=>"de592f5065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'de592f5065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 16ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/de592f5065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:35) [GET]
  Parameters: {"id"=>"b4db27406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 265) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
Completed in 133ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:38) [GET]
  Parameters: {"id"=>"b4db27406fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 265) [0m
  [4;35;1mEvent Load (1.1ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:38) [GET]
  Parameters: {"id"=>"de592f5065a4012d361a00176ed99fe3"}
  [4;35;1mEvent Load (2.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'de592f5065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/de592f5065a4012d361a00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:39) [GET]
  Parameters: {"id"=>"de592f5065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'de592f5065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/de592f5065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:39) [GET]
  Parameters: {"id"=>"b4db27406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 265) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:40) [GET]
  Parameters: {"id"=>"b4db27406fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (8.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 265) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 16) | 202 Accepted [http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:41) [GET]
  Parameters: {"id"=>"de592f5065a4012d361a00176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'de592f5065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/de592f5065a4012d361a00176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:41) [GET]
  Parameters: {"id"=>"b4db27406fe1012d8d7d001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 265) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 265)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 265)) [0m
  [4;36;1mEvent Update (10.2ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 265) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 465) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
Completed in 60ms (View: 1, DB: 16) | 200 OK [http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:42) [GET]
  Parameters: {"id"=>"de592f5065a4012d361a00176ed99fe3"}
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'de592f5065a4012d361a00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/de592f5065a4012d361a00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-12 14:48:43) [GET]
  Parameters: {"id"=>"b4db27406fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'b4db27406fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 265) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 265) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 465) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 466) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 5) | 200 OK [http://localhost/events/b4db27406fe1012d8d7d001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-12 14:48:43) [GET]
  Parameters: {"id"=>"b4a59c506fe1012d8d7d001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'b4a59c506fe1012d8d7d001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 14ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/b4a59c506fe1012d8d7d001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/269/processed/file1.png
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:08:18) [POST]
  Parameters: {"event"=>{"bssids"=>"00:1a:2a:ca:7b:62,00:24:fe:a3:53:35,00:1c:28:15:2a:a2", "model"=>"HTC Hero", "device"=>"hero", "brand"=>"htc_wwe", "latitude"=>"50.6884345", "timestamp"=>"1279012832182", "network_type"=>"EDGE", "network_operator"=>"o2 - de", "client_uuid"=>"b294a372-c4e9-43d5-abcd-25ee4cdcf880", "location_accuracy"=>"253.0", "hoccability"=>"2", "manufacturer"=>"HTC", "type"=>"Throw", "longitude"=>"10.91779485", "local_ip"=>"10.160.198.234", "version_sdk"=>"7"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (367.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)[0m
  [4;36;1mSQL (131.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:08:26.498952', E'HTC Hero', E'htc_wwe', E'hero', 50.6884345, '2010-07-13 10:08:19.499116', NULL, E'EDGE', E'1279012832182', E'7c350b807094012d8d7e001f5bf1b5ba', '2010-07-13 10:08:19.499116', E'o2 - de', E'b294a372-c4e9-43d5-abcd-25ee4cdcf880', E'0101000020E6100000DC5FE234E9D525401478279F1E584940', 253.0, E'2', E'Throw', NULL, E'HTC', 10.91779485, NULL, '2010-07-13 10:08:19.330484', E'10.160.198.234', 2, E'waiting', E'7') RETURNING "id"[0m
  [4;35;1mSQL (164.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:08:19.781165', 467, '2010-07-13 10:08:19.781165', E'00:1a:2a:ca:7b:62', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:08:19.962494', 467, '2010-07-13 10:08:19.962494', E'00:24:fe:a3:53:35', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:08:19.965039', 467, '2010-07-13 10:08:19.965039', E'00:1c:28:15:2a:a2', NULL) RETURNING "id"[0m
  [4;36;1mSQL (39.4ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:08:19.990455', 467, NULL, E'7c9903307094012d8d7e001f5bf1b5ba', '2010-07-13 10:08:19.990455', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;35;1mSQL (55.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mSQL (22.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mSQL (105.6ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:08:20.216638', '2010-07-13 10:08:20.216638', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)[0m
  [4;35;1mThrow Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:08:19.330484', "updated_at" = '2010-07-13 10:08:20.330996', "created_at" = '2010-07-13 10:08:19.499116', "longitude" = 10.91779485, "hoccability" = E'2', "client_uuid" = E'b294a372-c4e9-43d5-abcd-25ee4cdcf880', "device" = E'hero', "point" = E'0101000020E6100000DC5FE234E9D525401478279F1E584940', "network_operator" = E'o2 - de', "latitude" = 50.6884345, "timestamp" = E'1279012832182', "ending_at" = '2010-07-13 10:08:26.498952', "manufacturer" = E'HTC', "event_group_id" = 266, "location_accuracy" = 253.0, "version_sdk" = E'7', "local_ip" = E'10.160.198.234', "uuid" = E'7c350b807094012d8d7e001f5bf1b5ba', "model" = E'HTC Hero', "brand" = E'htc_wwe', "api_version" = 2, "type" = E'Throw', "network_type" = E'EDGE' WHERE "id" = 467[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/7c350b807094012d8d7e001f5bf1b5ba
Completed in 1813ms (DB: 893) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:08:20) [GET]
  Parameters: {"id"=>"7c350b807094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c350b807094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 266) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 266) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 266)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 266) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.1ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 266) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 266) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 467) LIMIT 1[0m
Completed in 165ms (View: 110, DB: 12) | 202 Accepted [http://localhost/events/7c350b807094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:08:23) [GET]
  Parameters: {"id"=>"7c350b807094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c350b807094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 266) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 266) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 266)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 266) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 266) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 266) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 467) LIMIT 1[0m
Completed in 119ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/7c350b807094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:08:26) [GET]
  Parameters: {"id"=>"7c350b807094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c350b807094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 266) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 266) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 266)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 266) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 266) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 266)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 266)) [0m
  [4;35;1mEvent Update (25.6ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 266) [0m
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 467) LIMIT 1[0m
Completed in 85ms (View: 1, DB: 36) | 410 Gone [http://localhost/events/7c350b807094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:08:30) [GET]
  Parameters: {"id"=>"7c350b807094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c350b807094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 266) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 266) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 467) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 467) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:08:19.330484', timestamp '2010-07-13 10:08:26.498952')))) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 467) LIMIT 1[0m
Completed in 110ms (View: 1, DB: 10) | 410 Gone [http://localhost/events/7c350b807094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:08:36) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1kyavs3-0>}, "id"=>"7c9903307094012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (1.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'7c9903307094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.8ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:08:36.305276', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:08:36.278005', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 270[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/270/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/270/processed/file1.png
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 97ms (View: 3, DB: 3) | 200 OK [http://localhost/uploads/7c9903307094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:09:00) [POST]
  Parameters: {"event"=>{"bssids"=>"6:f:b5:92:f4:39,0:21:29:1:5d:30", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183430", "timestamp"=>"1279012893368", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"250.000000", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700378", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:09:07.422569', E'iPhone', NULL, E'iPhone OS', 48.18343, '2010-07-13 10:09:00.422691', NULL, NULL, E'1279012893368', E'94b339e07094012d8d7e001f5bf1b5ba', '2010-07-13 10:09:00.422691', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', 250.0, E'2', E'Throw', NULL, NULL, 13.700378, NULL, '2010-07-13 10:09:00.422484', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (20.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:09:00.462460', 468, '2010-07-13 10:09:00.462460', E'06:0f:b5:92:f4:39', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:09:00.488946', 468, '2010-07-13 10:09:00.488946', E'00:21:29:01:5d:30', NULL) RETURNING "id"[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:09:00.504626', 468, NULL, E'94bf0ea07094012d8d7e001f5bf1b5ba', '2010-07-13 10:09:00.504626', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:09:00.527909', '2010-07-13 10:09:00.527909', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;35;1mThrow Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:09:00.422484', "updated_at" = '2010-07-13 10:09:00.614803', "created_at" = '2010-07-13 10:09:00.422691', "longitude" = 13.700378, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', "latitude" = 48.18343, "timestamp" = E'1279012893368', "ending_at" = '2010-07-13 10:09:07.422569', "event_group_id" = 267, "location_accuracy" = 250.0, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'94b339e07094012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 468[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba
Completed in 227ms (DB: 38) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:00) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 267) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:02) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 267) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:03) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 267) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:04) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:06) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 468) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 468) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:00.422484', timestamp '2010-07-13 10:09:07.422569')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 267) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:09:07) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"HTC Desire", "device"=>"bravo", "brand"=>"htc_wwe", "latitude"=>"48.18352460861206", "timestamp"=>"1279012843633", "network_type"=>"GPRS", "network_operator"=>"Orange A", "client_uuid"=>"60e467e4-09e6-4e14-bf6d-7051f03ad2f8", "location_accuracy"=>"16.0", "hoccability"=>"2", "manufacturer"=>"HTC", "type"=>"Catch", "longitude"=>"13.7004554271698", "local_ip"=>"10.102.16.107", "version_sdk"=>"7"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)[0m
  [4;35;1mSQL (20.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:09:14.199684', E'HTC Desire', E'htc_wwe', E'bravo', 48.1835246086121, '2010-07-13 10:09:07.199799', NULL, E'GPRS', E'1279012843633', E'98bd55c07094012d8d7e001f5bf1b5ba', '2010-07-13 10:09:07.199799', E'Orange A', E'60e467e4-09e6-4e14-bf6d-7051f03ad2f8', E'0101000020E610000000000018A2662B40060000BC7D174840', 16.0, E'2', E'Catch', NULL, E'HTC', 13.7004554271698, NULL, '2010-07-13 10:09:07.199604', E'10.102.16.107', 2, E'waiting', E'7') RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.8ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 469) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 469) [0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 469) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326), 0.0817386881135877) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 16.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:07.199604', timestamp '2010-07-13 10:09:14.199684')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)[0m
  [4;36;1mCatch Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:09:07.199604', "updated_at" = '2010-07-13 10:09:07.240206', "created_at" = '2010-07-13 10:09:07.199799', "longitude" = 13.7004554271698, "hoccability" = E'2', "client_uuid" = E'60e467e4-09e6-4e14-bf6d-7051f03ad2f8', "device" = E'bravo', "point" = E'0101000020E610000000000018A2662B40060000BC7D174840', "network_operator" = E'Orange A', "latitude" = 48.1835246086121, "timestamp" = E'1279012843633', "ending_at" = '2010-07-13 10:09:14.199684', "manufacturer" = E'HTC', "location_accuracy" = 16.0, "version_sdk" = E'7', "pairing_mode" = 1, "local_ip" = E'10.102.16.107', "uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba', "model" = E'HTC Desire', "brand" = E'htc_wwe', "api_version" = 2, "type" = E'Catch', "network_type" = E'GPRS' WHERE "id" = 469[0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 469) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326), 0.0817386881135877) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 16.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:09:07.199604', timestamp '2010-07-13 10:09:14.199684')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)[0m
  [4;36;1mCatch Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-13 10:09:07.252205', "event_group_id" = 267 WHERE "id" = 469[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba
Completed in 75ms (DB: 30) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:07) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 267) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 123ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:08) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 267)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 267) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 267)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 267)) [0m
  [4;35;1mEvent Update (2.2ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 267) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 8) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:09) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:10) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:10) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:11) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:09:12) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1osk4ds-0>}, "id"=>"94bf0ea07094012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'94bf0ea07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.6ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:09:12.910647', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:09:12.908733', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 271[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/271/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/271/processed/file1.png
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/94bf0ea07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:12) [GET]
  Parameters: {"id"=>"94b339e07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'94b339e07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 5) | 200 OK [http://localhost/events/94b339e07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:13) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 127ms (View: 1, DB: 6) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-13 12:09:15) [GET]
  Parameters: {"id"=>"e91395e0708d012d3c6b00176ed99fe3"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'e91395e0708d012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/e91395e0708d012d3c6b00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:16) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:26) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:30) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:35) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:38) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 98ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:42) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:44) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:47) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:50) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:53) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:56) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:09:58) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:01) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 97ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:04) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:07) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:09) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:12) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:15) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:18) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:20) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:23) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:27) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:29) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:32) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 98ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:35) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:38) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:41) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:44) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:46) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:49) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:52) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:55) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:10:58) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:01) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:04) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 98ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:07) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:10) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:12) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:15) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:17) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:20) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:23) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:26) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.4ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 99ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:30) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:32) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:35) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:37) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:40) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:43) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:46) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:49) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:52) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:55) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:11:57) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:01) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:04) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:06) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:09) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:12) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:15) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:17) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:20) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:23) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:12:26) [GET]
  Parameters: {"id"=>"98bd55c07094012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'98bd55c07094012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 267) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 267) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 468) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 469) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/98bd55c07094012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:12:59) [POST]
  Parameters: {"event"=>{"model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183661", "timestamp"=>"1279013125253", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"162.957953", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700084", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;36;1mSQL (25.2ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:13:06.875462', E'iPhone', NULL, E'iPhone OS', 48.183661, '2010-07-13 10:12:59.875593', NULL, NULL, E'1279013125253', E'236cd5307095012d8d7e001f5bf1b5ba', '2010-07-13 10:12:59.875593', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E6100000DEE7F86871662B407C46223482174840', 162.957953, E'2', E'Throw', NULL, NULL, 13.700084, NULL, '2010-07-13 10:12:59.875341', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;35;1mSQL (1.2ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:12:59.976944', 470, NULL, E'237bcdb07095012d8d7e001f5bf1b5ba', '2010-07-13 10:12:59.976944', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 470) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 470) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 470) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:12:59.875341', timestamp '2010-07-13 10:13:06.875462')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 470) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:12:59.875341', timestamp '2010-07-13 10:13:06.875462')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:12:59.994811', '2010-07-13 10:12:59.994811', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:12:59.875341', "updated_at" = '2010-07-13 10:12:59.999974', "created_at" = '2010-07-13 10:12:59.875593', "longitude" = 13.700084, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E6100000DEE7F86871662B407C46223482174840', "latitude" = 48.183661, "timestamp" = E'1279013125253', "ending_at" = '2010-07-13 10:13:06.875462', "event_group_id" = 268, "location_accuracy" = 162.957953, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'236cd5307095012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 470[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/236cd5307095012d8d7e001f5bf1b5ba
Completed in 148ms (DB: 34) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:00) [GET]
  Parameters: {"id"=>"236cd5307095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (5.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'236cd5307095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 268) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 268) [0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 470) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 470) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 470) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:12:59.875341', timestamp '2010-07-13 10:13:06.875462')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 470) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:12:59.875341', timestamp '2010-07-13 10:13:06.875462')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 268)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 268) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 268) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 268) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 470) LIMIT 1[0m
Completed in 58ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/236cd5307095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:13:01) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"iPad", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1279013018934", "client_uuid"=>"4c494be04f35201398b0274704222a854d9300e3", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Catch", "longitude"=>"0.000000", "local_ip"=>"10.1.2.184", "version_sdk"=>"3.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:13:08.132579', E'iPad', NULL, E'iPhone OS', 0.0, '2010-07-13 10:13:01.132690', NULL, NULL, E'1279013018934', E'242ca9507095012d8d7e001f5bf1b5ba', '2010-07-13 10:13:01.132690', NULL, E'4c494be04f35201398b0274704222a854d9300e3', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Catch', NULL, NULL, 0.0, NULL, '2010-07-13 10:13:01.132493', E'10.1.2.184', 2, E'waiting', E'3.2') RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:13:01.216301', '2010-07-13 10:13:01.216301', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mCatch Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:13:01.132493', "updated_at" = '2010-07-13 10:13:01.221724', "created_at" = '2010-07-13 10:13:01.132690', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'4c494be04f35201398b0274704222a854d9300e3', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1279013018934', "ending_at" = '2010-07-13 10:13:08.132579', "event_group_id" = 269, "location_accuracy" = 0.0, "version_sdk" = E'3.2', "local_ip" = E'10.1.2.184', "uuid" = E'242ca9507095012d8d7e001f5bf1b5ba', "model" = E'iPad', "api_version" = 2, "type" = E'Catch' WHERE "id" = 471[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba
Completed in 112ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:01) [GET]
  Parameters: {"id"=>"242ca9507095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'242ca9507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 269) [0m
  [4;35;1mEvent Load (1.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 269) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 269) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 471) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:01) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;35;1mEvent Load (1.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:02) [GET]
  Parameters: {"id"=>"242ca9507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'242ca9507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 269) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 269) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 269) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 471) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:03) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:04) [GET]
  Parameters: {"id"=>"242ca9507095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'242ca9507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 269) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 269) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 269) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 471) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:04) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:05) [GET]
  Parameters: {"id"=>"242ca9507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'242ca9507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 269) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 269) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 269) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 471) LIMIT 1[0m
Completed in 46ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:05) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;36;1mEvent Load (1.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:06) [GET]
  Parameters: {"id"=>"242ca9507095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'242ca9507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 269) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 269) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 269) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 471) LIMIT 1[0m
Completed in 106ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:06) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:13:08) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-6wgc9u-0>}, "id"=>"237bcdb07095012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'237bcdb07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:13:08.037829', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:13:08.035956', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 272[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/272/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/272/processed/file1.png
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/uploads/237bcdb07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:08) [GET]
  Parameters: {"id"=>"242ca9507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'242ca9507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 269) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 269) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.4ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 269) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 471) LIMIT 1[0m
Completed in 144ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:09) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:09) [GET]
  Parameters: {"id"=>"242ca9507095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'242ca9507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 269) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 269) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 471) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 471) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:01.132493', timestamp '2010-07-13 10:13:08.132579')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 269) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 269)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 269)) [0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 269) [0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 471) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 14) | 410 Gone [http://localhost/events/242ca9507095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:13:33) [POST]
  Parameters: {"event"=>{"model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183661", "timestamp"=>"1279013157425", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"162.957953", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700084", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;35;1mSQL (34.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:13:40.393206', E'iPhone', NULL, E'iPhone OS', 48.183661, '2010-07-13 10:13:33.393326', NULL, NULL, E'1279013157425', E'37673d107095012d8d7e001f5bf1b5ba', '2010-07-13 10:13:33.393326', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E6100000DEE7F86871662B407C46223482174840', 162.957953, E'2', E'Throw', NULL, NULL, 13.700084, NULL, '2010-07-13 10:13:33.393098', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:13:33.506858', 472, NULL, E'37780d707095012d8d7e001f5bf1b5ba', '2010-07-13 10:13:33.506858', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:13:33.526251', '2010-07-13 10:13:33.526251', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;35;1mThrow Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:13:33.393098', "updated_at" = '2010-07-13 10:13:33.533166', "created_at" = '2010-07-13 10:13:33.393326', "longitude" = 13.700084, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E6100000DEE7F86871662B407C46223482174840', "latitude" = 48.183661, "timestamp" = E'1279013157425', "ending_at" = '2010-07-13 10:13:40.393206', "event_group_id" = 270, "location_accuracy" = 162.957953, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'37673d107095012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 472[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/37673d107095012d8d7e001f5bf1b5ba
Completed in 164ms (DB: 47) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:33) [GET]
  Parameters: {"id"=>"37673d107095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'37673d107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 270) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 270) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 270) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 472) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/37673d107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:34) [GET]
  Parameters: {"id"=>"37673d107095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'37673d107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 270) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 270) [0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 270) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 472) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/37673d107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:36) [GET]
  Parameters: {"id"=>"37673d107095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'37673d107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 270) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 270) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 270) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 472) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/37673d107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:37) [GET]
  Parameters: {"id"=>"37673d107095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'37673d107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 270) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 270) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 270) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 472) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/37673d107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:38) [GET]
  Parameters: {"id"=>"37673d107095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'37673d107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 270) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 270) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 270) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 472) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/37673d107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:40) [GET]
  Parameters: {"id"=>"37673d107095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'37673d107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 270) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 270) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 270) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 472) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/37673d107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:13:41) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1fdz6xc-0>}, "id"=>"37780d707095012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'37780d707095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:13:41.170427', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:13:41.168475', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 273[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/273/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/273/processed/file1.png
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Completed in 145ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/37780d707095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:42) [GET]
  Parameters: {"id"=>"37673d107095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'37673d107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 270) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 270) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 472) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 472) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:33.393098', timestamp '2010-07-13 10:13:40.393206')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 270) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 270)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 270)) [0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 270) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 472) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/37673d107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:13:49) [POST]
  Parameters: {"event"=>{"model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183661", "timestamp"=>"1279013172090", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"162.957953", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700084", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:13:56.391899', E'iPhone', NULL, E'iPhone OS', 48.183661, '2010-07-13 10:13:49.392021', NULL, NULL, E'1279013172090', E'40f071307095012d8d7e001f5bf1b5ba', '2010-07-13 10:13:49.392021', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E6100000DEE7F86871662B407C46223482174840', 162.957953, E'2', E'Throw', NULL, NULL, 13.700084, NULL, '2010-07-13 10:13:49.391804', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:13:49.406172', 473, NULL, E'40f220107095012d8d7e001f5bf1b5ba', '2010-07-13 10:13:49.406172', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:13:49.502202', '2010-07-13 10:13:49.502202', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;35;1mThrow Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:13:49.391804', "updated_at" = '2010-07-13 10:13:49.507940', "created_at" = '2010-07-13 10:13:49.392021', "longitude" = 13.700084, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E6100000DEE7F86871662B407C46223482174840', "latitude" = 48.183661, "timestamp" = E'1279013172090', "ending_at" = '2010-07-13 10:13:56.391899', "event_group_id" = 271, "location_accuracy" = 162.957953, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'40f071307095012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 473[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/40f071307095012d8d7e001f5bf1b5ba
Completed in 142ms (DB: 12) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:49) [GET]
  Parameters: {"id"=>"40f071307095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'40f071307095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 271) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 271) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 271)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 271) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 473) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/40f071307095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:51) [GET]
  Parameters: {"id"=>"40f071307095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'40f071307095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 271) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 271) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 271)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 271) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 473) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/40f071307095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:52) [GET]
  Parameters: {"id"=>"40f071307095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'40f071307095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 271) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 271) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 271)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 271) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 473) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/40f071307095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:53) [GET]
  Parameters: {"id"=>"40f071307095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'40f071307095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 271) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 271) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 271)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 271) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 473) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/40f071307095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:54) [GET]
  Parameters: {"id"=>"40f071307095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'40f071307095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 271) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 271) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 271)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 271) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 473) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/40f071307095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:13:57) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1sgwf0r-0>}, "id"=>"40f220107095012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'40f220107095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:13:57.078930', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:13:57.076944', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 274[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/274/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/274/processed/file1.png
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/40f220107095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:57) [GET]
  Parameters: {"id"=>"40f071307095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'40f071307095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 271) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 271) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 473) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 473) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:49.391804', timestamp '2010-07-13 10:13:56.391899')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 271)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 271) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 271)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 271)) [0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 271) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 473) LIMIT 1[0m
Completed in 60ms (View: 1, DB: 12) | 410 Gone [http://localhost/events/40f071307095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:13:59) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"HTC Desire", "device"=>"bravo", "brand"=>"vodafone_uk", "latitude"=>"51.327762", "timestamp"=>"1279013142661", "network_type"=>"HSDPA", "network_operator"=>"Vodafone.de", "client_uuid"=>"b9015b6e-06aa-4d33-9504-367563fc24c6", "location_accuracy"=>"870.0", "hoccability"=>"1", "manufacturer"=>"HTC", "type"=>"Catch", "longitude"=>"12.388384", "local_ip"=>"90.187.120.171", "version_sdk"=>"7"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(12.388384 51.327762)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:14:06.318800', E'HTC Desire', E'vodafone_uk', E'bravo', 51.327762, '2010-07-13 10:13:59.318920', NULL, E'HSDPA', E'1279013142661', E'46db2c507095012d8d7e001f5bf1b5ba', '2010-07-13 10:13:59.318920', E'Vodafone.de', E'b9015b6e-06aa-4d33-9504-367563fc24c6', E'0101000020E61000004F948444DAC628408F6FEF1AF4A94940', 870.0, E'1', E'Catch', NULL, E'HTC', 12.388384, NULL, '2010-07-13 10:13:59.318706', E'90.187.120.171', 2, E'waiting', E'7') RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:13:59.339707', '2010-07-13 10:13:59.339707', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(12.388384 51.327762)', 4326)[0m
  [4;36;1mCatch Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:13:59.318706', "updated_at" = '2010-07-13 10:13:59.345285', "created_at" = '2010-07-13 10:13:59.318920', "longitude" = 12.388384, "hoccability" = E'1', "client_uuid" = E'b9015b6e-06aa-4d33-9504-367563fc24c6', "device" = E'bravo', "point" = E'0101000020E61000004F948444DAC628408F6FEF1AF4A94940', "network_operator" = E'Vodafone.de', "latitude" = 51.327762, "timestamp" = E'1279013142661', "ending_at" = '2010-07-13 10:14:06.318800', "manufacturer" = E'HTC', "event_group_id" = 272, "location_accuracy" = 870.0, "version_sdk" = E'7', "local_ip" = E'90.187.120.171', "uuid" = E'46db2c507095012d8d7e001f5bf1b5ba', "model" = E'HTC Desire', "brand" = E'vodafone_uk', "api_version" = 2, "type" = E'Catch', "network_type" = E'HSDPA' WHERE "id" = 474[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba
Completed in 51ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:13:59) [GET]
  Parameters: {"id"=>"46db2c507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'46db2c507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 272) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 272) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 474) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:00) [GET]
  Parameters: {"id"=>"46db2c507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'46db2c507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 272) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 474) LIMIT 1[0m
Completed in 107ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:01) [GET]
  Parameters: {"id"=>"46db2c507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'46db2c507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 272) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 272) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 474) LIMIT 1[0m
Completed in 46ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:02) [GET]
  Parameters: {"id"=>"46db2c507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'46db2c507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 272) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 474) LIMIT 1[0m
Completed in 107ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:03) [GET]
  Parameters: {"id"=>"46db2c507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'46db2c507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 272) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 272) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 474) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:05) [GET]
  Parameters: {"id"=>"46db2c507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'46db2c507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 272) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 272) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 474) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:07) [GET]
  Parameters: {"id"=>"46db2c507095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'46db2c507095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 272) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 272) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 474) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 474) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326), 0.0872173323790974) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(12.388384 51.327762)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 870.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:13:59.318706', timestamp '2010-07-13 10:14:06.318800')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 272) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 272)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 272)) [0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 272) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 474) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/46db2c507095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:14:31) [POST]
  Parameters: {"event"=>{"bssids"=>"6:f:b5:92:f4:39,0:21:29:1:58:b0", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183430", "timestamp"=>"1279013212531", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"250.000000", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700378", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:14:38.104673', E'iPhone', NULL, E'iPhone OS', 48.18343, '2010-07-13 10:14:31.104788', NULL, NULL, E'1279013212531', E'59cd50607095012d8d7e001f5bf1b5ba', '2010-07-13 10:14:31.104788', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', 250.0, E'2', E'Throw', NULL, NULL, 13.700378, NULL, '2010-07-13 10:14:31.104592', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;35;1mSQL (91.0ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:14:31.112165', 475, '2010-07-13 10:14:31.112165', E'06:0f:b5:92:f4:39', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:14:31.206797', 475, '2010-07-13 10:14:31.206797', E'00:21:29:01:58:b0', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:14:31.215125', 475, NULL, E'59dda4607095012d8d7e001f5bf1b5ba', '2010-07-13 10:14:31.215125', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mSQL (27.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:14:31.327223', '2010-07-13 10:14:31.327223', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:14:31.104592', "updated_at" = '2010-07-13 10:14:31.336895', "created_at" = '2010-07-13 10:14:31.104788', "longitude" = 13.700378, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', "latitude" = 48.18343, "timestamp" = E'1279013212531', "ending_at" = '2010-07-13 10:14:38.104673', "event_group_id" = 273, "location_accuracy" = 250.0, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'59cd50607095012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 475[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba
Completed in 264ms (DB: 129) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:31) [GET]
  Parameters: {"id"=>"59cd50607095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'59cd50607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 273) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 273) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 273)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 273) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 475) LIMIT 1[0m
Completed in 78ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:33) [GET]
  Parameters: {"id"=>"59cd50607095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'59cd50607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 273) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 273) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 273)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 273) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 475) LIMIT 1[0m
Completed in 117ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:34) [GET]
  Parameters: {"id"=>"59cd50607095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'59cd50607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 273) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 273) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 273)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 273) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 475) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:35) [GET]
  Parameters: {"id"=>"59cd50607095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'59cd50607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 273) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 273) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 273)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 273) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 475) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:36) [GET]
  Parameters: {"id"=>"59cd50607095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'59cd50607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 273) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 273) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 273)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 273) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 475) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:14:36) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-yv3ta-0>}, "id"=>"59dda4607095012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'59dda4607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.9ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:14:36.954188', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:14:36.951174', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 275[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/275/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/275/processed/file1.png
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 36ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/59dda4607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:38) [GET]
  Parameters: {"id"=>"59cd50607095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'59cd50607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 273) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 273) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 273)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 273) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 273)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 273)) [0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 273) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 475) LIMIT 1[0m
Completed in 144ms (View: 1, DB: 12) | 410 Gone [http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:14:39) [GET]
  Parameters: {"id"=>"59cd50607095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'59cd50607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 273) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 273) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 475) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:58:b0',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 475) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:14:31.104592', timestamp '2010-07-13 10:14:38.104673')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 475) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 9) | 410 Gone [http://localhost/events/59cd50607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:15:00) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"iPad", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1279013133409", "client_uuid"=>"4c494be04f35201398b0274704222a854d9300e3", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"10.1.2.184", "version_sdk"=>"3.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:15:07.278050', E'iPad', NULL, E'iPhone OS', 0.0, '2010-07-13 10:15:00.278161', NULL, NULL, E'1279013133409', E'6b30d0a07095012d8d7e001f5bf1b5ba', '2010-07-13 10:15:00.278161', NULL, E'4c494be04f35201398b0274704222a854d9300e3', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-13 10:15:00.277945', E'10.1.2.184', 2, E'waiting', E'3.2') RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:15:00.291143', 476, NULL, E'6b325f807095012d8d7e001f5bf1b5ba', '2010-07-13 10:15:00.291143', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:15:00.370616', '2010-07-13 10:15:00.370616', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:15:00.277945', "updated_at" = '2010-07-13 10:15:00.375709', "created_at" = '2010-07-13 10:15:00.278161', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'4c494be04f35201398b0274704222a854d9300e3', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1279013133409', "ending_at" = '2010-07-13 10:15:07.278050', "event_group_id" = 274, "location_accuracy" = 0.0, "version_sdk" = E'3.2', "local_ip" = E'10.1.2.184', "uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba', "model" = E'iPad', "api_version" = 2, "type" = E'Throw' WHERE "id" = 476[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba
Completed in 121ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:00) [GET]
  Parameters: {"id"=>"6b30d0a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (5.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 274) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 274) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 274)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 274) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 476) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:15:02) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-jvzr7l-0>}, "id"=>"59dda4607095012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'59dda4607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:15:02.504319', "attachment_updated_at" = '2010-07-13 10:15:02.502461' WHERE "id" = 275[0m
[paperclip] Saving attachments.
[paperclip] deleting /Volumes/Data/Artcom/hoccer/server/public/system/attachments/275/original/file1.png
[paperclip] deleting /Volumes/Data/Artcom/hoccer/server/public/system/attachments/275/processed/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/275/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/275/processed/file1.png
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 71ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/59dda4607095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:02) [GET]
  Parameters: {"id"=>"6b30d0a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 274) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 274)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 476) LIMIT 1[0m
Completed in 150ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:03) [GET]
  Parameters: {"id"=>"6b30d0a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 274) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 274)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 274) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 476) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:04) [GET]
  Parameters: {"id"=>"6b30d0a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 274) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 274)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 274) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 476) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:05) [GET]
  Parameters: {"id"=>"6b30d0a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 274) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 274)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 476) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:08) [GET]
  Parameters: {"id"=>"6b30d0a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 274) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 274)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 274) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 274)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 274)) [0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 274) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 476) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:09) [GET]
  Parameters: {"id"=>"6b30d0a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6b30d0a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 274) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 274) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 476) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 476) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:00.277945', timestamp '2010-07-13 10:15:07.278050')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 476) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 8) | 410 Gone [http://localhost/events/6b30d0a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:15:18) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"iPad", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1279013149897", "client_uuid"=>"4c494be04f35201398b0274704222a854d9300e3", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"10.1.2.184", "version_sdk"=>"3.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:15:25.301161', E'iPad', NULL, E'iPhone OS', 0.0, '2010-07-13 10:15:18.301278', NULL, NULL, E'1279013149897', E'75eeec407095012d8d7e001f5bf1b5ba', '2010-07-13 10:15:18.301278', NULL, E'4c494be04f35201398b0274704222a854d9300e3', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-13 10:15:18.301054', E'10.1.2.184', 2, E'waiting', E'3.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:15:18.314718', 477, NULL, E'75f088a07095012d8d7e001f5bf1b5ba', '2010-07-13 10:15:18.314718', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:15:18.331031', '2010-07-13 10:15:18.331031', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:15:18.301054', "updated_at" = '2010-07-13 10:15:18.397926', "created_at" = '2010-07-13 10:15:18.301278', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'4c494be04f35201398b0274704222a854d9300e3', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1279013149897', "ending_at" = '2010-07-13 10:15:25.301161', "event_group_id" = 275, "location_accuracy" = 0.0, "version_sdk" = E'3.2', "local_ip" = E'10.1.2.184', "uuid" = E'75eeec407095012d8d7e001f5bf1b5ba', "model" = E'iPad', "api_version" = 2, "type" = E'Throw' WHERE "id" = 477[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/75eeec407095012d8d7e001f5bf1b5ba
Completed in 120ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:18) [GET]
  Parameters: {"id"=>"75eeec407095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'75eeec407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 275) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 275) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 275)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 275) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 477) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/75eeec407095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:15:19) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-sgi6r5-0>}, "id"=>"75f088a07095012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'75f088a07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:15:19.523863', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:15:19.522034', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 277[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/277/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/277/processed/file1.png
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Completed in 31ms (View: 1, DB: 2) | 200 OK [http://localhost/uploads/75f088a07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:19) [GET]
  Parameters: {"id"=>"75eeec407095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'75eeec407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 275) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 275) [0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 275)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 275) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 477) LIMIT 1[0m
Completed in 148ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/75eeec407095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:21) [GET]
  Parameters: {"id"=>"75eeec407095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'75eeec407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 275) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 275) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 275)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 275) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 477) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/75eeec407095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:22) [GET]
  Parameters: {"id"=>"75eeec407095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'75eeec407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 275) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 275) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 275)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 275) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 477) LIMIT 1[0m
Completed in 110ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/75eeec407095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:24) [GET]
  Parameters: {"id"=>"75eeec407095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'75eeec407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 275) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 275) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 275)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 275) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 477) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/75eeec407095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:26) [GET]
  Parameters: {"id"=>"75eeec407095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'75eeec407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 275) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 275) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 477) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 477) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:18.301054', timestamp '2010-07-13 10:15:25.301161')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 275)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 275) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 275)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 275)) [0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 275) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 477) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/75eeec407095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:15:30) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"iPad", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1279013161539", "client_uuid"=>"4c494be04f35201398b0274704222a854d9300e3", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"10.1.2.184", "version_sdk"=>"3.2"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:15:37.201725', E'iPad', NULL, E'iPhone OS', 0.0, '2010-07-13 10:15:30.201843', NULL, NULL, E'1279013161539', E'7d06cde07095012d8d7e001f5bf1b5ba', '2010-07-13 10:15:30.201843', NULL, E'4c494be04f35201398b0274704222a854d9300e3', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-13 10:15:30.201617', E'10.1.2.184', 2, E'waiting', E'3.2') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:15:30.215393', 478, NULL, E'7d085fa07095012d8d7e001f5bf1b5ba', '2010-07-13 10:15:30.215393', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:15:30.232192', '2010-07-13 10:15:30.232192', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:15:30.201617', "updated_at" = '2010-07-13 10:15:30.237425', "created_at" = '2010-07-13 10:15:30.201843', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'4c494be04f35201398b0274704222a854d9300e3', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1279013161539', "ending_at" = '2010-07-13 10:15:37.201725', "event_group_id" = 276, "location_accuracy" = 0.0, "version_sdk" = E'3.2', "local_ip" = E'10.1.2.184', "uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba', "model" = E'iPad', "api_version" = 2, "type" = E'Throw' WHERE "id" = 478[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba
Completed in 124ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:31) [GET]
  Parameters: {"id"=>"7d06cde07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 276) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 276) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 478) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:15:32) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-s2fiil-0>}, "id"=>"7d085fa07095012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'7d085fa07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:15:32.425253', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:15:32.423303', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 278[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/278/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/278/processed/file1.png
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/7d085fa07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:32) [GET]
  Parameters: {"id"=>"7d06cde07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 276) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 276) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 478) LIMIT 1[0m
Completed in 61ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:33) [GET]
  Parameters: {"id"=>"7d06cde07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 276) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 276) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 478) LIMIT 1[0m
Completed in 126ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:34) [GET]
  Parameters: {"id"=>"7d06cde07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 276) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 276) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 478) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:35) [GET]
  Parameters: {"id"=>"7d06cde07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 276) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 276) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 478) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:36) [GET]
  Parameters: {"id"=>"7d06cde07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 276) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 478) LIMIT 1[0m
Completed in 113ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:15:39) [GET]
  Parameters: {"id"=>"7d06cde07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7d06cde07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 276) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 276) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 478) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 478) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:15:30.201617', timestamp '2010-07-13 10:15:37.201725')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 276) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 276)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 276)) [0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 276) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 478) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/7d06cde07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:16:08) [POST]
  Parameters: {"event"=>{"bssids"=>"0:c:f6:51:b7:6a,0:1e:2a:60:e8:b4,0:14:7f:8a:6d:ed,0:24:1:f4:7c:5c", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1279013406521", "client_uuid"=>"2511bb53939d30d751180aeb5b38b7fcdc544792", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Catch", "longitude"=>"0.000000", "local_ip"=>"error", "version_sdk"=>"3.1.3"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:16:15.192660', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-13 10:16:08.193179', NULL, NULL, E'1279013406521', E'93abb0207095012d8d7e001f5bf1b5ba', '2010-07-13 10:16:08.193179', NULL, E'2511bb53939d30d751180aeb5b38b7fcdc544792', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Catch', NULL, NULL, 0.0, NULL, '2010-07-13 10:16:08.192279', E'error', 2, E'waiting', E'3.1.3') RETURNING "id"[0m
  [4;35;1mSQL (81.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:16:08.202184', 479, '2010-07-13 10:16:08.202184', E'00:0c:f6:51:b7:6a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:16:08.287462', 479, '2010-07-13 10:16:08.287462', E'00:1e:2a:60:e8:b4', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:16:08.289237', 479, '2010-07-13 10:16:08.289237', E'00:14:7f:8a:6d:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:16:08.290350', 479, '2010-07-13 10:16:08.290350', E'00:24:01:f4:7c:5c', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:16:08.310767', '2010-07-13 10:16:08.310767', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mCatch Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:16:08.192279', "updated_at" = '2010-07-13 10:16:08.318334', "created_at" = '2010-07-13 10:16:08.193179', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'2511bb53939d30d751180aeb5b38b7fcdc544792', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1279013406521', "ending_at" = '2010-07-13 10:16:15.192660', "event_group_id" = 277, "location_accuracy" = 0.0, "version_sdk" = E'3.1.3', "local_ip" = E'error', "uuid" = E'93abb0207095012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Catch' WHERE "id" = 479[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba
Completed in 230ms (DB: 94) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:16:08) [GET]
  Parameters: {"id"=>"93abb0207095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'93abb0207095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 277) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 277) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 479) LIMIT 1[0m
Completed in 75ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:16:09) [GET]
  Parameters: {"id"=>"93abb0207095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'93abb0207095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 277) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 277) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 479) LIMIT 1[0m
Completed in 60ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:16:11) [GET]
  Parameters: {"id"=>"93abb0207095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'93abb0207095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 277) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 479) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:16:12) [GET]
  Parameters: {"id"=>"93abb0207095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'93abb0207095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 277) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 479) LIMIT 1[0m
Completed in 127ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:16:13) [GET]
  Parameters: {"id"=>"93abb0207095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'93abb0207095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 277) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 479) LIMIT 1[0m
Completed in 58ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:16:15) [GET]
  Parameters: {"id"=>"93abb0207095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'93abb0207095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 277) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 277) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 277)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 277)) [0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 277) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 479) LIMIT 1[0m
Completed in 128ms (View: 1, DB: 13) | 410 Gone [http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:16:16) [GET]
  Parameters: {"id"=>"93abb0207095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'93abb0207095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 277) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 277) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 479) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:0c:f6:51:b7:6a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 479) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:16:08.192279', timestamp '2010-07-13 10:16:15.192660')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 479) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 10) | 410 Gone [http://localhost/events/93abb0207095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:17:54) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"SweepOut", "longitude"=>"11.354199"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (129.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSQL (51.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:18:01.511187', NULL, NULL, NULL, 47.263314, '2010-07-13 10:17:54.511391', NULL, NULL, NULL, E'd30aaac07095012d8d7e001f5bf1b5ba', '2010-07-13 10:17:54.511391', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'SweepOut', NULL, NULL, 11.354199, NULL, '2010-07-13 10:17:54.511042', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:17:54.582957', 480, NULL, E'd314efe07095012d8d7e001f5bf1b5ba', '2010-07-13 10:17:54.582957', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511187')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511187')))) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:17:54.663069', '2010-07-13 10:17:54.663069', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:17:54.511042', "updated_at" = '2010-07-13 10:17:54.668298', "created_at" = '2010-07-13 10:17:54.511391', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:18:01.511187', "event_group_id" = 278, "location_accuracy" = 939.0, "uuid" = E'd30aaac07095012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 480[0m
  [4;36;1mSQL (35.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/d30aaac07095012d8d7e001f5bf1b5ba
Completed in 344ms (DB: 223) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:17:54) [GET]
  Parameters: {"id"=>"d30aaac07095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd30aaac07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.8ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 278) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 278) [0m
  [4;36;1mAccessPointSighting Load (1.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 278)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 278)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 278) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 480) LIMIT 1[0m
Completed in 78ms (View: 21, DB: 14) | 202 Accepted [http://localhost/events/d30aaac07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:17:55) [GET]
  Parameters: {"id"=>"d30aaac07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'd30aaac07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 278) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 278) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 278)) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 278)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 278) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 480) LIMIT 1[0m
Completed in 113ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/d30aaac07095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:17:57) [GET]
  Parameters: {"id"=>"d30aaac07095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd30aaac07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 278) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 278) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 278)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 278)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 278) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 480) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/d30aaac07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:17:59) [GET]
  Parameters: {"id"=>"d30aaac07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'd30aaac07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 278) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 278) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 278)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 278)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 278) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 480) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/d30aaac07095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:00) [GET]
  Parameters: {"id"=>"d30aaac07095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'd30aaac07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 278) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 278) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 278)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 278)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 278) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 480) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/d30aaac07095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:02) [GET]
  Parameters: {"id"=>"d30aaac07095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'd30aaac07095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 278) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 278) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 480) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 480) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:17:54.511042', timestamp '2010-07-13 10:18:01.511186')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 278)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 278)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 278) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 278)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 278)) [0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 278) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 480) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/d30aaac07095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:18:07) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"SweepOut", "longitude"=>"11.354199"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:18:14.445955', NULL, NULL, NULL, 47.263314, '2010-07-13 10:18:07.446071', NULL, NULL, NULL, E'dac05f907095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:07.446071', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'SweepOut', NULL, NULL, 11.354199, NULL, '2010-07-13 10:18:07.445871', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:18:07.534625', 481, NULL, E'dacd3ae07095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:07.534625', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:18:07.551361', '2010-07-13 10:18:07.551361', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:18:07.445871', "updated_at" = '2010-07-13 10:18:07.556452', "created_at" = '2010-07-13 10:18:07.446071', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:18:14.445955', "event_group_id" = 279, "location_accuracy" = 939.0, "uuid" = E'dac05f907095012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 481[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/dac05f907095012d8d7e001f5bf1b5ba
Completed in 195ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:07) [GET]
  Parameters: {"id"=>"dac05f907095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'dac05f907095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 279) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 279) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 279)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 279)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 279) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 279) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 279) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 481) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/dac05f907095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:08) [GET]
  Parameters: {"id"=>"dac05f907095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'dac05f907095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 279) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 279) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 279)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 279)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 279) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 279) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 279) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 481) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/dac05f907095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:10) [GET]
  Parameters: {"id"=>"dac05f907095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'dac05f907095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 279) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 279) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 279)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 279)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 279) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 279) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 279) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 481) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/dac05f907095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-13 12:18:10) [DELETE]
  Parameters: {"id"=>"dac05f907095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'dac05f907095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSweepOut Update (1.2ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-13 10:18:10.987595', "state" = E'canceled' WHERE "id" = 481[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Completed in 93ms (View: 1, DB: 7) | 200 OK [http://localhost/events/dac05f907095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:11) [GET]
  Parameters: {"id"=>"dac05f907095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'dac05f907095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 279) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 279) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 481) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 481) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:07.445871', timestamp '2010-07-13 10:18:14.445955')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 481) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 9) | 410 Gone [http://localhost/events/dac05f907095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:18:15) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"SweepOut", "longitude"=>"11.354199"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:18:22.106147', NULL, NULL, NULL, 47.263314, '2010-07-13 10:18:15.106260', NULL, NULL, NULL, E'df513a007095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:15.106260', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'SweepOut', NULL, NULL, 11.354199, NULL, '2010-07-13 10:18:15.106063', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:18:15.118918', 482, NULL, E'df52bc907095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:15.118918', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:18:15.135066', '2010-07-13 10:18:15.135066', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSweepOut Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:18:15.106063', "updated_at" = '2010-07-13 10:18:15.140081', "created_at" = '2010-07-13 10:18:15.106260', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:18:22.106147', "event_group_id" = 280, "location_accuracy" = 939.0, "uuid" = E'df513a007095012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 482[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/df513a007095012d8d7e001f5bf1b5ba
Completed in 117ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:15) [GET]
  Parameters: {"id"=>"df513a007095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'df513a007095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 280) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 280) [0m
  [4;36;1mAccessPointSighting Load (1.1ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 280)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 280)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 280) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 482) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/df513a007095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:17) [GET]
  Parameters: {"id"=>"df513a007095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'df513a007095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 280) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 280) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 280)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 280)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 280) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 482) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/df513a007095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:19) [GET]
  Parameters: {"id"=>"df513a007095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'df513a007095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 280) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 280) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 280)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 280)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 280) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 482) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/df513a007095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:20) [GET]
  Parameters: {"id"=>"df513a007095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'df513a007095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 280) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 280) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 280)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 280)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 280) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 482) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/df513a007095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:21) [GET]
  Parameters: {"id"=>"df513a007095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'df513a007095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 280) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 280) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 280)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 280)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 280) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 482) LIMIT 1[0m
Completed in 112ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/df513a007095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:23) [GET]
  Parameters: {"id"=>"df513a007095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'df513a007095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 280) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 280) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 482) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 482) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:15.106063', timestamp '2010-07-13 10:18:22.106147')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 280)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 280)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 280) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 280)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 280)) [0m
  [4;35;1mEvent Update (2.1ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 280) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 482) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/df513a007095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:18:26) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1xs9e1b-0>}, "id"=>"df52bc907095012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (1.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'df52bc907095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.8ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:18:26.999700', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:18:26.996008', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 281[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/281/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/281/processed/file1.png
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 105ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/df52bc907095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:18:39) [POST]
  Parameters: {"event"=>{"bssids"=>"0:90:d0:f7:15:95,0:10:c6:2b:61:d2,0:1e:2a:60:e8:b4,0:14:7f:8a:6d:ed,0:19:cb:12:2d:77,0:24:1:f4:7c:5c", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1279013477950", "client_uuid"=>"147e9b81f45d09ab2232fb674fda4d7bc8a059cb", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"0.000000", "local_ip"=>"error", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:18:46.256336', E'iPhone', NULL, E'iPhone OS', 0.0, '2010-07-13 10:18:39.256454', NULL, NULL, E'1279013477950', E'edb640807095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:39.256454', NULL, E'147e9b81f45d09ab2232fb674fda4d7bc8a059cb', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Throw', NULL, NULL, 0.0, NULL, '2010-07-13 10:18:39.256250', E'error', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (22.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:18:39.264050', 483, '2010-07-13 10:18:39.264050', E'00:90:d0:f7:15:95', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:18:39.290185', 483, '2010-07-13 10:18:39.290185', E'00:10:c6:2b:61:d2', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:18:39.292313', 483, '2010-07-13 10:18:39.292313', E'00:1e:2a:60:e8:b4', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:18:39.294255', 483, '2010-07-13 10:18:39.294255', E'00:14:7f:8a:6d:ed', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:18:39.296009', 483, '2010-07-13 10:18:39.296009', E'00:19:cb:12:2d:77', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:18:39.298303', 483, '2010-07-13 10:18:39.298303', E'00:24:01:f4:7c:5c', NULL) RETURNING "id"[0m
  [4;36;1mSQL (9.1ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:18:39.310549', 483, NULL, E'edbdfd607095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:39.310549', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256250', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256250', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256250', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256250', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:18:39.345269', '2010-07-13 10:18:39.345269', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mThrow Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:18:39.256250', "updated_at" = '2010-07-13 10:18:39.354444', "created_at" = '2010-07-13 10:18:39.256454', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'147e9b81f45d09ab2232fb674fda4d7bc8a059cb', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1279013477950', "ending_at" = '2010-07-13 10:18:46.256336', "event_group_id" = 281, "location_accuracy" = 0.0, "version_sdk" = E'4.0', "local_ip" = E'error', "uuid" = E'edb640807095012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 483[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/edb640807095012d8d7e001f5bf1b5ba
Completed in 162ms (DB: 50) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:40) [GET]
  Parameters: {"id"=>"edb640807095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'edb640807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 281) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 281) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 281)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 281) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 483) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/edb640807095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:18:40) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"Throw", "longitude"=>"11.354199"}}
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:18:47.548201', NULL, NULL, NULL, 47.263314, '2010-07-13 10:18:40.548326', NULL, NULL, NULL, E'ee7b5f407095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:40.548326', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'Throw', NULL, NULL, 11.354199, NULL, '2010-07-13 10:18:40.548103', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:18:40.562737', 484, NULL, E'ee7d23107095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:40.562737', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (1.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:18:40.580663', '2010-07-13 10:18:40.580663', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mThrow Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:18:40.548103', "updated_at" = '2010-07-13 10:18:40.585998', "created_at" = '2010-07-13 10:18:40.548326', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:18:47.548201', "event_group_id" = 282, "location_accuracy" = 939.0, "uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'Throw' WHERE "id" = 484[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba
Completed in 63ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:40) [GET]
  Parameters: {"id"=>"ee7b5f407095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (20.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 282) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 282) [0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 282)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.1ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 282) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (46.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 484) LIMIT 1[0m
Completed in 126ms (View: 1, DB: 79) | 202 Accepted [http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:41) [GET]
  Parameters: {"id"=>"ee7b5f407095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 282) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 282) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 282)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 282) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 484) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:42) [GET]
  Parameters: {"id"=>"edb640807095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'edb640807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 281) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 281) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 281)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 281) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 483) LIMIT 1[0m
Completed in 117ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/edb640807095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:18:44) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1xv585t-0>}, "id"=>"edbdfd607095012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'edbdfd607095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:18:44.066801', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:18:44.064987', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 282[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/282/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/282/processed/file1.png
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/edbdfd607095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:44) [GET]
  Parameters: {"id"=>"ee7b5f407095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 282) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 282) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 282)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 282) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 484) LIMIT 1[0m
Completed in 59ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:44) [GET]
  Parameters: {"id"=>"edb640807095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'edb640807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 281) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 281) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 281)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 281) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 483) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/edb640807095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:45) [GET]
  Parameters: {"id"=>"ee7b5f407095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 282) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 282) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 282)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.6ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 282) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 484) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:46) [GET]
  Parameters: {"id"=>"edb640807095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'edb640807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 281) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 281) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 281)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 281) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 281)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 281)) [0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 281) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 483) LIMIT 1[0m
Completed in 117ms (View: 1, DB: 13) | 410 Gone [http://localhost/events/edb640807095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:47) [GET]
  Parameters: {"id"=>"ee7b5f407095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 282) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 282) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 282)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 282) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 282)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 282)) [0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 282) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 484) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:47) [GET]
  Parameters: {"id"=>"edb640807095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'edb640807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 281) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 281) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 483) LIMIT 1[0m
Completed in 116ms (View: 1, DB: 12) | 410 Gone [http://localhost/events/edb640807095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:48) [GET]
  Parameters: {"id"=>"ee7b5f407095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 282) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 282) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 484) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 484) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:40.548103', timestamp '2010-07-13 10:18:47.548201')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 484) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 8) | 410 Gone [http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-13 12:18:48) [DELETE]
  Parameters: {"id"=>"ee7b5f407095012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ee7b5f407095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mThrow Update (1.2ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-13 10:18:48.890421', "state" = E'canceled' WHERE "id" = 484[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 29ms (View: 1, DB: 7) | 200 OK [http://localhost/events/ee7b5f407095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:48) [GET]
  Parameters: {"id"=>"edb640807095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'edb640807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 281) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 281) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 483) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:24:01:f4:7c:5c',E'00:19:cb:12:2d:77',E'00:14:7f:8a:6d:ed',E'00:1e:2a:60:e8:b4',E'00:10:c6:2b:61:d2',E'00:90:d0:f7:15:95')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 483) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:39.256249', timestamp '2010-07-13 10:18:46.256336')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 483) LIMIT 1[0m
Completed in 113ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/edb640807095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:18:55) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"Throw", "longitude"=>"11.354199"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:19:02.078388', NULL, NULL, NULL, 47.263314, '2010-07-13 10:18:55.078503', NULL, NULL, NULL, E'f72481807095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:55.078503', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'Throw', NULL, NULL, 11.354199, NULL, '2010-07-13 10:18:55.078303', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:18:55.091379', 485, NULL, E'f7260b607095012d8d7e001f5bf1b5ba', '2010-07-13 10:18:55.091379', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:18:55.107933', '2010-07-13 10:18:55.107933', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:18:55.078303', "updated_at" = '2010-07-13 10:18:55.112967', "created_at" = '2010-07-13 10:18:55.078503', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:19:02.078388', "event_group_id" = 283, "location_accuracy" = 939.0, "uuid" = E'f72481807095012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'Throw' WHERE "id" = 485[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/f72481807095012d8d7e001f5bf1b5ba
Completed in 58ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:55) [GET]
  Parameters: {"id"=>"f72481807095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f72481807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 283) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 283) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 283)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 283) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 485) LIMIT 1[0m
Completed in 114ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/f72481807095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:57) [GET]
  Parameters: {"id"=>"f72481807095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f72481807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 283) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 283) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 283)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 283) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 485) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/f72481807095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:18:58) [GET]
  Parameters: {"id"=>"f72481807095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f72481807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 283) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 283) [0m
  [4;35;1mAccessPointSighting Load (1.2ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 283)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (214.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 283) [0m
  [4;36;1mEvent Load (36.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 485) LIMIT 1[0m
Completed in 422ms (View: 1, DB: 263) | 202 Accepted [http://localhost/events/f72481807095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:00) [GET]
  Parameters: {"id"=>"f72481807095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f72481807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 283) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 283) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 283)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 283) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 485) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/f72481807095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:01) [GET]
  Parameters: {"id"=>"f72481807095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f72481807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 283) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 283) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 283)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 283) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 485) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/f72481807095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:03) [GET]
  Parameters: {"id"=>"f72481807095012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f72481807095012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 283) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 283) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 485) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 485) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:18:55.078303', timestamp '2010-07-13 10:19:02.078388')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 283)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 283) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 283)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 283)) [0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 283) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 485) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/f72481807095012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:19:12) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"Throw", "longitude"=>"11.354199"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:19:19.212250', NULL, NULL, NULL, 47.263314, '2010-07-13 10:19:12.212367', NULL, NULL, NULL, E'015aed107096012d8d7e001f5bf1b5ba', '2010-07-13 10:19:12.212367', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'Throw', NULL, NULL, 11.354199, NULL, '2010-07-13 10:19:12.212166', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:19:12.225255', 486, NULL, E'015c75b07096012d8d7e001f5bf1b5ba', '2010-07-13 10:19:12.225255', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:19:12.241997', '2010-07-13 10:19:12.241997', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:19:12.212166', "updated_at" = '2010-07-13 10:19:12.309659', "created_at" = '2010-07-13 10:19:12.212367', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:19:19.212250', "event_group_id" = 284, "location_accuracy" = 939.0, "uuid" = E'015aed107096012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'Throw' WHERE "id" = 486[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/015aed107096012d8d7e001f5bf1b5ba
Completed in 120ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:12) [GET]
  Parameters: {"id"=>"015aed107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'015aed107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 284) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 284) [0m
  [4;35;1mAccessPointSighting Load (1.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 284)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 284) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 486) LIMIT 1[0m
Completed in 60ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/015aed107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:14) [GET]
  Parameters: {"id"=>"015aed107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'015aed107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 284) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 284) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 284)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 284) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 486) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/015aed107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:15) [GET]
  Parameters: {"id"=>"015aed107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'015aed107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 284) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 284) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 284)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 284) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 486) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/015aed107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:16) [GET]
  Parameters: {"id"=>"015aed107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'015aed107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 284) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 284) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 284)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 284) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 486) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/015aed107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:17) [GET]
  Parameters: {"id"=>"015aed107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'015aed107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 284) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 284) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 284)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 284) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 486) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/015aed107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:19) [GET]
  Parameters: {"id"=>"015aed107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'015aed107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 284) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 284) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 284)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 284) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 284)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 284)) [0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 284) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 486) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/015aed107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:20) [GET]
  Parameters: {"id"=>"015aed107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'015aed107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 284) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 284) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 486) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 486) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:12.212166', timestamp '2010-07-13 10:19:19.212250')))) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 486) LIMIT 1[0m
Completed in 105ms (View: 1, DB: 9) | 410 Gone [http://localhost/events/015aed107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:19:23) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-n5xuv8-0>}, "id"=>"015c75b07096012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'015c75b07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:19:23.097598', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:19:23.095681', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 285[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/285/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/285/processed/file1.png
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/015c75b07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:19:25) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"Throw", "longitude"=>"11.354199"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:19:32.180740', NULL, NULL, NULL, 47.263314, '2010-07-13 10:19:25.180865', NULL, NULL, NULL, E'0915c1507096012d8d7e001f5bf1b5ba', '2010-07-13 10:19:25.180865', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'Throw', NULL, NULL, 11.354199, NULL, '2010-07-13 10:19:25.180640', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:19:25.195480', 487, NULL, E'091782407096012d8d7e001f5bf1b5ba', '2010-07-13 10:19:25.195480', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:19:25.213998', '2010-07-13 10:19:25.213998', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:19:25.180640', "updated_at" = '2010-07-13 10:19:25.220019', "created_at" = '2010-07-13 10:19:25.180865', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:19:32.180740', "event_group_id" = 285, "location_accuracy" = 939.0, "uuid" = E'0915c1507096012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'Throw' WHERE "id" = 487[0m
  [4;35;1mSQL (31.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba
Completed in 96ms (DB: 40) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:26) [GET]
  Parameters: {"id"=>"0915c1507096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0915c1507096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 285) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 285) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 285)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 285) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 487) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:27) [GET]
  Parameters: {"id"=>"0915c1507096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0915c1507096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 285) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 285) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 285)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 285) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 487) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:29) [GET]
  Parameters: {"id"=>"0915c1507096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0915c1507096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 285) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 285) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 285)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 285) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 487) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:30) [GET]
  Parameters: {"id"=>"0915c1507096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0915c1507096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 285) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 285) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 285)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 285) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 487) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:31) [GET]
  Parameters: {"id"=>"0915c1507096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0915c1507096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 285) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 285) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 285)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 285) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 487) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:32) [GET]
  Parameters: {"id"=>"0915c1507096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0915c1507096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 285) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 285) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 285)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 285) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 285)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 285)) [0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 285) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 487) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:34) [GET]
  Parameters: {"id"=>"0915c1507096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0915c1507096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 285) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 285) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 487) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 487) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:25.180640', timestamp '2010-07-13 10:19:32.180740')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 487) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 9) | 410 Gone [http://localhost/events/0915c1507096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:19:37) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-5697km-0>}, "id"=>"091782407096012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'091782407096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:19:37.107432', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:19:37.105431', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 286[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/286/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/286/processed/file1.png
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 145ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/091782407096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:19:58) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"SweepOut", "longitude"=>"11.354199"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:20:05.237693', NULL, NULL, NULL, 47.263314, '2010-07-13 10:19:58.237813', NULL, NULL, NULL, E'1cc9d8d07096012d8d7e001f5bf1b5ba', '2010-07-13 10:19:58.237813', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'SweepOut', NULL, NULL, 11.354199, NULL, '2010-07-13 10:19:58.237592', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:19:58.252763', 488, NULL, E'1ccb94307096012d8d7e001f5bf1b5ba', '2010-07-13 10:19:58.252763', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 488) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 488) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 488) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:58.237592', timestamp '2010-07-13 10:20:05.237693')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 488) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:58.237592', timestamp '2010-07-13 10:20:05.237693')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:19:58.270707', '2010-07-13 10:19:58.270707', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:19:58.237592', "updated_at" = '2010-07-13 10:19:58.276076', "created_at" = '2010-07-13 10:19:58.237813', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:20:05.237693', "event_group_id" = 286, "location_accuracy" = 939.0, "uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 488[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba
Completed in 65ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:58) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 488) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 488) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 488) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:58.237592', timestamp '2010-07-13 10:20:05.237693')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 488) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:58.237592', timestamp '2010-07-13 10:20:05.237693')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 135ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:19:59) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.266585", "location_accuracy"=>"950.0", "type"=>"SweepIn", "longitude"=>"11.353125"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.353125 47.266585)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:20:06.488318', NULL, NULL, NULL, 47.266585, '2010-07-13 10:19:59.488435', NULL, NULL, NULL, E'1d88ae707096012d8d7e001f5bf1b5ba', '2010-07-13 10:19:59.488435', NULL, NULL, E'0101000020E6100000CDCCCCCCCCB42640554D10751FA24740', 950.0, NULL, E'SweepIn', NULL, NULL, 11.353125, NULL, '2010-07-13 10:19:59.488234', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 489) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 489) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 489) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.353125 47.266585)', 4326), 0.0803123491544434) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.353125 47.266585)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 950.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:59.488234', timestamp '2010-07-13 10:20:06.488318')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.353125 47.266585)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:19:59.488234', "updated_at" = '2010-07-13 10:19:59.503836', "created_at" = '2010-07-13 10:19:59.488435', "longitude" = 11.353125, "point" = E'0101000020E6100000CDCCCCCCCCB42640554D10751FA24740', "latitude" = 47.266585, "ending_at" = '2010-07-13 10:20:06.488318', "location_accuracy" = 950.0, "pairing_mode" = 1, "uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 489[0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 489) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.353125 47.266585)', 4326), 0.0803123491544434) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.353125 47.266585)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 950.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:19:59.488234', timestamp '2010-07-13 10:20:06.488318')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.353125 47.266585)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-13 10:19:59.514509', "event_group_id" = 286 WHERE "id" = 489[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba
Completed in 49ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:19:59) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.0ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 46ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:00) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:01) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:01) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 112ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:02) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:04) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:05) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 286) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:05) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 286) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 286)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 286)) [0m
  [4;35;1mEvent Update (2.6ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 286) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 10) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:06) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (1.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 6) | 200 OK [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:07) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:07) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 6) | 200 OK [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:08) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 99ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:09) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:09) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 6) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:10) [GET]
  Parameters: {"id"=>"1cc9d8d07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1cc9d8d07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1cc9d8d07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:20:11) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1x5bn29-0>}, "id"=>"1ccb94307096012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'1ccb94307096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:20:11.089549', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:20:11.087615', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 287[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/287/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/287/processed/file1.png
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/1ccb94307096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:12) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-13 12:20:12) [GET]
  Parameters: {"id"=>"627e8810708f012d3c6d00176ed99fe3"}
  [4;35;1mUpload Load (1.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'627e8810708f012d3c6d00176ed99fe3') LIMIT 1[0m
Completed in 102ms (View: 1, DB: 2) | 404 Not Found [http://localhost/uploads/627e8810708f012d3c6d00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:13) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:15) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:16) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 105ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:17) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:20:19) [GET]
  Parameters: {"id"=>"1d88ae707096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'1d88ae707096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 286) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 286) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 488) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 489) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/1d88ae707096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:22:15) [POST]
  Parameters: {"event"=>{"bssids"=>"00:1f:90:f0:09:7a,00:1f:90:e9:bd:4c,00:1f:90:fd:39:98,00:12:17:ad:e2:1b,00:90:4c:7e:00:6e,00:18:3a:af:32:3c,00:13:10:a9:61:20,00:0b:6c:bc:75:50,00:22:6b:56:f9:20,00:1f:33:39:40:18,68:7f:74:c2:3c:54", "model"=>"Droid", "device"=>"sholes", "brand"=>"verizon", "latitude"=>"40.0375291", "timestamp"=>"1279013656407", "network_type"=>"EVDO_A", "network_operator"=>"Verizon Wireless", "client_uuid"=>"4305657b-1bea-46f2-8255-ce3168ab2a14", "location_accuracy"=>"49.0", "hoccability"=>"3", "manufacturer"=>"Motorola", "type"=>"Catch", "longitude"=>"-74.24689572222223", "local_ip"=>"192.168.1.4", "version_sdk"=>"7"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:22:22.829206', E'Droid', E'verizon', E'sholes', 40.0375291, '2010-07-13 10:22:15.829328', NULL, E'EVDO_A', E'1279013656407', E'6ecca6207096012d8d7e001f5bf1b5ba', '2010-07-13 10:22:15.829328', E'Verizon Wireless', E'4305657b-1bea-46f2-8255-ce3168ab2a14', E'0101000020E6100000DE1DB723CD8F52C0FC92E8C0CD044440', 49.0, E'3', E'Catch', NULL, E'Motorola', -74.2468957222222, NULL, '2010-07-13 10:22:15.829119', E'192.168.1.4', 2, E'waiting', E'7') RETURNING "id"[0m
  [4;35;1mSQL (84.7ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.837499', 490, '2010-07-13 10:22:15.837499', E'00:1f:90:f0:09:7a', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.926481', 490, '2010-07-13 10:22:15.926481', E'00:1f:90:e9:bd:4c', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.928946', 490, '2010-07-13 10:22:15.928946', E'00:1f:90:fd:39:98', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.930762', 490, '2010-07-13 10:22:15.930762', E'00:12:17:ad:e2:1b', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.932674', 490, '2010-07-13 10:22:15.932674', E'00:90:4c:7e:00:6e', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.934482', 490, '2010-07-13 10:22:15.934482', E'00:18:3a:af:32:3c', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.936154', 490, '2010-07-13 10:22:15.936154', E'00:13:10:a9:61:20', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.937733', 490, '2010-07-13 10:22:15.937733', E'00:0b:6c:bc:75:50', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.939222', 490, '2010-07-13 10:22:15.939222', E'00:22:6b:56:f9:20', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.940698', 490, '2010-07-13 10:22:15.940698', E'00:1f:33:39:40:18', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:22:15.942021', 490, '2010-07-13 10:22:15.942021', E'68:7f:74:c2:3c:54', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:22:15.963193', '2010-07-13 10:22:15.963193', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)[0m
  [4;36;1mCatch Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:22:15.829119', "updated_at" = '2010-07-13 10:22:15.972611', "created_at" = '2010-07-13 10:22:15.829328', "longitude" = -74.2468957222222, "hoccability" = E'3', "client_uuid" = E'4305657b-1bea-46f2-8255-ce3168ab2a14', "device" = E'sholes', "point" = E'0101000020E6100000DE1DB723CD8F52C0FC92E8C0CD044440', "network_operator" = E'Verizon Wireless', "latitude" = 40.0375291, "timestamp" = E'1279013656407', "ending_at" = '2010-07-13 10:22:22.829206', "manufacturer" = E'Motorola', "event_group_id" = 287, "location_accuracy" = 49.0, "version_sdk" = E'7', "local_ip" = E'192.168.1.4', "uuid" = E'6ecca6207096012d8d7e001f5bf1b5ba', "model" = E'Droid', "brand" = E'verizon', "api_version" = 2, "type" = E'Catch', "network_type" = E'EVDO_A' WHERE "id" = 490[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/6ecca6207096012d8d7e001f5bf1b5ba
Completed in 309ms (DB: 100) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:16) [GET]
  Parameters: {"id"=>"6ecca6207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6ecca6207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 287) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 287) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 287) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 490) LIMIT 1[0m
Completed in 59ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/6ecca6207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:17) [GET]
  Parameters: {"id"=>"6ecca6207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6ecca6207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 287) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 287) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 287) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 490) LIMIT 1[0m
Completed in 58ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/6ecca6207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:19) [GET]
  Parameters: {"id"=>"6ecca6207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6ecca6207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 287) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 287) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 287) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 490) LIMIT 1[0m
Completed in 52ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/6ecca6207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:20) [GET]
  Parameters: {"id"=>"6ecca6207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6ecca6207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 287) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 287) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 287) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 490) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/6ecca6207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:21) [GET]
  Parameters: {"id"=>"6ecca6207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6ecca6207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 287) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 287) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 287) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 490) LIMIT 1[0m
Completed in 113ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/6ecca6207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:23) [GET]
  Parameters: {"id"=>"6ecca6207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6ecca6207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 287) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 287) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 490) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'68:7f:74:c2:3c:54',E'00:1f:33:39:40:18',E'00:22:6b:56:f9:20',E'00:0b:6c:bc:75:50',E'00:13:10:a9:61:20',E'00:18:3a:af:32:3c',E'00:90:4c:7e:00:6e',E'00:12:17:ad:e2:1b',E'00:1f:90:fd:39:98',E'00:1f:90:e9:bd:4c',E'00:1f:90:f0:09:7a')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 490) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326), 0.0711825420139496) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-74.2468957222222 40.0375291)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 49.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:15.829119', timestamp '2010-07-13 10:22:22.829206')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 287) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 287)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 287)) [0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 287) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 490) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 12) | 410 Gone [http://localhost/events/6ecca6207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:22:38) [POST]
  Parameters: {"event"=>{"model"=>"iPod touch", "device"=>"iPhone OS", "latitude"=>"40.434121", "timestamp"=>"1279013671926", "client_uuid"=>"c7c81b257932445d54a2c2403a8883b9aaea2668", "location_accuracy"=>"250.000000", "hoccability"=>"1", "type"=>"Throw", "longitude"=>"-86.923083", "local_ip"=>"192.168.1.72", "version_sdk"=>"4.0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:22:45.763673', E'iPod touch', NULL, E'iPhone OS', 40.434121, '2010-07-13 10:22:38.763787', NULL, NULL, E'1279013671926', E'7c782c207096012d8d7e001f5bf1b5ba', '2010-07-13 10:22:38.763787', NULL, E'c7c81b257932445d54a2c2403a8883b9aaea2668', E'0101000020E6100000971FB8CA13BB55C0DFC0E44691374440', 250.0, E'1', E'Throw', NULL, NULL, -86.923083, NULL, '2010-07-13 10:22:38.763590', E'192.168.1.72', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:22:38.777452', 491, NULL, E'7c79ceb07096012d8d7e001f5bf1b5ba', '2010-07-13 10:22:38.777452', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:22:38.794967', '2010-07-13 10:22:38.794967', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:22:38.763590', "updated_at" = '2010-07-13 10:22:38.800115', "created_at" = '2010-07-13 10:22:38.763787', "longitude" = -86.923083, "hoccability" = E'1', "client_uuid" = E'c7c81b257932445d54a2c2403a8883b9aaea2668', "device" = E'iPhone OS', "point" = E'0101000020E6100000971FB8CA13BB55C0DFC0E44691374440', "latitude" = 40.434121, "timestamp" = E'1279013671926', "ending_at" = '2010-07-13 10:22:45.763673', "event_group_id" = 288, "location_accuracy" = 250.0, "version_sdk" = E'4.0', "local_ip" = E'192.168.1.72', "uuid" = E'7c782c207096012d8d7e001f5bf1b5ba', "model" = E'iPod touch', "api_version" = 2, "type" = E'Throw' WHERE "id" = 491[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba
Completed in 122ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:38) [GET]
  Parameters: {"id"=>"7c782c207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c782c207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 288) [0m
  [4;35;1mAccessPointSighting Load (1.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 288)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 288) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 491) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:22:39) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-16ljc2q-0>}, "id"=>"7c79ceb07096012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'7c79ceb07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:22:39.991245', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:22:39.989181', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 288[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/288/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/288/processed/file1.png
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 95ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/7c79ceb07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:41) [GET]
  Parameters: {"id"=>"7c782c207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c782c207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 288) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 288)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 491) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:42) [GET]
  Parameters: {"id"=>"7c782c207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c782c207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 288) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 288)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 288) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 491) LIMIT 1[0m
Completed in 52ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:43) [GET]
  Parameters: {"id"=>"7c782c207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c782c207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 288) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 288)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 288) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 491) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:44) [GET]
  Parameters: {"id"=>"7c782c207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c782c207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 288) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 288)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 491) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:46) [GET]
  Parameters: {"id"=>"7c782c207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c782c207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 288) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 288)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 288) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 288)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 288)) [0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 288) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 491) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:22:47) [GET]
  Parameters: {"id"=>"7c782c207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (6.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'7c782c207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 288) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 288) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 491) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 491) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326), 0.071600671923896) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(-86.923083 40.434121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:22:38.763590', timestamp '2010-07-13 10:22:45.763673')))) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 491) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 13) | 410 Gone [http://localhost/events/7c782c207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:25:26) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"SweepOut", "longitude"=>"11.354199"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:25:33.696966', NULL, NULL, NULL, 47.263314, '2010-07-13 10:25:26.697079', NULL, NULL, NULL, E'e090c2207096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:26.697079', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'SweepOut', NULL, NULL, 11.354199, NULL, '2010-07-13 10:25:26.696877', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:25:26.771247', 492, NULL, E'e0925c007096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:26.771247', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 492) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 492) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 492) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:26.696877', timestamp '2010-07-13 10:25:33.696966')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 492) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:26.696877', timestamp '2010-07-13 10:25:33.696966')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:25:26.789281', '2010-07-13 10:25:26.789281', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:25:26.696877', "updated_at" = '2010-07-13 10:25:26.794896', "created_at" = '2010-07-13 10:25:26.697079', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:25:33.696966', "event_group_id" = 289, "location_accuracy" = 939.0, "uuid" = E'e090c2207096012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 492[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/e090c2207096012d8d7e001f5bf1b5ba
Completed in 121ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:26) [GET]
  Parameters: {"id"=>"e090c2207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e090c2207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 289) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 289) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 492) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 492) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 492) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:26.696877', timestamp '2010-07-13 10:25:33.696966')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 492) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:26.696877', timestamp '2010-07-13 10:25:33.696966')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 289)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 289)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 289) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 289) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 289) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 492) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/e090c2207096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:28) [GET]
  Parameters: {"id"=>"e090c2207096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'e090c2207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 289) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 289) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 492) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 492) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 492) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:26.696877', timestamp '2010-07-13 10:25:33.696966')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 492) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:26.696877', timestamp '2010-07-13 10:25:33.696966')))) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 289)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 289)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 289) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (2.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 289) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 289) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 492) LIMIT 1[0m
Completed in 115ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/e090c2207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-13 12:25:30) [DELETE]
  Parameters: {"id"=>"e090c2207096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e090c2207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSweepOut Update (1.2ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-13 10:25:30.069291', "state" = E'canceled' WHERE "id" = 492[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Completed in 26ms (View: 1, DB: 6) | 200 OK [http://localhost/events/e090c2207096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:25:33) [POST]
  Parameters: {"event"=>{"bssids"=>"", "device"=>"dream", "model"=>"T-Mobile G1", "brand"=>"tmeu", "latitude"=>"47.242855", "timestamp"=>"1279013972744", "network_type"=>"EDGE", "network_operator"=>"T-Mobile Austria", "client_uuid"=>"1b2cece1-2938-498f-82a3-00dafbc24f98", "location_accuracy"=>"5000.0", "hoccability"=>"0", "type"=>"SweepOut", "manufacturer"=>"HTC", "longitude"=>"11.399653", "local_ip"=>"10.106.7.111", "version_sdk"=>"4"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.399653 47.242855)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:25:40.120137', E'T-Mobile G1', E'tmeu', E'dream', 47.242855, '2010-07-13 10:25:33.120250', NULL, E'EDGE', E'1279013972744', E'e464db207096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:33.120250', E'T-Mobile Austria', E'1b2cece1-2938-498f-82a3-00dafbc24f98', E'0101000020E6100000207F69519FCC2640C55565DF159F4740', 5000.0, E'0', E'SweepOut', NULL, E'HTC', 11.399653, NULL, '2010-07-13 10:25:33.120055', E'10.106.7.111', 2, E'waiting', E'4') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:25:33.133556', 493, NULL, E'e46665b07096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:33.133556', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 493) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 493) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 493) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:33.120055', timestamp '2010-07-13 10:25:40.120137')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.399653 47.242855)', 4326)[0m
  [4;35;1mSweepOut Update (0.4ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:25:33.120055', "updated_at" = '2010-07-13 10:25:33.145766', "created_at" = '2010-07-13 10:25:33.120250', "longitude" = 11.399653, "hoccability" = E'0', "client_uuid" = E'1b2cece1-2938-498f-82a3-00dafbc24f98', "device" = E'dream', "point" = E'0101000020E6100000207F69519FCC2640C55565DF159F4740', "network_operator" = E'T-Mobile Austria', "latitude" = 47.242855, "timestamp" = E'1279013972744', "ending_at" = '2010-07-13 10:25:40.120137', "manufacturer" = E'HTC', "location_accuracy" = 5000.0, "version_sdk" = E'4', "pairing_mode" = 1, "local_ip" = E'10.106.7.111', "uuid" = E'e464db207096012d8d7e001f5bf1b5ba', "model" = E'T-Mobile G1', "brand" = E'tmeu', "api_version" = 2, "type" = E'SweepOut', "network_type" = E'EDGE' WHERE "id" = 493[0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 493) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:33.120055', timestamp '2010-07-13 10:25:40.120137')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 289) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.399653 47.242855)', 4326)[0m
  [4;35;1mSweepOut Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-13 10:25:33.155666', "event_group_id" = 289 WHERE "id" = 493[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/e464db207096012d8d7e001f5bf1b5ba
Completed in 59ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:33) [GET]
  Parameters: {"id"=>"e464db207096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'e464db207096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 289) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 289) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 289)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 289)) [0m
  [4;36;1mEvent Update (2.4ms)[0m   [0;1mUPDATE "events" SET state = 'collision' WHERE (event_group_id = 289) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 493) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 7) | 409 Conflict [http://localhost/events/e464db207096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:25:41) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"SweepOut", "longitude"=>"11.354199"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:25:48.355201', NULL, NULL, NULL, 47.263314, '2010-07-13 10:25:41.355311', NULL, NULL, NULL, E'e94d6dd07096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:41.355311', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'SweepOut', NULL, NULL, 11.354199, NULL, '2010-07-13 10:25:41.355121', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:25:41.368302', 494, NULL, E'e94efb007096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:41.368302', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 494) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 494) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 494) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:41.355121', timestamp '2010-07-13 10:25:48.355201')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 494) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:41.355121', timestamp '2010-07-13 10:25:48.355201')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:25:41.384413', '2010-07-13 10:25:41.384413', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;36;1mSweepOut Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:25:41.355121', "updated_at" = '2010-07-13 10:25:41.389842', "created_at" = '2010-07-13 10:25:41.355311', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:25:48.355201', "event_group_id" = 290, "location_accuracy" = 939.0, "uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 494[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba
Completed in 57ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:41) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 494) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 494) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 494) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:41.355121', timestamp '2010-07-13 10:25:48.355201')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 494) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:41.355121', timestamp '2010-07-13 10:25:48.355201')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.4ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 52ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:25:42) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263174", "location_accuracy"=>"914.0", "type"=>"SweepIn", "longitude"=>"11.3579"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.3579 47.263174)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:25:49.581541', NULL, NULL, NULL, 47.263174, '2010-07-13 10:25:42.581653', NULL, NULL, NULL, E'ea088db07096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:42.581653', NULL, NULL, E'0101000020E6100000107A36AB3EB72640299485AFAFA14740', 914.0, NULL, E'SweepIn', NULL, NULL, 11.3579, NULL, '2010-07-13 10:25:42.581461', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 495) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 495) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 495) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.3579 47.263174)', 4326), 0.0803071742989549) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.3579 47.263174)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 914.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:42.581461', timestamp '2010-07-13 10:25:49.581541')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.3579 47.263174)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:25:42.581461', "updated_at" = '2010-07-13 10:25:42.596807', "created_at" = '2010-07-13 10:25:42.581653', "longitude" = 11.3579, "point" = E'0101000020E6100000107A36AB3EB72640299485AFAFA14740', "latitude" = 47.263174, "ending_at" = '2010-07-13 10:25:49.581541', "location_accuracy" = 914.0, "pairing_mode" = 1, "uuid" = E'ea088db07096012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 495[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 495) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.3579 47.263174)', 4326), 0.0803071742989549) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.3579 47.263174)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 914.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:42.581461', timestamp '2010-07-13 10:25:49.581541')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.3579 47.263174)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-13 10:25:42.606612', "event_group_id" = 290 WHERE "id" = 495[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba
Completed in 48ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:42) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:42) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:43) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:44) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:46) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:46) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:47) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:48) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 290) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:48) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 290) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 290)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 290)) [0m
  [4;36;1mEvent Update (2.3ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 290) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 119ms (View: 1, DB: 8) | 200 OK [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:49) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 6) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:50) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 97ms (View: 1, DB: 5) | 200 OK [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:50) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (5.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (1.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 8) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:51) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:52) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:53) [GET]
  Parameters: {"id"=>"e94d6dd07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'e94d6dd07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/e94d6dd07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:54) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 6) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:25:54) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-166fkf3-0>}, "id"=>"e94efb007096012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'e94efb007096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:25:54.167994', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:25:54.165770', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 291[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/291/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/291/processed/file1.png
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 178ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/e94efb007096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:55) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-13 12:25:56) [GET]
  Parameters: {"id"=>"2bd998207090012d3c6d00176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'2bd998207090012d3c6d00176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/2bd998207090012d3c6d00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:57) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:25:58) [POST]
  Parameters: {"event"=>{"model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"37.525929", "timestamp"=>"1279013864512", "client_uuid"=>"c4a5702c463143f9bbc8c3d2aaec713f5d2787c8", "location_accuracy"=>"90.086812", "hoccability"=>"2", "type"=>"SweepOut", "longitude"=>"126.916558", "local_ip"=>"192.168.0.100", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(126.916558 37.525929)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:26:05.582108', E'iPhone', NULL, E'iPhone OS', 37.525929, '2010-07-13 10:25:58.582225', NULL, NULL, E'1279013864512', E'f3920bc07096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:58.582225', NULL, E'c4a5702c463143f9bbc8c3d2aaec713f5d2787c8', E'0101000020E6100000C7B8E2E2A8BA5F404D8237A451C34240', 90.086812, E'2', E'SweepOut', NULL, NULL, 126.916558, NULL, '2010-07-13 10:25:58.582026', E'192.168.0.100', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:25:58.597724', 496, NULL, E'f393f1d07096012d8d7e001f5bf1b5ba', '2010-07-13 10:25:58.597724', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 496) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 496) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 496) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916558 37.525929)', 4326), 0.0687183670968725) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916558 37.525929)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 90.086812))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:58.582026', timestamp '2010-07-13 10:26:05.582108')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 496) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916558 37.525929)', 4326), 0.0687183670968725) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916558 37.525929)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 90.086812))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:25:58.582026', timestamp '2010-07-13 10:26:05.582108')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:25:58.615242', '2010-07-13 10:25:58.615242', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(126.916558 37.525929)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:25:58.582026', "updated_at" = '2010-07-13 10:25:58.620457', "created_at" = '2010-07-13 10:25:58.582225', "longitude" = 126.916558, "hoccability" = E'2', "client_uuid" = E'c4a5702c463143f9bbc8c3d2aaec713f5d2787c8', "device" = E'iPhone OS', "point" = E'0101000020E6100000C7B8E2E2A8BA5F404D8237A451C34240', "latitude" = 37.525929, "timestamp" = E'1279013864512', "ending_at" = '2010-07-13 10:26:05.582108', "event_group_id" = 291, "location_accuracy" = 90.086812, "version_sdk" = E'4.0', "local_ip" = E'192.168.0.100', "uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 496[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba
Completed in 62ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:25:58) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (1.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 8) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:00) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:26:01) [POST]
  Parameters: {"event"=>{"bssids"=>"6:e:dc:5a:6b:97,0:b:86:ea:ad:c0,0:26:5a:f1:93:40,0:b:86:e8:86:c0,0:b:86:d1:9d:40,0:e:e8:e4:68:cc,0:8:9f:d:cb:34,0:b:86:d1:9d:41,0:b:86:e6:b4:1,0:14:6c:e5:9d:11,0:b:86:e6:b4:0,c8:3a:35:21:4c:a8,0:b:86:e8:86:c1,0:25:62:f9:4d:4d,0:24:6c:bf:31:60,0:24:1:bd:2e:d9,0:24:6c:bf:31:61,0:25:a6:a0:50:98,ec:fe:58:fe:70:76", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"37.525819", "timestamp"=>"1279013872265", "client_uuid"=>"e17c6379b334ef50f1449cc3d7cc5187f7a2374d", "location_accuracy"=>"500.000000", "hoccability"=>"2", "type"=>"SweepIn", "longitude"=>"126.917778", "local_ip"=>"error", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(126.917778 37.525819)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:26:08.887965', E'iPhone', NULL, E'iPhone OS', 37.525819, '2010-07-13 10:26:01.888087', NULL, NULL, E'1279013872265', E'f58a7a107096012d8d7e001f5bf1b5ba', '2010-07-13 10:26:01.888087', NULL, E'e17c6379b334ef50f1449cc3d7cc5187f7a2374d', E'0101000020E610000040BFEFDFBCBA5F40C64E78094EC34240', 500.0, E'2', E'SweepIn', NULL, NULL, 126.917778, NULL, '2010-07-13 10:26:01.887870', E'error', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.895528', 497, '2010-07-13 10:26:01.895528', E'06:0e:dc:5a:6b:97', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.900528', 497, '2010-07-13 10:26:01.900528', E'00:0b:86:ea:ad:c0', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.901577', 497, '2010-07-13 10:26:01.901577', E'00:26:5a:f1:93:40', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.902640', 497, '2010-07-13 10:26:01.902640', E'00:0b:86:e8:86:c0', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.903633', 497, '2010-07-13 10:26:01.903633', E'00:0b:86:d1:9d:40', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.904612', 497, '2010-07-13 10:26:01.904612', E'00:0e:e8:e4:68:cc', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.905579', 497, '2010-07-13 10:26:01.905579', E'00:08:9f:0d:cb:34', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.906547', 497, '2010-07-13 10:26:01.906547', E'00:0b:86:d1:9d:41', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.907508', 497, '2010-07-13 10:26:01.907508', E'00:0b:86:e6:b4:01', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.908473', 497, '2010-07-13 10:26:01.908473', E'00:14:6c:e5:9d:11', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.909882', 497, '2010-07-13 10:26:01.909882', E'00:0b:86:e6:b4:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.910864', 497, '2010-07-13 10:26:01.910864', E'c8:3a:35:21:4c:a8', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.911855', 497, '2010-07-13 10:26:01.911855', E'00:0b:86:e8:86:c1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.912842', 497, '2010-07-13 10:26:01.912842', E'00:25:62:f9:4d:4d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.913814', 497, '2010-07-13 10:26:01.913814', E'00:24:6c:bf:31:60', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.914804', 497, '2010-07-13 10:26:01.914804', E'00:24:01:bd:2e:d9', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.915837', 497, '2010-07-13 10:26:01.915837', E'00:24:6c:bf:31:61', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.977606', 497, '2010-07-13 10:26:01.977606', E'00:25:a6:a0:50:98', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:26:01.978790', 497, '2010-07-13 10:26:01.978790', E'ec:fe:58:fe:70:76', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 497) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 497) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:24:01:bd:2e:d9',E'00:24:6c:bf:31:60',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:00',E'00:14:6c:e5:9d:11',E'00:0b:86:e6:b4:01',E'00:0b:86:d1:9d:41',E'00:08:9f:0d:cb:34',E'00:0e:e8:e4:68:cc',E'00:0b:86:d1:9d:40',E'00:0b:86:e8:86:c0',E'00:26:5a:f1:93:40',E'00:0b:86:ea:ad:c0',E'06:0e:dc:5a:6b:97')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:01.887870', timestamp '2010-07-13 10:26:08.887965')))) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 497) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.917778 37.525819)', 4326), 0.0687182657689665) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.917778 37.525819)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 500.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:01.887870', timestamp '2010-07-13 10:26:08.887965')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(126.917778 37.525819)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:26:01.887870', "updated_at" = '2010-07-13 10:26:01.997520', "created_at" = '2010-07-13 10:26:01.888087', "longitude" = 126.917778, "hoccability" = E'2', "client_uuid" = E'e17c6379b334ef50f1449cc3d7cc5187f7a2374d', "device" = E'iPhone OS', "point" = E'0101000020E610000040BFEFDFBCBA5F40C64E78094EC34240', "latitude" = 37.525819, "timestamp" = E'1279013872265', "ending_at" = '2010-07-13 10:26:08.887965', "location_accuracy" = 500.0, "version_sdk" = E'4.0', "pairing_mode" = 1, "local_ip" = E'error', "uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 497[0m
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 497) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:24:01:bd:2e:d9',E'00:24:6c:bf:31:60',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:00',E'00:14:6c:e5:9d:11',E'00:0b:86:e6:b4:01',E'00:0b:86:d1:9d:41',E'00:08:9f:0d:cb:34',E'00:0e:e8:e4:68:cc',E'00:0b:86:d1:9d:40',E'00:0b:86:e8:86:c0',E'00:26:5a:f1:93:40',E'00:0b:86:ea:ad:c0',E'06:0e:dc:5a:6b:97')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:01.887870', timestamp '2010-07-13 10:26:08.887965')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 497) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.917778 37.525819)', 4326), 0.0687182657689665) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.917778 37.525819)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 500.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:01.887870', timestamp '2010-07-13 10:26:08.887965')))) [0m
  [4;35;1mEventGroup Load (0.3ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(126.917778 37.525819)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-13 10:26:02.032070', "event_group_id" = 291 WHERE "id" = 497[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba
Completed in 256ms (DB: 19) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:02) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 7) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:03) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 291)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 291)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 291) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 104ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:03) [GET]
  Parameters: {"id"=>"ea088db07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'ea088db07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 290) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 290) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 494) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 495) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 6) | 200 OK [http://localhost/events/ea088db07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:04) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 291)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 291)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.9ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 291) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:06) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 291)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 291)) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 291)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 291)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 291)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 291) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 291)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 291)) [0m
  [4;35;1mEvent Update (2.3ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 112ms (View: 1, DB: 8) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:08) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 6) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:10) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:13) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:15) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:16) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 99ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:19) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:21) [GET]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:27) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:27) [GET]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 7) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:28) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:30) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:31) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:33) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 96ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:35) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:36) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:38) [GET]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:39) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (5.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 7) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:40) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:42) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:43) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:45) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:26:45) [POST]
  Parameters: {"event"=>{"bssids"=>"", "device"=>"dream", "model"=>"T-Mobile G1", "brand"=>"tmeu", "latitude"=>"47.242855", "timestamp"=>"1279014040615", "network_type"=>"EDGE", "network_operator"=>"T-Mobile Austria", "client_uuid"=>"1b2cece1-2938-498f-82a3-00dafbc24f98", "location_accuracy"=>"5000.0", "hoccability"=>"0", "type"=>"SweepOut", "manufacturer"=>"HTC", "longitude"=>"11.399653", "local_ip"=>"10.106.7.111", "version_sdk"=>"4"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.399653 47.242855)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:26:52.515887', E'T-Mobile G1', E'tmeu', E'dream', 47.242855, '2010-07-13 10:26:45.516002', NULL, E'EDGE', E'1279014040615', E'0f8b92607097012d8d7e001f5bf1b5ba', '2010-07-13 10:26:45.516002', E'T-Mobile Austria', E'1b2cece1-2938-498f-82a3-00dafbc24f98', E'0101000020E6100000207F69519FCC2640C55565DF159F4740', 5000.0, E'0', E'SweepOut', NULL, E'HTC', 11.399653, NULL, '2010-07-13 10:26:45.515803', E'10.106.7.111', 2, E'waiting', E'4') RETURNING "id"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:26:45.529574', 498, NULL, E'0f8d33a07097012d8d7e001f5bf1b5ba', '2010-07-13 10:26:45.529574', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:26:45.547408', '2010-07-13 10:26:45.547408', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.399653 47.242855)', 4326)[0m
  [4;35;1mSweepOut Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:26:45.515803', "updated_at" = '2010-07-13 10:26:45.552732', "created_at" = '2010-07-13 10:26:45.516002', "longitude" = 11.399653, "hoccability" = E'0', "client_uuid" = E'1b2cece1-2938-498f-82a3-00dafbc24f98', "device" = E'dream', "point" = E'0101000020E6100000207F69519FCC2640C55565DF159F4740', "network_operator" = E'T-Mobile Austria', "latitude" = 47.242855, "timestamp" = E'1279014040615', "ending_at" = '2010-07-13 10:26:52.515887', "manufacturer" = E'HTC', "event_group_id" = 292, "location_accuracy" = 5000.0, "version_sdk" = E'4', "local_ip" = E'10.106.7.111', "uuid" = E'0f8b92607097012d8d7e001f5bf1b5ba', "model" = E'T-Mobile G1', "brand" = E'tmeu', "api_version" = 2, "type" = E'SweepOut', "network_type" = E'EDGE' WHERE "id" = 498[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/0f8b92607097012d8d7e001f5bf1b5ba
Completed in 61ms (DB: 11) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:45) [GET]
  Parameters: {"id"=>"0f8b92607097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'0f8b92607097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 292) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 292) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 292)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 292)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 292) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 292) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 292) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 498) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/0f8b92607097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:46) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:48) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:48) [GET]
  Parameters: {"id"=>"0f8b92607097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0f8b92607097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 292) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 292) [0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 292)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 292)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 292) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 292) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 292) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 498) LIMIT 1[0m
Completed in 117ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/0f8b92607097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:49) [GET]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:50) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 6) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:52) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:53) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:53) [GET]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 6) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:26:55) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.263314", "location_accuracy"=>"939.0", "type"=>"SweepOut", "longitude"=>"11.354199"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:27:02.463048', NULL, NULL, NULL, 47.263314, '2010-07-13 10:26:55.463164', NULL, NULL, NULL, E'157963707097012d8d7e001f5bf1b5ba', '2010-07-13 10:26:55.463164', NULL, NULL, E'0101000020E6100000438D429259B526401B4AED45B4A14740', 939.0, NULL, E'SweepOut', NULL, NULL, 11.354199, NULL, '2010-07-13 10:26:55.462965', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 10:26:55.476294', 499, NULL, E'157af5f07097012d8d7e001f5bf1b5ba', '2010-07-13 10:26:55.476294', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 499) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 499) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 499) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:55.462965', timestamp '2010-07-13 10:27:02.463048')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 499) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:55.462965', timestamp '2010-07-13 10:27:02.463048')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:26:55.492770', '2010-07-13 10:26:55.492770', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.354199 47.263314)', 4326)[0m
  [4;35;1mSweepOut Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:26:55.462965', "updated_at" = '2010-07-13 10:26:55.497978', "created_at" = '2010-07-13 10:26:55.463164', "longitude" = 11.354199, "point" = E'0101000020E6100000438D429259B526401B4AED45B4A14740', "latitude" = 47.263314, "ending_at" = '2010-07-13 10:27:02.463048', "event_group_id" = 293, "location_accuracy" = 939.0, "uuid" = E'157963707097012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepOut' WHERE "id" = 499[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/157963707097012d8d7e001f5bf1b5ba
Completed in 58ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:55) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 499) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 499) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 499) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:55.462965', timestamp '2010-07-13 10:27:02.463048')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 499) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326), 0.080307386675354) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.354199 47.263314)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 939.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:55.462965', timestamp '2010-07-13 10:27:02.463048')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 115ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:55) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:55) [GET]
  Parameters: {"id"=>"0f8b92607097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'0f8b92607097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 292) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 292) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 498) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 498) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326), 0.0802763678875347) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.399653 47.242855)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 5000.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:45.515803', timestamp '2010-07-13 10:26:52.515887')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 292)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 292)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 292) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 292) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 292)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 292)) [0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 292) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 498) LIMIT 1[0m
Completed in 52ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/0f8b92607097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#index (for 127.0.0.1 at 2010-07-13 12:26:55) [DELETE]
Rendering events/index
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://localhost/events]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:26:56) [POST]
  Parameters: {"event"=>{"bssids"=>"", "latitude"=>"47.2655905", "location_accuracy"=>"914.0", "type"=>"SweepIn", "longitude"=>"11.3578395"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(11.3578395 47.2655905)', 4326)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:27:03.943616', NULL, NULL, NULL, 47.2655905, '2010-07-13 10:26:56.943733', NULL, NULL, NULL, E'165b4e307097012d8d7e001f5bf1b5ba', '2010-07-13 10:26:56.943733', NULL, NULL, E'0101000020E61000001A6F2BBD36B726406CD097DEFEA14740', 914.0, NULL, E'SweepIn', NULL, NULL, 11.3578395, NULL, '2010-07-13 10:26:56.943535', NULL, 2, E'waiting', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 500) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 500) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 500) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.3578395 47.2655905)', 4326), 0.0803108402922366) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.3578395 47.2655905)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 914.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:56.943535', timestamp '2010-07-13 10:27:03.943616')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.3578395 47.2655905)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:26:56.943535', "updated_at" = '2010-07-13 10:26:56.959129', "created_at" = '2010-07-13 10:26:56.943733', "longitude" = 11.3578395, "point" = E'0101000020E61000001A6F2BBD36B726406CD097DEFEA14740', "latitude" = 47.2655905, "ending_at" = '2010-07-13 10:27:03.943616', "location_accuracy" = 914.0, "pairing_mode" = 1, "uuid" = E'165b4e307097012d8d7e001f5bf1b5ba', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 500[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 500) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(11.3578395 47.2655905)', 4326), 0.0803108402922366) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(11.3578395 47.2655905)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 914.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:26:56.943535', timestamp '2010-07-13 10:27:03.943616')))) [0m
  [4;36;1mEventGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(11.3578395 47.2655905)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-13 10:26:56.969414', "event_group_id" = 293 WHERE "id" = 500[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba
Completed in 49ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:56) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (27.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.1ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 64ms (View: 1, DB: 32) | 202 Accepted [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:57) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:57) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:58) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:58) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:26:59) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (2.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 7) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:00) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (22.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 139ms (View: 1, DB: 29) | 202 Accepted [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:00) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 59ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:00) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:01) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 114ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:01) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (5.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 293) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:03) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 36ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:03) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 293) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 293)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 293)) [0m
  [4;36;1mEvent Update (2.4ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 8) | 200 OK [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:04) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (1.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 6) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:04) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 106ms (View: 1, DB: 6) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:04) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:05) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:06) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:06) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (1.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 6) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:07) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 36ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:07) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:07) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (1.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 140ms (View: 1, DB: 6) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:09) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 96ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:09) [GET]
  Parameters: {"id"=>"157963707097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'157963707097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (1.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 7) | 200 OK [http://localhost/events/157963707097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:10) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 12:27:10) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-vi9jyp-0>}, "id"=>"157af5f07097012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'157af5f07097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 10:27:10.401676', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 10:27:10.399178', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 294[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/294/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/294/processed/file1.png
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 133ms (View: 96, DB: 3) | 200 OK [http://localhost/uploads/157af5f07097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:10) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-13 12:27:11) [GET]
  Parameters: {"id"=>"5418fe307090012d3c6d00176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'5418fe307090012d3c6d00176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/5418fe307090012d3c6d00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:11) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:12) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 101ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:13) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:14) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:15) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:27:17) [POST]
  Parameters: {"event"=>{"bssids"=>"", "device"=>"dream", "model"=>"T-Mobile G1", "brand"=>"tmeu", "latitude"=>"48.22203040122986", "timestamp"=>"1279014048689", "network_type"=>"EDGE", "network_operator"=>"T-Mobile Austria", "client_uuid"=>"2cb71aaf-4be1-401f-bfa0-63724bb06be5", "location_accuracy"=>"0.0", "hoccability"=>"2", "type"=>"SweepIn", "manufacturer"=>"HTC", "longitude"=>"16.397427320480347", "local_ip"=>"10.106.24.103", "version_sdk"=>"4"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:27:24.110044', E'T-Mobile G1', E'tmeu', E'dream', 48.2220304012299, '2010-07-13 10:27:17.110158', NULL, E'EDGE', E'1279014048689', E'226075107097012d8d7e001f5bf1b5ba', '2010-07-13 10:27:17.110158', E'T-Mobile Austria', E'2cb71aaf-4be1-401f-bfa0-63724bb06be5', E'0101000020E6100000F3FFFFCBBD6530400600007E6B1C4840', 0.0, E'2', E'SweepIn', NULL, E'HTC', 16.3974273204803, NULL, '2010-07-13 10:27:17.109958', E'10.106.24.103', 2, E'waiting', E'4') RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168335) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168335) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:27:17.130806', '2010-07-13 10:27:17.130806', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:27:17.109958', "updated_at" = '2010-07-13 10:27:17.135749', "created_at" = '2010-07-13 10:27:17.110158', "longitude" = 16.3974273204803, "hoccability" = E'2', "client_uuid" = E'2cb71aaf-4be1-401f-bfa0-63724bb06be5', "device" = E'dream', "point" = E'0101000020E6100000F3FFFFCBBD6530400600007E6B1C4840', "network_operator" = E'T-Mobile Austria', "latitude" = 48.2220304012299, "timestamp" = E'1279014048689', "ending_at" = '2010-07-13 10:27:24.110044', "manufacturer" = E'HTC', "event_group_id" = 294, "location_accuracy" = 0.0, "version_sdk" = E'4', "local_ip" = E'10.106.24.103', "uuid" = E'226075107097012d8d7e001f5bf1b5ba', "model" = E'T-Mobile G1', "brand" = E'tmeu', "api_version" = 2, "type" = E'SweepIn', "network_type" = E'EDGE' WHERE "id" = 501[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/226075107097012d8d7e001f5bf1b5ba
Completed in 49ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:17) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 105ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:17) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:17) [GET]
  Parameters: {"id"=>"226075107097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'226075107097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 294) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 294) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 294)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 294)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 294) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 501) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/226075107097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:18) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:18) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mUpload Load (1.4ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 6) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:18) [GET]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
Completed in 98ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:19) [GET]
  Parameters: {"id"=>"226075107097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'226075107097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 294) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 294) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 294)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 294)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 294) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 501) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/226075107097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:20) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:20) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 109ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:20) [GET]
  Parameters: {"id"=>"226075107097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'226075107097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 294) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 294) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 294)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 294)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 294) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 501) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/226075107097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:22) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 98ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:22) [GET]
  Parameters: {"id"=>"165b4e307097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'165b4e307097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 293) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 293) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 499) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 500) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 5) | 200 OK [http://localhost/events/165b4e307097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:23) [GET]
  Parameters: {"id"=>"226075107097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'226075107097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 294) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 294) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 294)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 294)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 294) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 501) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/226075107097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:24) [GET]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-13 12:27:24) [DELETE]
  Parameters: {"id"=>"f58a7a107096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f58a7a107096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(126.917778 37.525819)', 4326)[0m
  [4;35;1mSweepIn Update (1.2ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-13 10:27:24.491829', "state" = E'canceled' WHERE "id" = 497[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Completed in 31ms (View: 1, DB: 8) | 200 OK [http://localhost/events/f58a7a107096012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:24) [GET]
  Parameters: {"id"=>"226075107097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'226075107097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 294) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 294) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 294)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 294)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 294)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 294) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 294)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 294)) [0m
  [4;36;1mEvent Update (1.5ms)[0m   [0;1mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 294) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 501) LIMIT 1[0m
Completed in 52ms (View: 1, DB: 12) | 410 Gone [http://localhost/events/226075107097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:26) [GET]
  Parameters: {"id"=>"226075107097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'226075107097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 294) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 294) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 501) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 501) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326), 0.0818001561168336) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(16.3974273204803 48.2220304012299)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:17.109958', timestamp '2010-07-13 10:27:24.110044')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 501) LIMIT 1[0m
Completed in 104ms (View: 1, DB: 9) | 410 Gone [http://localhost/events/226075107097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:27) [GET]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (6.9ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 291) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 291) [0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 497) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 496) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 9) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:27:30) [POST]
  Parameters: {"event"=>{"bssids"=>"0:b:86:ea:a8:40,0:8:9f:a9:68:d0,a:e:dc:5a:6b:97,8:10:75:a:f9:70,0:b:86:d1:9d:40,0:8:9f:7c:be:9,0:b:86:d1:9c:e1,a:e:dc:2d:28:af,0:8:9f:d:cb:34,0:b:86:e8:86:c0,0:14:6c:e5:9d:11,0:b:86:d1:9c:e0,6:e:dc:5a:6b:97,0:b:86:e8:86:c1,0:25:62:f9:4d:4d,0:8:9f:d3:b0:70,0:8:9f:a:b1:10,0:13:46:f1:16:6b,0:e:e8:e4:68:cc,0:b:86:e6:b4:0,0:b:86:e6:b4:1,c8:3a:35:21:4c:a8,78:28:6:e:b1:d4,0:24:6c:bf:31:60,0:26:5a:f1:93:40,0:24:6c:bf:31:61,0:25:a6:a0:50:98,0:24:1:bd:2e:d9,ec:fe:58:fe:70:76", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"37.525927", "timestamp"=>"1279013955874", "client_uuid"=>"e17c6379b334ef50f1449cc3d7cc5187f7a2374d", "location_accuracy"=>"94.730706", "hoccability"=>"3", "type"=>"SweepIn", "longitude"=>"126.916751", "local_ip"=>"error", "version_sdk"=>"4.0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(126.916751 37.525927)', 4326)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:27:37.896578', E'iPhone', NULL, E'iPhone OS', 37.525927, '2010-07-13 10:27:30.896705', NULL, NULL, E'1279013955874', E'2a981c407097012d8d7e001f5bf1b5ba', '2010-07-13 10:27:30.896705', NULL, E'e17c6379b334ef50f1449cc3d7cc5187f7a2374d', E'0101000020E6100000D2E4620CACBA5F40AD8A709351C34240', 94.730706, E'3', E'SweepIn', NULL, NULL, 126.916751, NULL, '2010-07-13 10:27:30.896478', E'error', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.904144', 502, '2010-07-13 10:27:30.904144', E'00:0b:86:ea:a8:40', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.907740', 502, '2010-07-13 10:27:30.907740', E'00:08:9f:a9:68:d0', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.908734', 502, '2010-07-13 10:27:30.908734', E'0a:0e:dc:5a:6b:97', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.909762', 502, '2010-07-13 10:27:30.909762', E'08:10:75:0a:f9:70', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.910741', 502, '2010-07-13 10:27:30.910741', E'00:0b:86:d1:9d:40', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.911733', 502, '2010-07-13 10:27:30.911733', E'00:08:9f:7c:be:09', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.912703', 502, '2010-07-13 10:27:30.912703', E'00:0b:86:d1:9c:e1', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.913795', 502, '2010-07-13 10:27:30.913795', E'0a:0e:dc:2d:28:af', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.914760', 502, '2010-07-13 10:27:30.914760', E'00:08:9f:0d:cb:34', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.915743', 502, '2010-07-13 10:27:30.915743', E'00:0b:86:e8:86:c0', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.916719', 502, '2010-07-13 10:27:30.916719', E'00:14:6c:e5:9d:11', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.917688', 502, '2010-07-13 10:27:30.917688', E'00:0b:86:d1:9c:e0', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.918661', 502, '2010-07-13 10:27:30.918661', E'06:0e:dc:5a:6b:97', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.919639', 502, '2010-07-13 10:27:30.919639', E'00:0b:86:e8:86:c1', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.920613', 502, '2010-07-13 10:27:30.920613', E'00:25:62:f9:4d:4d', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.921649', 502, '2010-07-13 10:27:30.921649', E'00:08:9f:d3:b0:70', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.922652', 502, '2010-07-13 10:27:30.922652', E'00:08:9f:0a:b1:10', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.924018', 502, '2010-07-13 10:27:30.924018', E'00:13:46:f1:16:6b', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.924998', 502, '2010-07-13 10:27:30.924998', E'00:0e:e8:e4:68:cc', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.925957', 502, '2010-07-13 10:27:30.925957', E'00:0b:86:e6:b4:00', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.926932', 502, '2010-07-13 10:27:30.926932', E'00:0b:86:e6:b4:01', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.927922', 502, '2010-07-13 10:27:30.927922', E'c8:3a:35:21:4c:a8', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.928889', 502, '2010-07-13 10:27:30.928889', E'78:28:06:0e:b1:d4', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.930110', 502, '2010-07-13 10:27:30.930110', E'00:24:6c:bf:31:60', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.931108', 502, '2010-07-13 10:27:30.931108', E'00:26:5a:f1:93:40', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.932095', 502, '2010-07-13 10:27:30.932095', E'00:24:6c:bf:31:61', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.933074', 502, '2010-07-13 10:27:30.933074', E'00:25:a6:a0:50:98', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.934059', 502, '2010-07-13 10:27:30.934059', E'00:24:01:bd:2e:d9', NULL) RETURNING "id"[0m
  [4;35;1mSQL (28.4ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 10:27:30.935101', 502, '2010-07-13 10:27:30.935101', E'ec:fe:58:fe:70:76', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:27:30.999386', '2010-07-13 10:27:30.999386', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(126.916751 37.525927)', 4326)[0m
  [4;36;1mSweepIn Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 10:27:30.896478', "updated_at" = '2010-07-13 10:27:31.078522', "created_at" = '2010-07-13 10:27:30.896705', "longitude" = 126.916751, "hoccability" = E'3', "client_uuid" = E'e17c6379b334ef50f1449cc3d7cc5187f7a2374d', "device" = E'iPhone OS', "point" = E'0101000020E6100000D2E4620CACBA5F40AD8A709351C34240', "latitude" = 37.525927, "timestamp" = E'1279013955874', "ending_at" = '2010-07-13 10:27:37.896578', "event_group_id" = 295, "location_accuracy" = 94.730706, "version_sdk" = E'4.0', "local_ip" = E'error', "uuid" = E'2a981c407097012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 502[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/2a981c407097012d8d7e001f5bf1b5ba
Completed in 306ms (DB: 46) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:32) [GET]
  Parameters: {"id"=>"2a981c407097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'2a981c407097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 295) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 295) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 295)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 295)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 295) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 502) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/2a981c407097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:33) [GET]
  Parameters: {"id"=>"2a981c407097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'2a981c407097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 295) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 295) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 295)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 295)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 295) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 502) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/2a981c407097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:35) [GET]
  Parameters: {"id"=>"2a981c407097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'2a981c407097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 295) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 295) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 295)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 295)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 295) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 502) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/2a981c407097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:36) [GET]
  Parameters: {"id"=>"2a981c407097012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'2a981c407097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 295) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 295) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 295)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 295)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 295) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 502) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/2a981c407097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:38) [GET]
  Parameters: {"id"=>"2a981c407097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'2a981c407097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 295) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 295) [0m
  [4;35;1mAccessPointSighting Load (0.9ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 295)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 295)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 295)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 295) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepOut') AND ("events".event_group_id = 295)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'SweepIn') AND ("events".event_group_id = 295)) [0m
  [4;35;1mEvent Update (75.7ms)[0m   [0mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 295) [0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 502) LIMIT 1[0m
Completed in 850ms (View: 1, DB: 88) | 410 Gone [http://localhost/events/2a981c407097012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#destroy (for 127.0.0.1 at 2010-07-13 12:27:39) [DELETE]
  Parameters: {"id"=>"f3920bc07096012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (5.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3920bc07096012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(126.916558 37.525929)', 4326)[0m
  [4;36;1mSweepOut Update (1.2ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-07-13 10:27:39.470322', "state" = E'canceled' WHERE "id" = 496[0m
  [4;35;1mSQL (215.3ms)[0m   [0mCOMMIT[0m
Completed in 248ms (View: 1, DB: 222) | 200 OK [http://localhost/events/f3920bc07096012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 12:27:40) [GET]
  Parameters: {"id"=>"2a981c407097012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'2a981c407097012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 295) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 295) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 502) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((access_point_sightings.bssid IN (E'ec:fe:58:fe:70:76',E'00:24:01:bd:2e:d9',E'00:25:a6:a0:50:98',E'00:24:6c:bf:31:61',E'00:26:5a:f1:93:40',E'00:24:6c:bf:31:60',E'78:28:06:0e:b1:d4',E'c8:3a:35:21:4c:a8',E'00:0b:86:e6:b4:01',E'00:0b:86:e6:b4:00',E'00:0e:e8:e4:68:cc',E'00:13:46:f1:16:6b',E'00:08:9f:0a:b1:10',E'00:08:9f:d3:b0:70',E'00:25:62:f9:4d:4d',E'00:0b:86:e8:86:c1',E'06:0e:dc:5a:6b:97',E'00:0b:86:d1:9c:e0',E'00:14:6c:e5:9d:11',E'00:0b:86:e8:86:c0',E'00:08:9f:0d:cb:34',E'0a:0e:dc:2d:28:af',E'00:0b:86:d1:9c:e1',E'00:08:9f:7c:be:09',E'00:0b:86:d1:9d:40',E'08:10:75:0a:f9:70',E'0a:0e:dc:5a:6b:97',E'00:08:9f:a9:68:d0',E'00:0b:86:ea:a8:40')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 502) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:30.896478', timestamp '2010-07-13 10:27:37.896578')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 502) LIMIT 1[0m
Completed in 46ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/2a981c407097012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 12:27:48) [POST]
  Parameters: {"event"=>{"model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"37.525927", "timestamp"=>"1279013971824", "client_uuid"=>"e17c6379b334ef50f1449cc3d7cc5187f7a2374d", "location_accuracy"=>"94.730706", "hoccability"=>"2", "type"=>"SweepIn", "longitude"=>"126.916751", "local_ip"=>"error", "version_sdk"=>"4.0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(126.916751 37.525927)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 10:27:55.885314', E'iPhone', NULL, E'iPhone OS', 37.525927, '2010-07-13 10:27:48.885429', NULL, NULL, E'1279013971824', E'3550fa607097012d8d7e001f5bf1b5ba', '2010-07-13 10:27:48.885429', NULL, E'e17c6379b334ef50f1449cc3d7cc5187f7a2374d', E'0101000020E6100000D2E4620CACBA5F40AD8A709351C34240', 94.730706, E'2', E'SweepIn', NULL, NULL, 126.916751, NULL, '2010-07-13 10:27:48.885227', E'error', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 503) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 503) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 503) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:48.885227', timestamp '2010-07-13 10:27:55.885314')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 503) AND ("events"."type" IN (E'SweepOut',E'SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326), 0.068718365254542) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(126.916751 37.525927)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 94.730706))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 10:27:48.885227', timestamp '2010-07-13 10:27:55.885314')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 10:27:48.906310', '2010-07-13 10:27:48.906310', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(126.916751 37.525927)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 10:27:48.885227', "updated_at" = '2010-07-13 10:27:48.911485', "created_at" = '2010-07-13 10:27:48.885429', "longitude" = 126.916751, "hoccability" = E'2', "client_uuid" = E'e17c6379b334ef50f1449cc3d7cc5187f7a2374d', "device" = E'iPhone OS', "point" = E'0101000020E6100000D2E4620CACBA5F40AD8A709351C34240', "latitude" = 37.525927, "timestamp" = E'1279013971824', "ending_at" = '2010-07-13 10:27:55.885314', "event_group_id" = 296, "location_accuracy" = 94.730706, "version_sdk" = E'4.0', "local_ip" = E'error', "uuid" = E'3550fa607097012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'SweepIn' WHERE "id" = 503[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/3550fa607097012d8d7e001f5bf1b5ba
Completed in 51ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 12:34:11) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 13:03:54) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:11:23) [POST]
  Parameters: {"event"=>{"bssids"=>"00:1a:2a:ca:7b:62,00:24:fe:a3:53:35,00:1c:28:15:2a:a2", "model"=>"HTC Hero", "device"=>"hero", "brand"=>"htc_wwe", "latitude"=>"50.6884345", "timestamp"=>"1279012832182", "network_type"=>"EDGE", "network_operator"=>"o2 - de", "client_uuid"=>"b294a372-c4e9-43d5-abcd-25ee4cdcf880", "location_accuracy"=>"253.0", "hoccability"=>"2", "manufacturer"=>"HTC", "type"=>"Throw", "longitude"=>"10.91779485", "local_ip"=>"10.160.198.234", "version_sdk"=>"7"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (256.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)[0m
  [4;35;1mSQL (40.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:11:31.099044', E'HTC Hero', E'htc_wwe', E'hero', 50.6884345, '2010-07-13 11:11:24.099285', NULL, E'EDGE', E'1279012832182', E'4c1ae3d0709d012d8d7e001f5bf1b5ba', '2010-07-13 11:11:24.099285', E'o2 - de', E'b294a372-c4e9-43d5-abcd-25ee4cdcf880', E'0101000020E6100000DC5FE234E9D525401478279F1E584940', 253.0, E'2', E'Throw', NULL, E'HTC', 10.91779485, NULL, '2010-07-13 11:11:24.098879', E'10.160.198.234', 2, E'waiting', E'7') RETURNING "id"[0m
  [4;36;1mSQL (47.8ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:11:24.179283', 504, '2010-07-13 11:11:24.179283', E'00:1a:2a:ca:7b:62', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:11:24.233990', 504, '2010-07-13 11:11:24.233990', E'00:24:fe:a3:53:35', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:11:24.237112', 504, '2010-07-13 11:11:24.237112', E'00:1c:28:15:2a:a2', NULL) RETURNING "id"[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 11:11:24.250920', 504, NULL, E'4c315f80709d012d8d7e001f5bf1b5ba', '2010-07-13 11:11:24.250920', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mEvent Load (1.0ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mSQL (16.6ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 11:11:24.273105', '2010-07-13 11:11:24.273105', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 11:11:24.098879', "updated_at" = '2010-07-13 11:11:24.296042', "created_at" = '2010-07-13 11:11:24.099285', "longitude" = 10.91779485, "hoccability" = E'2', "client_uuid" = E'b294a372-c4e9-43d5-abcd-25ee4cdcf880', "device" = E'hero', "point" = E'0101000020E6100000DC5FE234E9D525401478279F1E584940', "network_operator" = E'o2 - de', "latitude" = 50.6884345, "timestamp" = E'1279012832182', "ending_at" = '2010-07-13 11:11:31.099044', "manufacturer" = E'HTC', "event_group_id" = 297, "location_accuracy" = 253.0, "version_sdk" = E'7', "local_ip" = E'10.160.198.234', "uuid" = E'4c1ae3d0709d012d8d7e001f5bf1b5ba', "model" = E'HTC Hero', "brand" = E'htc_wwe', "api_version" = 2, "type" = E'Throw', "network_type" = E'EDGE' WHERE "id" = 504[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/4c1ae3d0709d012d8d7e001f5bf1b5ba
Completed in 619ms (DB: 374) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:11:24) [GET]
  Parameters: {"id"=>"4c1ae3d0709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'4c1ae3d0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (21.2ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 297) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 297) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 297)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.1ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 297) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (47.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 504) LIMIT 1[0m
Completed in 169ms (View: 42, DB: 80) | 202 Accepted [http://localhost/events/4c1ae3d0709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:11:27) [GET]
  Parameters: {"id"=>"4c1ae3d0709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'4c1ae3d0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 297) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 297) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 297)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 297) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 504) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/4c1ae3d0709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:11:30) [GET]
  Parameters: {"id"=>"4c1ae3d0709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'4c1ae3d0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 297) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 297) [0m
  [4;35;1mAccessPointSighting Load (0.8ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 297)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (187.6ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 297) [0m
  [4;36;1mEvent Load (4.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (13.1ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 504) LIMIT 1[0m
Completed in 272ms (View: 1, DB: 216) | 202 Accepted [http://localhost/events/4c1ae3d0709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:11:35) [GET]
  Parameters: {"id"=>"4c1ae3d0709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'4c1ae3d0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 297) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 297) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 504) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 504) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:11:24.098879', timestamp '2010-07-13 11:11:31.099044')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 297)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 297) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 297)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 297)) [0m
  [4;36;1mEvent Update (35.4ms)[0m   [0;1mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 297) [0m
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 504) LIMIT 1[0m
Completed in 96ms (View: 1, DB: 46) | 410 Gone [http://localhost/events/4c1ae3d0709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 13:11:40) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1o59eoc-0>}, "id"=>"4c315f80709d012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'4c315f80709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 11:11:40.347668', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 11:11:40.345622', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 295[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/295/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/295/processed/file1.png
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 86ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/4c315f80709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:12:04) [POST]
  Parameters: {"event"=>{"bssids"=>"6:f:b5:92:f4:39,0:21:29:1:5d:30", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183430", "timestamp"=>"1279012893368", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"250.000000", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700378", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:12:11.483192', E'iPhone', NULL, E'iPhone OS', 48.18343, '2010-07-13 11:12:04.483306', NULL, NULL, E'1279012893368', E'642d0e20709d012d8d7e001f5bf1b5ba', '2010-07-13 11:12:04.483306', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', 250.0, E'2', E'Throw', NULL, NULL, 13.700378, NULL, '2010-07-13 11:12:04.483109', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:12:04.491316', 505, '2010-07-13 11:12:04.491316', E'06:0f:b5:92:f4:39', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:12:04.494972', 505, '2010-07-13 11:12:04.494972', E'00:21:29:01:5d:30', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 11:12:04.593537', 505, NULL, E'643d4a10709d012d8d7e001f5bf1b5ba', '2010-07-13 11:12:04.593537', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 11:12:04.612617', '2010-07-13 11:12:04.612617', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;36;1mThrow Update (0.6ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 11:12:04.483109', "updated_at" = '2010-07-13 11:12:04.620029', "created_at" = '2010-07-13 11:12:04.483306', "longitude" = 13.700378, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', "latitude" = 48.18343, "timestamp" = E'1279012893368', "ending_at" = '2010-07-13 11:12:11.483192', "event_group_id" = 298, "location_accuracy" = 250.0, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 505[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba
Completed in 170ms (DB: 13) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:04) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mAccessPointSighting Load (1.1ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 298) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (1.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 63ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:06) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 121ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:07) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:08) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 298) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 117ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:10) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 505) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 505) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:04.483109', timestamp '2010-07-13 11:12:11.483192')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:12:11) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"HTC Desire", "device"=>"bravo", "brand"=>"htc_wwe", "latitude"=>"48.18352460861206", "timestamp"=>"1279012843633", "network_type"=>"GPRS", "network_operator"=>"Orange A", "client_uuid"=>"60e467e4-09e6-4e14-bf6d-7051f03ad2f8", "location_accuracy"=>"16.0", "hoccability"=>"2", "manufacturer"=>"HTC", "type"=>"Catch", "longitude"=>"13.7004554271698", "local_ip"=>"10.102.16.107", "version_sdk"=>"7"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)[0m
  [4;36;1mSQL (28.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:12:18.218696', E'HTC Desire', E'htc_wwe', E'bravo', 48.1835246086121, '2010-07-13 11:12:11.218873', NULL, E'GPRS', E'1279012843633', E'6830cff0709d012d8d7e001f5bf1b5ba', '2010-07-13 11:12:11.218873', E'Orange A', E'60e467e4-09e6-4e14-bf6d-7051f03ad2f8', E'0101000020E610000000000018A2662B40060000BC7D174840', 16.0, E'2', E'Catch', NULL, E'HTC', 13.7004554271698, NULL, '2010-07-13 11:12:11.218608', E'10.102.16.107', 2, E'waiting', E'7') RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.8ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 506) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 506) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 506) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326), 0.0817386881135877) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 16.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:11.218608', timestamp '2010-07-13 11:12:18.218696')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)[0m
  [4;35;1mCatch Update (0.4ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 11:12:11.218608', "updated_at" = '2010-07-13 11:12:11.330787', "created_at" = '2010-07-13 11:12:11.218873', "longitude" = 13.7004554271698, "hoccability" = E'2', "client_uuid" = E'60e467e4-09e6-4e14-bf6d-7051f03ad2f8', "device" = E'bravo', "point" = E'0101000020E610000000000018A2662B40060000BC7D174840', "network_operator" = E'Orange A', "latitude" = 48.1835246086121, "timestamp" = E'1279012843633', "ending_at" = '2010-07-13 11:12:18.218696', "manufacturer" = E'HTC', "location_accuracy" = 16.0, "version_sdk" = E'7', "pairing_mode" = 1, "local_ip" = E'10.102.16.107', "uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba', "model" = E'HTC Desire', "brand" = E'htc_wwe', "api_version" = 2, "type" = E'Catch', "network_type" = E'GPRS' WHERE "id" = 506[0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 506) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326), 0.0817386881135877) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 16.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:12:11.218608', timestamp '2010-07-13 11:12:18.218696')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.7004554271698 48.1835246086121)', 4326)[0m
  [4;35;1mCatch Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-07-13 11:12:11.342000', "event_group_id" = 298 WHERE "id" = 506[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba
Completed in 146ms (DB: 37) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:11) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.2ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 298) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:12) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 298)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 298) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 298)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 298)) [0m
  [4;36;1mEvent Update (2.3ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 298) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 9) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:13) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:14) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:14) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 106ms (View: 1, DB: 7) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:15) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 5) | 200 OK [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 13:12:16) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-afqlr6-0>}, "id"=>"643d4a10709d012d8d7e001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'643d4a10709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-07-13 11:12:16.935425', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 11:12:16.933588', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 296[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/296/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/296/processed/file1.png
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/uploads/643d4a10709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:16) [GET]
  Parameters: {"id"=>"642d0e20709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'642d0e20709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;36;1mUpload Load (0.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
Completed in 139ms (View: 1, DB: 6) | 200 OK [http://localhost/events/642d0e20709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:17) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (6.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;36;1mUpload Load (0.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 8) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-07-13 13:12:19) [GET]
  Parameters: {"id"=>"e91395e0708d012d3c6b00176ed99fe3"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'e91395e0708d012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 10ms (View: 1, DB: 1) | 404 Not Found [http://localhost/uploads/e91395e0708d012d3c6b00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:20) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:30) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:34) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:39) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 98ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:42) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:46) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:48) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:51) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:54) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 6) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:12:58) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:00) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:02) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:05) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:08) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:11) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.8ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 107ms (View: 1, DB: 6) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:13) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 40ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:16) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:19) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 104ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:22) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:24) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:28) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:31) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:33) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:36) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:39) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:42) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:45) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:48) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:50) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 107ms (View: 1, DB: 6) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:53) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:13:56) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:00) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:02) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:05) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:08) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:11) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:14) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:16) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:19) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:21) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:24) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:27) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:31) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:34) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:36) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:39) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:41) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:44) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 105ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:47) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:50) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:53) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:56) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:14:59) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 99ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:02) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:05) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:08) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 103ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:10) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:13) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:16) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 102ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:19) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:21) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:24) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:27) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:15:30) [GET]
  Parameters: {"id"=>"6830cff0709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'6830cff0709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 298) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 298) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 505) LIMIT 1[0m
  [4;35;1mUpload Load (0.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 506) LIMIT 1[0m
Completed in 100ms (View: 1, DB: 5) | 200 OK [http://localhost/events/6830cff0709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:16:04) [POST]
  Parameters: {"event"=>{"model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183661", "timestamp"=>"1279013125253", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"162.957953", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700084", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:16:11.070851', E'iPhone', NULL, E'iPhone OS', 48.183661, '2010-07-13 11:16:04.070973', NULL, NULL, E'1279013125253', E'f2fb3b60709d012d8d7e001f5bf1b5ba', '2010-07-13 11:16:04.070973', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E6100000DEE7F86871662B407C46223482174840', 162.957953, E'2', E'Throw', NULL, NULL, 13.700084, NULL, '2010-07-13 11:16:04.070762', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 11:16:04.084892', 507, NULL, E'f2fce360709d012d8d7e001f5bf1b5ba', '2010-07-13 11:16:04.084892', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 507) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 507) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 507) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:04.070762', timestamp '2010-07-13 11:16:11.070851')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 507) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:04.070762', timestamp '2010-07-13 11:16:11.070851')))) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 11:16:04.103835', '2010-07-13 11:16:04.103835', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;35;1mThrow Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 11:16:04.070762', "updated_at" = '2010-07-13 11:16:04.110816', "created_at" = '2010-07-13 11:16:04.070973', "longitude" = 13.700084, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E6100000DEE7F86871662B407C46223482174840', "latitude" = 48.183661, "timestamp" = E'1279013125253', "ending_at" = '2010-07-13 11:16:11.070851', "event_group_id" = 299, "location_accuracy" = 162.957953, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'f2fb3b60709d012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 507[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/f2fb3b60709d012d8d7e001f5bf1b5ba
Completed in 65ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:04) [GET]
  Parameters: {"id"=>"f2fb3b60709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f2fb3b60709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 299) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 299) [0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 507) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 507) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 507) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:04.070762', timestamp '2010-07-13 11:16:11.070851')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 507) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:04.070762', timestamp '2010-07-13 11:16:11.070851')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 299)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 299) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (2.1ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 299) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 299) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 507) LIMIT 1[0m
Completed in 121ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/f2fb3b60709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:16:05) [POST]
  Parameters: {"event"=>{"bssids"=>"", "model"=>"iPad", "device"=>"iPhone OS", "latitude"=>"0.000000", "timestamp"=>"1279013018934", "client_uuid"=>"4c494be04f35201398b0274704222a854d9300e3", "location_accuracy"=>"0.000000", "hoccability"=>"1", "type"=>"Catch", "longitude"=>"0.000000", "local_ip"=>"10.1.2.184", "version_sdk"=>"3.2"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:16:12.305197', E'iPad', NULL, E'iPhone OS', 0.0, '2010-07-13 11:16:05.305314', NULL, NULL, E'1279013018934', E'f3b79430709d012d8d7e001f5bf1b5ba', '2010-07-13 11:16:05.305314', NULL, E'4c494be04f35201398b0274704222a854d9300e3', E'0101000020E610000000000000000000000000000000000000', 0.0, E'1', E'Catch', NULL, NULL, 0.0, NULL, '2010-07-13 11:16:05.305112', E'10.1.2.184', 2, E'waiting', E'3.2') RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 11:16:05.326109', '2010-07-13 11:16:05.326109', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(0.0 0.0)', 4326)[0m
  [4;36;1mCatch Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 11:16:05.305112', "updated_at" = '2010-07-13 11:16:05.331202', "created_at" = '2010-07-13 11:16:05.305314', "longitude" = 0.0, "hoccability" = E'1', "client_uuid" = E'4c494be04f35201398b0274704222a854d9300e3', "device" = E'iPhone OS', "point" = E'0101000020E610000000000000000000000000000000000000', "latitude" = 0.0, "timestamp" = E'1279013018934', "ending_at" = '2010-07-13 11:16:12.305197', "event_group_id" = 300, "location_accuracy" = 0.0, "version_sdk" = E'3.2', "local_ip" = E'10.1.2.184', "uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba', "model" = E'iPad', "api_version" = 2, "type" = E'Catch' WHERE "id" = 508[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba
Completed in 50ms (DB: 10) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:05) [GET]
  Parameters: {"id"=>"f3b79430709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.5ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 300) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 300) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 300) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 508) LIMIT 1[0m
Completed in 54ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:05) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;36;1mEvent Load (1.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:06) [GET]
  Parameters: {"id"=>"f3b79430709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 300) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 300) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 300) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 508) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:07) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:08) [GET]
  Parameters: {"id"=>"f3b79430709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 300) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 300) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 300) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 508) LIMIT 1[0m
Completed in 108ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:08) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;36;1mEvent Load (2.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 17ms (View: 1, DB: 3) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:09) [GET]
  Parameters: {"id"=>"f3b79430709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 300) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 300) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 300) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 508) LIMIT 1[0m
Completed in 47ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:09) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 86ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:11) [GET]
  Parameters: {"id"=>"f3b79430709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 300) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 300) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 300) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 508) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:11) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;36;1mEvent Load (1.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 2) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 13:16:12) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1f1lc96-0>}, "id"=>"f2fce360709d012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'f2fce360709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 11:16:12.148626', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 11:16:12.146794', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 297[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/297/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/297/processed/file1.png
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/f2fce360709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:12) [GET]
  Parameters: {"id"=>"f3b79430709d012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 300) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 300) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 300) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 300)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 300)) [0m
  [4;35;1mEvent Update (2.0ms)[0m   [0mUPDATE "events" SET state = 'no_seeders' WHERE (event_group_id = 300) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 508) LIMIT 1[0m
Completed in 50ms (View: 1, DB: 11) | 410 Gone [http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:13) [GET]
  Parameters: {"id"=>"733b72f0708e012d3c6b00176ed99fe3"}
  [4;35;1mEvent Load (1.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'733b72f0708e012d3c6b00176ed99fe3') LIMIT 1[0m
Completed in 15ms (View: 1, DB: 1) | 404 Not Found [http://localhost/events/733b72f0708e012d3c6b00176ed99fe3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:13) [GET]
  Parameters: {"id"=>"f3b79430709d012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'f3b79430709d012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 300) [0m
  [4;36;1mEvent Load (2.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 300) [0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 508) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 508) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(0.0 0.0)', 4326), 0.0544990090779165) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(0.0 0.0)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 0.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:05.305112', timestamp '2010-07-13 11:16:12.305197')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 508) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 12) | 410 Gone [http://localhost/events/f3b79430709d012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:16:37) [POST]
  Parameters: {"event"=>{"model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183661", "timestamp"=>"1279013157425", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"162.957953", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700084", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:16:44.956568', E'iPhone', NULL, E'iPhone OS', 48.183661, '2010-07-13 11:16:37.956684', NULL, NULL, E'1279013157425', E'072dc820709e012d8d7e001f5bf1b5ba', '2010-07-13 11:16:37.956684', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E6100000DEE7F86871662B407C46223482174840', 162.957953, E'2', E'Throw', NULL, NULL, 13.700084, NULL, '2010-07-13 11:16:37.956475', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 11:16:37.970715', 509, NULL, E'072f7820709e012d8d7e001f5bf1b5ba', '2010-07-13 11:16:37.970715', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 11:16:37.988478', '2010-07-13 11:16:37.988478', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.700084 48.183661)', 4326)[0m
  [4;36;1mThrow Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-07-13 11:16:37.956475', "updated_at" = '2010-07-13 11:16:37.993869', "created_at" = '2010-07-13 11:16:37.956684', "longitude" = 13.700084, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E6100000DEE7F86871662B407C46223482174840', "latitude" = 48.183661, "timestamp" = E'1279013157425', "ending_at" = '2010-07-13 11:16:44.956568', "event_group_id" = 301, "location_accuracy" = 162.957953, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'072dc820709e012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 509[0m
  [4;35;1mSQL (55.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/072dc820709e012d8d7e001f5bf1b5ba
Completed in 358ms (DB: 65) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:38) [GET]
  Parameters: {"id"=>"072dc820709e012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (4.5ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'072dc820709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 301) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 301) [0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 301)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (150.5ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 301) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 509) LIMIT 1[0m
Completed in 272ms (View: 62, DB: 162) | 202 Accepted [http://localhost/events/072dc820709e012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:39) [GET]
  Parameters: {"id"=>"072dc820709e012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'072dc820709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 301) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 301) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;36;1mEvent Load (1.2ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 301)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 301) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 509) LIMIT 1[0m
Completed in 57ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/072dc820709e012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:41) [GET]
  Parameters: {"id"=>"072dc820709e012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'072dc820709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 301) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 301) [0m
  [4;35;1mAccessPointSighting Load (0.4ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 301)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 301) [0m
  [4;36;1mEvent Load (0.2ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 509) LIMIT 1[0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/072dc820709e012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:16:42) [GET]
  Parameters: {"id"=>"072dc820709e012d8d7e001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = E'072dc820709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.6ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 301) [0m
  [4;36;1mEvent Load (3.6ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 301) [0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 509) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 509) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326), 0.0817389056112693) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700084 48.183661)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 162.957953))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:16:37.956475', timestamp '2010-07-13 11:16:44.956568')))) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 301)) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 301) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 301) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 509) LIMIT 1[0m
Completed in 131ms (View: 1, DB: 17) | 202 Accepted [http://localhost/events/072dc820709e012d8d7e001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:17:41) [POST]
  Parameters: {"event"=>{"bssids"=>"00:1a:2a:ca:7b:62,00:24:fe:a3:53:35,00:1c:28:15:2a:a2", "model"=>"HTC Hero", "device"=>"hero", "brand"=>"htc_wwe", "latitude"=>"50.6884345", "timestamp"=>"1279012832182", "network_type"=>"EDGE", "network_operator"=>"o2 - de", "client_uuid"=>"b294a372-c4e9-43d5-abcd-25ee4cdcf880", "location_accuracy"=>"253.0", "hoccability"=>"2", "manufacturer"=>"HTC", "type"=>"Throw", "longitude"=>"10.91779485", "local_ip"=>"10.160.198.234", "version_sdk"=>"7"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:17:48.261746', E'HTC Hero', E'htc_wwe', E'hero', 50.6884345, '2010-07-13 11:17:41.261863', NULL, E'EDGE', E'1279012832182', E'2ce962f0709e012d8d7e001f5bf1b5ba', '2010-07-13 11:17:41.261863', E'o2 - de', E'b294a372-c4e9-43d5-abcd-25ee4cdcf880', E'0101000020E6100000DC5FE234E9D525401478279F1E584940', 253.0, E'2', E'Throw', NULL, E'HTC', 10.91779485, NULL, '2010-07-13 11:17:41.261662', E'10.160.198.234', 2, E'waiting', E'7') RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:17:41.269394', 510, '2010-07-13 11:17:41.269394', E'00:1a:2a:ca:7b:62', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:17:41.273351', 510, '2010-07-13 11:17:41.273351', E'00:24:fe:a3:53:35', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:17:41.274411', 510, '2010-07-13 11:17:41.274411', E'00:1c:28:15:2a:a2', NULL) RETURNING "id"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 11:17:41.282557', 510, NULL, E'2cec1a40709e012d8d7e001f5bf1b5ba', '2010-07-13 11:17:41.282557', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261746')))) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261746')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261746')))) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261746')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 11:17:41.302630', '2010-07-13 11:17:41.302630', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)[0m
  [4;35;1mThrow Update (0.7ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 11:17:41.261662', "updated_at" = '2010-07-13 11:17:41.369086', "created_at" = '2010-07-13 11:17:41.261863', "longitude" = 10.91779485, "hoccability" = E'2', "client_uuid" = E'b294a372-c4e9-43d5-abcd-25ee4cdcf880', "device" = E'hero', "point" = E'0101000020E6100000DC5FE234E9D525401478279F1E584940', "network_operator" = E'o2 - de', "latitude" = 50.6884345, "timestamp" = E'1279012832182', "ending_at" = '2010-07-13 11:17:48.261746', "manufacturer" = E'HTC', "event_group_id" = 302, "location_accuracy" = 253.0, "version_sdk" = E'7', "local_ip" = E'10.160.198.234', "uuid" = E'2ce962f0709e012d8d7e001f5bf1b5ba', "model" = E'HTC Hero', "brand" = E'htc_wwe', "api_version" = 2, "type" = E'Throw', "network_type" = E'EDGE' WHERE "id" = 510[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/2ce962f0709e012d8d7e001f5bf1b5ba
Completed in 141ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:17:41) [GET]
  Parameters: {"id"=>"2ce962f0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'2ce962f0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 302) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 302) [0m
  [4;36;1mAccessPointSighting Load (1.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 302)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 302) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 510) LIMIT 1[0m
Completed in 63ms (View: 1, DB: 15) | 202 Accepted [http://localhost/events/2ce962f0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:17:44) [GET]
  Parameters: {"id"=>"2ce962f0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'2ce962f0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 302) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 302) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 302)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 302) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 510) LIMIT 1[0m
Completed in 119ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/2ce962f0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:17:47) [GET]
  Parameters: {"id"=>"2ce962f0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'2ce962f0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 302) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 302) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 302)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 302) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 510) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 13) | 202 Accepted [http://localhost/events/2ce962f0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:17:51) [GET]
  Parameters: {"id"=>"2ce962f0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'2ce962f0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 302) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 302) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 510) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:1c:28:15:2a:a2',E'00:24:fe:a3:53:35',E'00:1a:2a:ca:7b:62')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 510) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326), 0.0860233949520651) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(10.91779485 50.6884345)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 253.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:17:41.261662', timestamp '2010-07-13 11:17:48.261745')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 302)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 302) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 302)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Catch') AND ("events".event_group_id = 302)) [0m
  [4;35;1mEvent Update (2.2ms)[0m   [0mUPDATE "events" SET state = 'no_peers' WHERE (event_group_id = 302) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 510) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 13) | 410 Gone [http://localhost/events/2ce962f0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-07-13 13:17:56) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100713-64913-1ppswtm-0>}, "id"=>"2cec1a40709e012d8d7e001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = E'2cec1a40709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.6ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-07-13 11:17:56.884753', "attachment_file_size" = 76, "attachment_updated_at" = '2010-07-13 11:17:56.882425', "attachment_content_type" = E'image/png', "attachment_file_name" = E'file1.png' WHERE "id" = 299[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/299/original/file1.png
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/299/processed/file1.png
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/2cec1a40709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-07-13 13:18:20) [POST]
  Parameters: {"event"=>{"bssids"=>"6:f:b5:92:f4:39,0:21:29:1:5d:30", "model"=>"iPhone", "device"=>"iPhone OS", "latitude"=>"48.183430", "timestamp"=>"1279012893368", "client_uuid"=>"1e624759774f48748f8f9350c5c00c167681aafc", "location_accuracy"=>"250.000000", "hoccability"=>"2", "type"=>"Throw", "longitude"=>"13.700378", "local_ip"=>"10.1.2.185", "version_sdk"=>"4.0"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-07-13 11:18:27.968713', E'iPhone', NULL, E'iPhone OS', 48.18343, '2010-07-13 11:18:20.968839', NULL, NULL, E'1279012893368', E'44942fa0709e012d8d7e001f5bf1b5ba', '2010-07-13 11:18:20.968839', NULL, E'1e624759774f48748f8f9350c5c00c167681aafc', E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', 250.0, E'2', E'Throw', NULL, NULL, 13.700378, NULL, '2010-07-13 11:18:20.968625', E'10.1.2.185', 2, E'waiting', E'4.0') RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:18:20.977010', 511, '2010-07-13 11:18:20.977010', E'06:0f:b5:92:f4:39', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO "access_point_sightings" ("created_at", "event_id", "updated_at", "bssid", "signal") VALUES('2010-07-13 11:18:20.980712', 511, '2010-07-13 11:18:20.980712', E'00:21:29:01:5d:30', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-07-13 11:18:20.989751', 511, NULL, E'4496e6a0709e012d8d7e001f5bf1b5ba', '2010-07-13 11:18:20.989751', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.3ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mEvent Load (0.9ms)[0m   [0mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-07-13 11:18:21.010821', '2010-07-13 11:18:21.010821', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.700378 48.18343)', 4326)[0m
  [4;35;1mThrow Update (0.6ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-07-13 11:18:20.968625', "updated_at" = '2010-07-13 11:18:21.017621', "created_at" = '2010-07-13 11:18:20.968839', "longitude" = 13.700378, "hoccability" = E'2', "client_uuid" = E'1e624759774f48748f8f9350c5c00c167681aafc', "device" = E'iPhone OS', "point" = E'0101000020E610000000ADF9F197662B407A8D5DA27A174840', "latitude" = 48.18343, "timestamp" = E'1279012893368', "ending_at" = '2010-07-13 11:18:27.968713', "event_group_id" = 303, "location_accuracy" = 250.0, "version_sdk" = E'4.0', "local_ip" = E'10.1.2.185', "uuid" = E'44942fa0709e012d8d7e001f5bf1b5ba', "model" = E'iPhone', "api_version" = 2, "type" = E'Throw' WHERE "id" = 511[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/44942fa0709e012d8d7e001f5bf1b5ba
Completed in 82ms (DB: 14) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:18:21) [GET]
  Parameters: {"id"=>"44942fa0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'44942fa0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 303) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 303) [0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 303)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 303) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 511) LIMIT 1[0m
Completed in 56ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/44942fa0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:18:23) [GET]
  Parameters: {"id"=>"44942fa0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'44942fa0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 303) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 303) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 303)) [0m
  [4;35;1mEvent Load (1.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 303) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 511) LIMIT 1[0m
Completed in 60ms (View: 1, DB: 14) | 202 Accepted [http://localhost/events/44942fa0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:18:24) [GET]
  Parameters: {"id"=>"44942fa0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'44942fa0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 303) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 303) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 303)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 303) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 511) LIMIT 1[0m
Completed in 55ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/44942fa0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-07-13 13:18:25) [GET]
  Parameters: {"id"=>"44942fa0709e012d8d7e001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = E'44942fa0709e012d8d7e001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 303) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 303) [0m
  [4;36;1mAccessPointSighting Load (0.4ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 511) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT "events".* FROM "events" INNER JOIN "access_point_sightings" ON access_point_sightings.event_id = events.id WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((access_point_sightings.bssid IN (E'00:21:29:01:5d:30',E'06:0f:b5:92:f4:39')) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 511) AND ("events"."type" IN (E'Throw',E'Catch'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326), 0.0817385372461155) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.700378 48.18343)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 250.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-07-13 11:18:20.968625', timestamp '2010-07-13 11:18:27.968713')))) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = E'Throw') AND ("events".event_group_id = 303)) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.7ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 303) [0m
  [4;35;1mEvent Load (0.2ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 303) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 511) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/44942fa0709e012d8d7e001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 13:34:16) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 14:04:04) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 14:33:57) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 15:04:00) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 15:33:58) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 16:04:11) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 16:34:17) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 17:04:10) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-07-13 17:33:57) [GET]

ActionController::RoutingError (No route matches "/rss/recent_changes.xml" with {:method=>:get}):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p249/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (42.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (134.6ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (48.6ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (52.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (18.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (94.0ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (96.4ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (20.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (796.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (165.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (1.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (60.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (57.8ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (47.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (21.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (30.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (107.6ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (5.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (1.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (33.2ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (343.4ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (29.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.0ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (18.8ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (46.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.4ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (34.0ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (7.3ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.1ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.7ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (53.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.9ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (7.2ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (29.1ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (1.6ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (13.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (20.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (22.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (10.3ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (120.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (19.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (7.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (12.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (128.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (5.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (29.2ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (30.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (51.8ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (3.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (6.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (9.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (6.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (45.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (27.0ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (16.3ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (53.0ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.7ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (15.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (8.2ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (6.9ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (55.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (13.9ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (33.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (19.7ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (70.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (10.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (36.4ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (14.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (9.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (17.7ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (9.7ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (14.8ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (17.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (7.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (110.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (23.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (1.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (38.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (51.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (65.0ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (211.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (9.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (40.3ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (8.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.8ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (33.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (18.1ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (105.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.7ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (34.6ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (159.2ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (53.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (3.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (135.5ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (9.3ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (75.5ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (22.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (679.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (22.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (42.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (55.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (25.7ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (25.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (120.9ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (50.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (36.4ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (257.8ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (41.6ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (26.8ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (60.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.7ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (31.6ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (178.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (13.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (163.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (7.1ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (15.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (16.7ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.1ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (15.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.7ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.8ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (7.2ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (7.2ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (20.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (338.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (188.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (7.5ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (9.0ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (9.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (15.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (29.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (88.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (28.4ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (15.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (139.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (13.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (45.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (159.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (152.1ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (64.3ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (10.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (29.7ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (69.6ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (601.5ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.2ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
Migrating to CreatePeerGroups (20090819041149)
Migrating to CreateAccessPoints (20100115141154)
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
Migrating to CreateEvents (20100310101026)
Migrating to CreateAccessPointSightings (20100311162618)
Migrating to CreateEventGroups (20100312150735)
Migrating to AddLocationAccuracyToEvents (20100315122414)
Migrating to CreateUploads (20100315160733)
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
Migrating to AddStateColumnToEvents (20100324103945)
Migrating to AddIndicesToEvents (20100325090435)
Migrating to AddDefaultStateForEvents (20100325091142)
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
Migrating to AddIndexOnAccessPointSightings (20100419135231)
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
Migrating to CreateErrorReports (20100429090412)
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
Migrating to CreatePeerGroups (20090819041149)
Migrating to CreateAccessPoints (20100115141154)
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
Migrating to CreateEvents (20100310101026)
Migrating to CreateAccessPointSightings (20100311162618)
Migrating to CreateEventGroups (20100312150735)
Migrating to AddLocationAccuracyToEvents (20100315122414)
Migrating to CreateUploads (20100315160733)
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
Migrating to AddStateColumnToEvents (20100324103945)
Migrating to AddIndicesToEvents (20100325090435)
Migrating to AddDefaultStateForEvents (20100325091142)
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
Migrating to AddIndexOnAccessPointSightings (20100419135231)
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
Migrating to CreateErrorReports (20100429090412)
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (20.2ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (66.4ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (9.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (10.5ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (9.1ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (7.7ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (48.3ms)[0m   [0mDROP TABLE "geometry_columns"[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "geometry_columns" ("f_table_catalog" character varying(256) NOT NULL, "f_table_schema" character varying(256) NOT NULL, "f_table_name" character varying(256) NOT NULL, "f_geometry_column" character varying(256) NOT NULL, "coord_dimension" integer NOT NULL, "srid" integer NOT NULL, "type" character varying(30) NOT NULL) [0m
  [4;35;1mSQL (10.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mDROP TABLE "spatial_ref_sys"[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "spatial_ref_sys" ("srid" integer NOT NULL, "auth_name" character varying(256), "auth_srid" integer, "srtext" character varying(2048), "proj4text" character varying(2048)) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp, "peer_id" integer) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (15.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
Migrating to CreatePeerGroups (20090819041149)
Migrating to CreateAccessPoints (20100115141154)
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
Migrating to CreateEvents (20100310101026)
Migrating to CreateAccessPointSightings (20100311162618)
Migrating to CreateEventGroups (20100312150735)
Migrating to AddLocationAccuracyToEvents (20100315122414)
Migrating to CreateUploads (20100315160733)
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
Migrating to AddStateColumnToEvents (20100324103945)
Migrating to AddIndicesToEvents (20100325090435)
Migrating to AddDefaultStateForEvents (20100325091142)
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
Migrating to AddIndexOnAccessPointSightings (20100419135231)
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
Migrating to CreateErrorReports (20100429090412)
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mDROP TABLE "access_point_sightings"[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mDROP TABLE "access_points"[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDROP TABLE "access_points_peers"[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mDROP TABLE "error_reports"[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mDROP TABLE "event_groups"[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mDROP TABLE "geometry_columns"[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "geometry_columns" ("f_table_catalog" character varying(256) NOT NULL, "f_table_schema" character varying(256) NOT NULL, "f_table_name" character varying(256) NOT NULL, "f_geometry_column" character varying(256) NOT NULL, "coord_dimension" integer NOT NULL, "srid" integer NOT NULL, "type" character varying(30) NOT NULL) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mDROP TABLE "peer_groups"[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mDROP TABLE "peers"[0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mDROP TABLE "spatial_ref_sys"[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "spatial_ref_sys" ("srid" integer NOT NULL, "auth_name" character varying(256), "auth_srid" integer, "srtext" character varying(2048), "proj4text" character varying(2048)) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mDROP TABLE "uploads"[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp, "peer_id" integer) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (307.9ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mDROP TABLE "geometry_columns"[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "geometry_columns" ("f_table_catalog" character varying(256) NOT NULL, "f_table_schema" character varying(256) NOT NULL, "f_table_name" character varying(256) NOT NULL, "f_geometry_column" character varying(256) NOT NULL, "coord_dimension" integer NOT NULL, "srid" integer NOT NULL, "type" character varying(30) NOT NULL) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mDROP TABLE "spatial_ref_sys"[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "spatial_ref_sys" ("srid" integer NOT NULL, "auth_name" character varying(256), "auth_srid" integer, "srtext" character varying(2048), "proj4text" character varying(2048)) [0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp, "peer_id" integer) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
Migrating to CreatePeerGroups (20090819041149)
Migrating to CreateAccessPoints (20100115141154)
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
Migrating to CreateEvents (20100310101026)
Migrating to CreateAccessPointSightings (20100311162618)
Migrating to CreateEventGroups (20100312150735)
Migrating to AddLocationAccuracyToEvents (20100315122414)
Migrating to CreateUploads (20100315160733)
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
Migrating to AddStateColumnToEvents (20100324103945)
Migrating to AddIndicesToEvents (20100325090435)
Migrating to AddDefaultStateForEvents (20100325091142)
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
Migrating to AddIndexOnAccessPointSightings (20100419135231)
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
Migrating to CreateErrorReports (20100429090412)
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m
  [4;36;1mSQL (257.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.7ms)[0m   [0;1mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (9.4ms)[0m   [0mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (125.1ms)[0m   [0;1mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT E'waiting'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-12 13:17:29) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.11", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.11"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (406.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.11 52.11)', 4326)[0m
  [4;35;1mSQL (374.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-12 11:18:30.554779', NULL, NULL, NULL, 52.11, '2010-08-12 11:17:30.591636', NULL, NULL, NULL, '1eec17108831012d8deb001f5bf1b5ba', '2010-08-12 11:17:30.591636', NULL, NULL, '0101000020E6100000B81E85EB51382A40AE47E17A140E4A40', 100.0, NULL, 'Drop', NULL, NULL, 13.11, NULL, '2010-08-12 11:17:30.554779', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (155.0ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-12 11:17:31.176442', 1478031, NULL, '1f4a6b408831012d8deb001f5bf1b5ba', '2010-08-12 11:17:31.176442', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/1eec17108831012d8deb001f5bf1b5ba
Completed in 1723ms (DB: 938) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-12 13:17:32) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.11", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.11"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.11 52.11)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-12 11:18:32.253716', NULL, NULL, NULL, 52.11, '2010-08-12 11:17:32.253886', NULL, NULL, NULL, '1fef62108831012d8deb001f5bf1b5ba', '2010-08-12 11:17:32.253886', NULL, NULL, '0101000020E6100000B81E85EB51382A40AE47E17A140E4A40', 100.0, NULL, 'Drop', NULL, NULL, 13.11, NULL, '2010-08-12 11:17:32.253716', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-12 11:17:32.266498', 1478032, NULL, '1ff0dfa08831012d8deb001f5bf1b5ba', '2010-08-12 11:17:32.266498', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/1fef62108831012d8deb001f5bf1b5ba
Completed in 39ms (DB: 5) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-12 13:28:50) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.11", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.11"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (94.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.11 52.11)', 4326)[0m
  [4;35;1mSQL (21.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-12 11:29:50.937660', NULL, NULL, NULL, 52.11, '2010-08-12 11:28:50.937885', NULL, NULL, NULL, 'b47654d08832012d8deb001f5bf1b5ba', '2010-08-12 11:28:50.937885', NULL, NULL, '0101000020E6100000B81E85EB51382A40AE47E17A140E4A40', 100.0, NULL, 'Drop', NULL, NULL, 13.11, NULL, '2010-08-12 11:28:50.937660', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (13.2ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-12 11:28:50.976068', 1478033, NULL, 'b47b6e808832012d8deb001f5bf1b5ba', '2010-08-12 11:28:50.976068', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b47654d08832012d8deb001f5bf1b5ba
Completed in 206ms (DB: 131) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-12 13:28:51) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.11", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.11"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.11 52.11)', 4326)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-12 11:29:51.845721', NULL, NULL, NULL, 52.11, '2010-08-12 11:28:51.845896', NULL, NULL, NULL, 'b500e4c08832012d8deb001f5bf1b5ba', '2010-08-12 11:28:51.845896', NULL, NULL, '0101000020E6100000B81E85EB51382A40AE47E17A140E4A40', 100.0, NULL, 'Drop', NULL, NULL, 13.11, NULL, '2010-08-12 11:28:51.845721', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-12 11:28:51.858827', 1478034, NULL, 'b5026e808832012d8deb001f5bf1b5ba', '2010-08-12 11:28:51.858827', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b500e4c08832012d8deb001f5bf1b5ba
Completed in 105ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-12 13:29:03) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.11", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.11"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.11 52.11)', 4326)[0m
  [4;35;1mSQL (199.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-12 11:30:03.520075', NULL, NULL, NULL, 52.11, '2010-08-12 11:29:03.520241', NULL, NULL, NULL, 'bbf642508832012d8deb001f5bf1b5ba', '2010-08-12 11:29:03.520241', NULL, NULL, '0101000020E6100000B81E85EB51382A40AE47E17A140E4A40', 100.0, NULL, 'Drop', NULL, NULL, 13.11, NULL, '2010-08-12 11:29:03.520075', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (17.4ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-12 11:29:03.736308', 1478035, NULL, 'bc1677f08832012d8deb001f5bf1b5ba', '2010-08-12 11:29:03.736308', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/bbf642508832012d8deb001f5bf1b5ba
Completed in 260ms (DB: 221) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-12 13:29:04) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.11", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.11"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.11 52.11)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-12 11:30:04.584359', NULL, NULL, NULL, 52.11, '2010-08-12 11:29:04.584524', NULL, NULL, NULL, 'bc98a7f08832012d8deb001f5bf1b5ba', '2010-08-12 11:29:04.584524', NULL, NULL, '0101000020E6100000B81E85EB51382A40AE47E17A140E4A40', 100.0, NULL, 'Drop', NULL, NULL, 13.11, NULL, '2010-08-12 11:29:04.584359', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (21.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-12 11:29:04.597132', 1478036, NULL, 'bc9a26b08832012d8deb001f5bf1b5ba', '2010-08-12 11:29:04.597132', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/bc98a7f08832012d8deb001f5bf1b5ba
Completed in 60ms (DB: 27) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:08:43) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (117.7ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (28.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:09:43.474813', NULL, NULL, NULL, 52.50135, '2010-08-13 09:08:43.506010', NULL, NULL, NULL, '4ba301d088e8012d8dec001f5bf1b5ba', '2010-08-13 09:08:43.506010', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:08:43.474813', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (35.3ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:08:43.622296', 1478037, NULL, '4bb90bd088e8012d8dec001f5bf1b5ba', '2010-08-13 09:08:43.622296', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (19.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/4ba301d088e8012d8dec001f5bf1b5ba
Completed in 532ms (DB: 201) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:08:44) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:09:44.520409', NULL, NULL, NULL, 52.50135, '2010-08-13 09:08:44.520584', NULL, NULL, NULL, '4c429ba088e8012d8dec001f5bf1b5ba', '2010-08-13 09:08:44.520584', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:08:44.520409', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:08:44.533586', 1478038, NULL, '4c44295088e8012d8dec001f5bf1b5ba', '2010-08-13 09:08:44.533586', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/4c429ba088e8012d8dec001f5bf1b5ba
Completed in 39ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:25:55) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (20.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:26:55.681948', NULL, NULL, NULL, 52.50135, '2010-08-13 09:25:55.682119', NULL, NULL, NULL, 'b2e15f6088ea012d8dec001f5bf1b5ba', '2010-08-13 09:25:55.682119', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:25:55.681948', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:25:55.713922', 1478039, NULL, 'b2e5be9088ea012d8dec001f5bf1b5ba', '2010-08-13 09:25:55.713922', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b2e15f6088ea012d8dec001f5bf1b5ba
Completed in 60ms (DB: 26) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:25:56) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:26:56.613595', NULL, NULL, NULL, 52.50135, '2010-08-13 09:25:56.613781', NULL, NULL, NULL, 'b36f87d088ea012d8dec001f5bf1b5ba', '2010-08-13 09:25:56.613781', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:25:56.613595', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:25:56.628110', 1478040, NULL, 'b3711ec088ea012d8dec001f5bf1b5ba', '2010-08-13 09:25:56.628110', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b36f87d088ea012d8dec001f5bf1b5ba
Completed in 110ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:26:37) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (31.3ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:27:37.516237', NULL, NULL, NULL, 52.50135, '2010-08-13 09:26:37.516401', NULL, NULL, NULL, 'cbd0c76088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:37.516401', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:26:37.516237', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (10.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:26:37.563348', 1478041, NULL, 'cbd7372088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:37.563348', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/cbd0c76088ea012d8dec001f5bf1b5ba
Completed in 84ms (DB: 45) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:26:38) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:27:38.408812', NULL, NULL, NULL, 52.50135, '2010-08-13 09:26:38.408973', NULL, NULL, NULL, 'cc58f99088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:38.408973', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:26:38.408812', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:26:38.421607', 1478042, NULL, 'cc5a7a8088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:38.421607', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/cc58f99088ea012d8dec001f5bf1b5ba
Completed in 38ms (DB: 5) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:26:52) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (234.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:27:52.275503', NULL, NULL, NULL, 52.50135, '2010-08-13 09:26:52.275680', NULL, NULL, NULL, 'd49cdcf088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:52.275680', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:26:52.275503', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:26:52.526383', 1478043, NULL, 'd4c26b7088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:52.526383', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/d49cdcf088ea012d8dec001f5bf1b5ba
Completed in 279ms (DB: 239) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:26:53) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:27:53.415909', NULL, NULL, NULL, 52.50135, '2010-08-13 09:26:53.416077', NULL, NULL, NULL, 'd54ae05088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:53.416077', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:26:53.415909', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:26:53.429291', 1478044, NULL, 'd54c792088ea012d8dec001f5bf1b5ba', '2010-08-13 09:26:53.429291', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/d54ae05088ea012d8dec001f5bf1b5ba
Completed in 39ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:27:18) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (35.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:28:18.041234', NULL, NULL, NULL, 52.50135, '2010-08-13 09:27:18.041404', NULL, NULL, NULL, 'e3f8670088ea012d8dec001f5bf1b5ba', '2010-08-13 09:27:18.041404', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:27:18.041234', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (30.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:27:18.150778', 1478045, NULL, 'e408984088ea012d8dec001f5bf1b5ba', '2010-08-13 09:27:18.150778', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/e3f8670088ea012d8dec001f5bf1b5ba
Completed in 173ms (DB: 70) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:27:19) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (25.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:28:19.044730', NULL, NULL, NULL, 52.50135, '2010-08-13 09:27:19.045187', NULL, NULL, NULL, 'e49185c088ea012d8dec001f5bf1b5ba', '2010-08-13 09:27:19.045187', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:27:19.044730', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:27:19.093394', 1478046, NULL, 'e49873d088ea012d8dec001f5bf1b5ba', '2010-08-13 09:27:19.093394', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/e49185c088ea012d8dec001f5bf1b5ba
Completed in 77ms (DB: 31) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:28:19) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (35.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:29:19.704477', NULL, NULL, NULL, 52.50135, '2010-08-13 09:28:19.704639', NULL, NULL, NULL, '08b977a088eb012d8dec001f5bf1b5ba', '2010-08-13 09:28:19.704639', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:28:19.704477', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:28:19.755814', 1478047, NULL, '08c097c088eb012d8dec001f5bf1b5ba', '2010-08-13 09:28:19.755814', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/08b977a088eb012d8dec001f5bf1b5ba
Completed in 79ms (DB: 39) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:28:20) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:29:20.628711', NULL, NULL, NULL, 52.50135, '2010-08-13 09:28:20.628884', NULL, NULL, NULL, '09467e4088eb012d8dec001f5bf1b5ba', '2010-08-13 09:28:20.628884', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:28:20.628711', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:28:20.642017', 1478048, NULL, '09480da088eb012d8dec001f5bf1b5ba', '2010-08-13 09:28:20.642017', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/09467e4088eb012d8dec001f5bf1b5ba
Completed in 100ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:40:52) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (26.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:41:52.892305', NULL, NULL, NULL, 52.50135, '2010-08-13 09:40:52.892473', NULL, NULL, NULL, 'c9a8cf0088ec012d8dec001f5bf1b5ba', '2010-08-13 09:40:52.892473', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:40:52.892305', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:40:52.934333', 1478049, NULL, 'c9ae75c088ec012d8dec001f5bf1b5ba', '2010-08-13 09:40:52.934333', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/c9a8cf0088ec012d8dec001f5bf1b5ba
Completed in 72ms (DB: 33) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:40:53) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:41:53.840503', NULL, NULL, NULL, 52.50135, '2010-08-13 09:40:53.840668', NULL, NULL, NULL, 'ca397dd088ec012d8dec001f5bf1b5ba', '2010-08-13 09:40:53.840668', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:40:53.840503', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:40:53.853403', 1478050, NULL, 'ca3afef088ec012d8dec001f5bf1b5ba', '2010-08-13 09:40:53.853403', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/ca397dd088ec012d8dec001f5bf1b5ba
Completed in 39ms (DB: 5) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:45:36) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (27.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:46:36.363786', NULL, NULL, NULL, 52.50135, '2010-08-13 09:45:36.363958', NULL, NULL, NULL, '729f1fb088ed012d8dec001f5bf1b5ba', '2010-08-13 09:45:36.363958', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:45:36.363786', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (13.0ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:45:36.407342', 1478051, NULL, '72a50ad088ed012d8dec001f5bf1b5ba', '2010-08-13 09:45:36.407342', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/729f1fb088ed012d8dec001f5bf1b5ba
Completed in 85ms (DB: 44) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:45:37) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:46:37.263272', NULL, NULL, NULL, 52.50135, '2010-08-13 09:45:37.263434', NULL, NULL, NULL, '7328600088ed012d8dec001f5bf1b5ba', '2010-08-13 09:45:37.263434', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:45:37.263272', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:45:37.276005', 1478052, NULL, '7329de5088ed012d8dec001f5bf1b5ba', '2010-08-13 09:45:37.276005', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/7328600088ed012d8dec001f5bf1b5ba
Completed in 38ms (DB: 5) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:48:12) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (65.3ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:49:12.821374', NULL, NULL, NULL, 52.50135, '2010-08-13 09:48:12.821540', NULL, NULL, NULL, 'cfe0a84088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:12.821540', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:48:12.821374', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:48:12.961260', 1478053, NULL, 'cff57bd088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:12.961260', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/cfe0a84088ed012d8dec001f5bf1b5ba
Completed in 166ms (DB: 69) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:48:13) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:49:13.793746', NULL, NULL, NULL, 52.50135, '2010-08-13 09:48:13.793916', NULL, NULL, NULL, 'd07507a088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:13.793916', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:48:13.793746', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:48:13.806677', 1478054, NULL, 'd076899088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:13.806677', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/d07507a088ed012d8dec001f5bf1b5ba
Completed in 39ms (DB: 5) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:48:37) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (17.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:49:37.268108', NULL, NULL, NULL, 52.50135, '2010-08-13 09:48:37.268274', NULL, NULL, NULL, 'de72eee088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:37.268274', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:48:37.268108', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (9.9ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:48:37.297155', 1478055, NULL, 'de76dd4088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:37.297155', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/de72eee088ed012d8dec001f5bf1b5ba
Completed in 64ms (DB: 30) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:48:37) [GET]
  Parameters: {"id"=>"de72eee088ed012d8dec001f5bf1b5ba"}
  [4;35;1mEvent Load (53.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'de72eee088ed012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (32.8ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478055) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478055) [0m
  [4;36;1mSQL (200.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478055) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:37.268108', timestamp '2010-08-13 09:49:37.268108')))) [0m
  [4;35;1mUpload Load (1.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478055) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478055) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:37.268108', timestamp '2010-08-13 09:49:37.268108')))) [0m
Completed in 481ms (View: 74, DB: 289) | 202 Accepted [http://localhost/events/de72eee088ed012d8dec001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:48:38) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (60.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:49:38.773359', NULL, NULL, NULL, 52.50135, '2010-08-13 09:48:38.773528', NULL, NULL, NULL, 'df589db088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:38.773528', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:48:38.773359', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:48:39.098476', 1478056, NULL, 'df89848088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:39.098476', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/df589db088ed012d8dec001f5bf1b5ba
Completed in 352ms (DB: 64) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:48:39) [GET]
  Parameters: {"id"=>"df589db088ed012d8dec001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = 'df589db088ed012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478056) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478056) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478056) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:38.773359', timestamp '2010-08-13 09:49:38.773359')))) [0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478056) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478056) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:38.773359', timestamp '2010-08-13 09:49:38.773359')))) [0m
Completed in 38ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/df589db088ed012d8dec001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:48:55) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (32.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:49:55.364749', NULL, NULL, NULL, 52.50135, '2010-08-13 09:48:55.364918', NULL, NULL, NULL, 'e93c42d088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:55.364918', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:48:55.364749', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:48:55.413808', 1478057, NULL, 'e943060088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:55.413808', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/e93c42d088ed012d8dec001f5bf1b5ba
Completed in 141ms (DB: 40) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:48:55) [GET]
  Parameters: {"id"=>"e93c42d088ed012d8dec001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'e93c42d088ed012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478057) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478057) [0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478057) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:55.364749', timestamp '2010-08-13 09:49:55.364749')))) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478057) LIMIT 1[0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478057) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:55.364749', timestamp '2010-08-13 09:49:55.364749')))) [0m
Completed in 38ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/e93c42d088ed012d8dec001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:48:56) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:49:56.305052', NULL, NULL, NULL, 52.50135, '2010-08-13 09:48:56.305215', NULL, NULL, NULL, 'e9cbbd8088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:56.305215', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:48:56.305052', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:48:56.317970', 1478058, NULL, 'e9cd433088ed012d8dec001f5bf1b5ba', '2010-08-13 09:48:56.317970', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/e9cbbd8088ed012d8dec001f5bf1b5ba
Completed in 38ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:48:56) [GET]
  Parameters: {"id"=>"e9cbbd8088ed012d8dec001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = 'e9cbbd8088ed012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478058) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478058) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478058) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:56.305052', timestamp '2010-08-13 09:49:56.305052')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478058) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478058) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:48:56.305052', timestamp '2010-08-13 09:49:56.305052')))) [0m
Completed in 38ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/e9cbbd8088ed012d8dec001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:51:28) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (150.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:52:28.626628', NULL, NULL, NULL, 52.50135, '2010-08-13 09:51:28.626794', NULL, NULL, NULL, '44962b1088ee012d8dec001f5bf1b5ba', '2010-08-13 09:51:28.626794', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:51:28.626628', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (67.2ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:51:28.822823', 1478059, NULL, '44b362f088ee012d8dec001f5bf1b5ba', '2010-08-13 09:51:28.822823', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/44962b1088ee012d8dec001f5bf1b5ba
Completed in 290ms (DB: 221) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:51:28) [GET]
  Parameters: {"id"=>"44962b1088ee012d8dec001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '44962b1088ee012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478059) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478059) [0m
  [4;36;1mSQL (56.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478059) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:51:28.626628', timestamp '2010-08-13 09:52:28.626628')))) [0m
  [4;35;1mUpload Load (11.3ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478059) LIMIT 1[0m
  [4;36;1mEvent Load (1.1ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478059) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:51:28.626628', timestamp '2010-08-13 09:52:28.626628')))) [0m
Completed in 170ms (View: 1, DB: 73) | 202 Accepted [http://localhost/events/44962b1088ee012d8dec001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:51:43) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.6ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (47.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:52:43.970106', NULL, NULL, NULL, 52.50135, '2010-08-13 09:51:43.970342', NULL, NULL, NULL, '4dbb649088ee012d8dec001f5bf1b5ba', '2010-08-13 09:51:43.970342', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:51:43.970106', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (1.2ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:51:44.046921', 1478060, NULL, '4dc661c088ee012d8dec001f5bf1b5ba', '2010-08-13 09:51:44.046921', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/4dbb649088ee012d8dec001f5bf1b5ba
Completed in 183ms (DB: 62) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:51:44) [GET]
  Parameters: {"id"=>"4dbb649088ee012d8dec001f5bf1b5ba"}
  [4;36;1mEvent Load (5.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '4dbb649088ee012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478060) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478060) [0m
  [4;35;1mSQL (14.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478060) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:51:43.970106', timestamp '2010-08-13 09:52:43.970106')))) [0m
  [4;36;1mUpload Load (0.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478060) LIMIT 1[0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478060) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:51:43.970106', timestamp '2010-08-13 09:52:43.970106')))) [0m
Completed in 135ms (View: 1, DB: 22) | 202 Accepted [http://localhost/events/4dbb649088ee012d8dec001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:51:45) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:52:45.163029', NULL, NULL, NULL, 52.50135, '2010-08-13 09:51:45.163235', NULL, NULL, NULL, '4e716ad088ee012d8dec001f5bf1b5ba', '2010-08-13 09:51:45.163235', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:51:45.163029', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:51:45.176693', 1478061, NULL, '4e7307e088ee012d8dec001f5bf1b5ba', '2010-08-13 09:51:45.176693', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/4e716ad088ee012d8dec001f5bf1b5ba
Completed in 100ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:51:45) [GET]
  Parameters: {"id"=>"4e716ad088ee012d8dec001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '4e716ad088ee012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478061) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478061) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478061) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:51:45.163029', timestamp '2010-08-13 09:52:45.163029')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478061) LIMIT 1[0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478061) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:51:45.163029', timestamp '2010-08-13 09:52:45.163029')))) [0m
Completed in 39ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/4e716ad088ee012d8dec001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:57:28) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (45.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:58:28.371383', NULL, NULL, NULL, 52.50135, '2010-08-13 09:57:28.371551', NULL, NULL, NULL, '1b02dc9088ef012d8dec001f5bf1b5ba', '2010-08-13 09:57:28.371551', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:57:28.371383', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (11.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:57:28.462819', 1478062, NULL, '1b10568088ef012d8dec001f5bf1b5ba', '2010-08-13 09:57:28.462819', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/1b02dc9088ef012d8dec001f5bf1b5ba
Completed in 142ms (DB: 61) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:57:28) [GET]
  Parameters: {"id"=>"1b02dc9088ef012d8dec001f5bf1b5ba"}
  [4;36;1mEvent Load (3.2ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '1b02dc9088ef012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478062) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478062) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478062) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:57:28.371383', timestamp '2010-08-13 09:58:28.371383')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478062) LIMIT 1[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478062) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:57:28.371383', timestamp '2010-08-13 09:58:28.371383')))) [0m
Completed in 101ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/1b02dc9088ef012d8dec001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:57:57) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (33.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:58:57.297000', NULL, NULL, NULL, 52.50135, '2010-08-13 09:57:57.297166', NULL, NULL, NULL, '2c408f6088ef012d8dec001f5bf1b5ba', '2010-08-13 09:57:57.297166', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:57:57.297000', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (7.3ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:57:57.343031', 1478063, NULL, '2c471c7088ef012d8dec001f5bf1b5ba', '2010-08-13 09:57:57.343031', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/2c408f6088ef012d8dec001f5bf1b5ba
Completed in 79ms (DB: 45) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:57:57) [GET]
  Parameters: {"id"=>"2c408f6088ef012d8dec001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '2c408f6088ef012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478063) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478063) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478063) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:57:57.297000', timestamp '2010-08-13 09:58:57.297000')))) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478063) LIMIT 1[0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478063) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:57:57.297000', timestamp '2010-08-13 09:58:57.297000')))) [0m
Completed in 38ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/2c408f6088ef012d8dec001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 11:57:57) [PUT]
  Parameters: {"id"=>"2c471c7088ef012d8dec001f5bf1b5ba"}
  [4;36;1mUpload Load (1.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '2c471c7088ef012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 76ms (View: 5, DB: 2) | 200 OK [http://localhost/uploads/2c471c7088ef012d8dec001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:57:58) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (32.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:58:58.409524', NULL, NULL, NULL, 52.50135, '2010-08-13 09:57:58.409730', NULL, NULL, NULL, '2cea50f088ef012d8dec001f5bf1b5ba', '2010-08-13 09:57:58.409730', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:57:58.409524', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:57:58.459329', 1478064, NULL, '2cf1364088ef012d8dec001f5bf1b5ba', '2010-08-13 09:57:58.459329', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/2cea50f088ef012d8dec001f5bf1b5ba
Completed in 80ms (DB: 36) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:57:58) [GET]
  Parameters: {"id"=>"2cea50f088ef012d8dec001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '2cea50f088ef012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478064) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478064) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478064) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:57:58.409524', timestamp '2010-08-13 09:58:58.409524')))) [0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478064) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478064) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:57:58.409524', timestamp '2010-08-13 09:58:58.409524')))) [0m
Completed in 40ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/2cea50f088ef012d8dec001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 11:57:58) [PUT]
  Parameters: {"id"=>"2cf1364088ef012d8dec001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '2cf1364088ef012d8dec001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 101ms (View: 5, DB: 1) | 200 OK [http://localhost/uploads/2cf1364088ef012d8dec001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:58:35) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (36.9ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:59:35.114940', NULL, NULL, NULL, 52.50135, '2010-08-13 09:58:35.120008', NULL, NULL, NULL, '42cb104088ef012d8ded001f5bf1b5ba', '2010-08-13 09:58:35.120008', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:58:35.114940', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:58:35.230780', 1478065, NULL, '42dc45b088ef012d8ded001f5bf1b5ba', '2010-08-13 09:58:35.230780', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/42cb104088ef012d8ded001f5bf1b5ba
Completed in 231ms (DB: 41) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:58:35) [GET]
  Parameters: {"id"=>"42cb104088ef012d8ded001f5bf1b5ba"}
  [4;35;1mEvent Load (5.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '42cb104088ef012d8ded001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.8ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478065) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478065) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478065) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:58:35.114940', timestamp '2010-08-13 09:59:35.114940')))) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478065) LIMIT 1[0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478065) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:58:35.114940', timestamp '2010-08-13 09:59:35.114940')))) [0m
Completed in 44ms (View: 2, DB: 10) | 202 Accepted [http://localhost/events/42cb104088ef012d8ded001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 11:58:35) [PUT]
  Parameters: {"id"=>"42dc45b088ef012d8ded001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '42dc45b088ef012d8ded001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 20ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/42dc45b088ef012d8ded001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 11:58:36) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 09:59:36.185729', NULL, NULL, NULL, 52.50135, '2010-08-13 09:58:36.185904', NULL, NULL, NULL, '436e820088ef012d8ded001f5bf1b5ba', '2010-08-13 09:58:36.185904', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 09:58:36.185729', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 09:58:36.288428', 1478066, NULL, '43704de088ef012d8ded001f5bf1b5ba', '2010-08-13 09:58:36.288428', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/436e820088ef012d8ded001f5bf1b5ba
Completed in 130ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 11:58:36) [GET]
  Parameters: {"id"=>"436e820088ef012d8ded001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '436e820088ef012d8ded001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478066) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478066) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478066) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:58:36.185729', timestamp '2010-08-13 09:59:36.185729')))) [0m
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478066) LIMIT 1[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478066) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 09:58:36.185729', timestamp '2010-08-13 09:59:36.185729')))) [0m
Completed in 43ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/436e820088ef012d8ded001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 11:58:36) [PUT]
  Parameters: {"id"=>"43704de088ef012d8ded001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '43704de088ef012d8ded001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 19ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/43704de088ef012d8ded001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:00:09) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (54.4ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:01:09.178841', NULL, NULL, NULL, 52.50135, '2010-08-13 10:00:09.181370', NULL, NULL, NULL, '7adc20b088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:09.181370', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:00:09.178841', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (32.9ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:00:09.307399', 1478067, NULL, '7aef3b0088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:09.307399', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/7adc20b088ef012d8dee001f5bf1b5ba
Completed in 203ms (DB: 91) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:00:09) [GET]
  Parameters: {"id"=>"7adc20b088ef012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '7adc20b088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478067) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478067) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478067) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:09.178841', timestamp '2010-08-13 10:01:09.178841')))) [0m
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478067) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478067) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:09.178841', timestamp '2010-08-13 10:01:09.178841')))) [0m
Completed in 44ms (View: 3, DB: 9) | 202 Accepted [http://localhost/events/7adc20b088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:00:09) [PUT]
  Parameters: {"id"=>"7aef3b0088ef012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '7aef3b0088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 21ms (View: 1, DB: 2) | 200 OK [http://localhost/uploads/7aef3b0088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:00:10) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:01:10.258092', NULL, NULL, NULL, 52.50135, '2010-08-13 10:00:10.258261', NULL, NULL, NULL, '7b80cfd088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:10.258261', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:00:10.258092', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:00:10.361917', 1478068, NULL, '7b82bb6088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:10.361917', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/7b80cfd088ef012d8dee001f5bf1b5ba
Completed in 133ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:00:10) [GET]
  Parameters: {"id"=>"7b80cfd088ef012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.7ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '7b80cfd088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478068) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478068) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478068) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:10.258092', timestamp '2010-08-13 10:01:10.258092')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478068) LIMIT 1[0m
  [4;35;1mEvent Load (1.2ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478068) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:10.258092', timestamp '2010-08-13 10:01:10.258092')))) [0m
Completed in 42ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/7b80cfd088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:00:10) [PUT]
  Parameters: {"id"=>"7b82bb6088ef012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '7b82bb6088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 20ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/7b82bb6088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:00:42) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (72.8ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:01:42.384384', NULL, NULL, NULL, 52.50135, '2010-08-13 10:00:42.384561', NULL, NULL, NULL, '8ea6e4e088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:42.384561', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:00:42.384384', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:00:42.474338', 1478069, NULL, '8eb3db5088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:42.474338', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/8ea6e4e088ef012d8dee001f5bf1b5ba
Completed in 131ms (DB: 86) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:00:42) [GET]
  Parameters: {"id"=>"8ea6e4e088ef012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '8ea6e4e088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478069) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478069) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478069) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:42.384384', timestamp '2010-08-13 10:01:42.384384')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478069) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478069) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:42.384384', timestamp '2010-08-13 10:01:42.384384')))) [0m
Completed in 39ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/8ea6e4e088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:00:42) [PUT]
  Parameters: {"id"=>"8eb3db5088ef012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '8eb3db5088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 20ms (View: 2, DB: 1) | 200 OK [http://localhost/uploads/8eb3db5088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:00:43) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (33.9ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:01:43.484852', NULL, NULL, NULL, 52.50135, '2010-08-13 10:00:43.485031', NULL, NULL, NULL, '8f4ecfa088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:43.485031', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:00:43.484852', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:00:43.535972', 1478070, NULL, '8f55d82088ef012d8dee001f5bf1b5ba', '2010-08-13 10:00:43.535972', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/8f4ecfa088ef012d8dee001f5bf1b5ba
Completed in 80ms (DB: 38) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:00:43) [GET]
  Parameters: {"id"=>"8f4ecfa088ef012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '8f4ecfa088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478070) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478070) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478070) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:43.484852', timestamp '2010-08-13 10:01:43.484852')))) [0m
  [4;36;1mUpload Load (0.7ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478070) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478070) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:00:43.484852', timestamp '2010-08-13 10:01:43.484852')))) [0m
Completed in 132ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/8f4ecfa088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:00:43) [PUT]
  Parameters: {"id"=>"8f55d82088ef012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '8f55d82088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 22ms (View: 3, DB: 1) | 200 OK [http://localhost/uploads/8f55d82088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:02:19) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (32.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (18.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:03:19.364098', NULL, NULL, NULL, 52.50135, '2010-08-13 10:02:19.364378', NULL, NULL, NULL, 'c874d17088ef012d8dee001f5bf1b5ba', '2010-08-13 10:02:19.364378', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:02:19.364098', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:02:19.429958', 1478071, NULL, 'c87bea1088ef012d8dee001f5bf1b5ba', '2010-08-13 10:02:19.429958', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/c874d17088ef012d8dee001f5bf1b5ba
Completed in 295ms (DB: 53) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:02:19) [GET]
  Parameters: {"id"=>"c874d17088ef012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'c874d17088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478071) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478071) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478071) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:02:19.364098', timestamp '2010-08-13 10:03:19.364098')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478071) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478071) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:02:19.364098', timestamp '2010-08-13 10:03:19.364098')))) [0m
Completed in 126ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/c874d17088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:02:19) [PUT]
  Parameters: {"id"=>"c87bea1088ef012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'c87bea1088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 22ms (View: 3, DB: 1) | 200 OK [http://localhost/uploads/c87bea1088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:02:20) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:03:20.421675', NULL, NULL, NULL, 52.50135, '2010-08-13 10:02:20.421854', NULL, NULL, NULL, 'c91632b088ef012d8dee001f5bf1b5ba', '2010-08-13 10:02:20.421854', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:02:20.421675', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:02:20.436458', 1478072, NULL, 'c917ee2088ef012d8dee001f5bf1b5ba', '2010-08-13 10:02:20.436458', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/c91632b088ef012d8dee001f5bf1b5ba
Completed in 44ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:02:20) [GET]
  Parameters: {"id"=>"c91632b088ef012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.8ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = 'c91632b088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.5ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478072) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478072) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478072) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:02:20.421675', timestamp '2010-08-13 10:03:20.421675')))) [0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478072) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478072) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:02:20.421675', timestamp '2010-08-13 10:03:20.421675')))) [0m
Completed in 41ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/c91632b088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:02:20) [PUT]
  Parameters: {"id"=>"c917ee2088ef012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'c917ee2088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 22ms (View: 2, DB: 1) | 200 OK [http://localhost/uploads/c917ee2088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:03:28) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:04:28.862623', NULL, NULL, NULL, 52.50135, '2010-08-13 10:03:28.862805', NULL, NULL, NULL, 'f1e1751088ef012d8dee001f5bf1b5ba', '2010-08-13 10:03:28.862805', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:03:28.862623', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (20.8ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:03:28.879513', 1478073, NULL, 'f1e3800088ef012d8dee001f5bf1b5ba', '2010-08-13 10:03:28.879513', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/f1e1751088ef012d8dee001f5bf1b5ba
Completed in 70ms (DB: 27) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:03:28) [GET]
  Parameters: {"id"=>"f1e1751088ef012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'f1e1751088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478073) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478073) [0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478073) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:03:28.862623', timestamp '2010-08-13 10:04:28.862623')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478073) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478073) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:03:28.862623', timestamp '2010-08-13 10:04:28.862623')))) [0m
Completed in 45ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/f1e1751088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:03:28) [PUT]
  Parameters: {"id"=>"f1e3800088ef012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'f1e3800088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 102ms (View: 3, DB: 1) | 200 OK [http://localhost/uploads/f1e3800088ef012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:03:29) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:04:29.897275', NULL, NULL, NULL, 52.50135, '2010-08-13 10:03:29.897469', NULL, NULL, NULL, 'f27f54f088ef012d8dee001f5bf1b5ba', '2010-08-13 10:03:29.897469', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:03:29.897275', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:03:29.913007', 1478074, NULL, 'f281333088ef012d8dee001f5bf1b5ba', '2010-08-13 10:03:29.913007', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/f27f54f088ef012d8dee001f5bf1b5ba
Completed in 46ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:03:29) [GET]
  Parameters: {"id"=>"f27f54f088ef012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = 'f27f54f088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478074) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478074) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478074) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:03:29.897275', timestamp '2010-08-13 10:04:29.897275')))) [0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478074) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478074) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:03:29.897275', timestamp '2010-08-13 10:04:29.897275')))) [0m
Completed in 43ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/f27f54f088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:03:30) [PUT]
  Parameters: {"id"=>"f281333088ef012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'f281333088ef012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 21ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/f281333088ef012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:05:23) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:06:23.327143', NULL, NULL, NULL, 52.50135, '2010-08-13 10:05:23.327314', NULL, NULL, NULL, '361b5be088f0012d8dee001f5bf1b5ba', '2010-08-13 10:05:23.327314', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:05:23.327143', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (28.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:05:23.341726', 1478075, NULL, '361d1b9088f0012d8dee001f5bf1b5ba', '2010-08-13 10:05:23.341726', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/361b5be088f0012d8dee001f5bf1b5ba
Completed in 70ms (DB: 34) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:05:23) [GET]
  Parameters: {"id"=>"361b5be088f0012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '361b5be088f0012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478075) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478075) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478075) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:05:23.327143', timestamp '2010-08-13 10:06:23.327143')))) [0m
  [4;35;1mUpload Load (1.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478075) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478075) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:05:23.327143', timestamp '2010-08-13 10:06:23.327143')))) [0m
Completed in 41ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/361b5be088f0012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:05:24) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:06:24.221992', NULL, NULL, NULL, 52.50135, '2010-08-13 10:05:24.222154', NULL, NULL, NULL, '36a3e70088f0012d8dee001f5bf1b5ba', '2010-08-13 10:05:24.222154', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:05:24.221992', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:05:24.295665', 1478076, NULL, '36aea0a088f0012d8dee001f5bf1b5ba', '2010-08-13 10:05:24.295665', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/36a3e70088f0012d8dee001f5bf1b5ba
Completed in 101ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:05:24) [GET]
  Parameters: {"id"=>"36a3e70088f0012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '36a3e70088f0012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478076) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478076) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478076) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:05:24.221992', timestamp '2010-08-13 10:06:24.221992')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478076) LIMIT 1[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478076) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:05:24.221992', timestamp '2010-08-13 10:06:24.221992')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/36a3e70088f0012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:08:51) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:09:51.501084', NULL, NULL, NULL, 52.50135, '2010-08-13 10:08:51.501254', NULL, NULL, NULL, 'b2302e7088f0012d8dee001f5bf1b5ba', '2010-08-13 10:08:51.501254', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:08:51.501084', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:08:51.516077', 1478077, NULL, 'b23203a088f0012d8dee001f5bf1b5ba', '2010-08-13 10:08:51.516077', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/b2302e7088f0012d8dee001f5bf1b5ba
Completed in 42ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:08:51) [GET]
  Parameters: {"id"=>"b2302e7088f0012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'b2302e7088f0012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478077) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478077) [0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478077) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:08:51.501084', timestamp '2010-08-13 10:09:51.501084')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478077) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478077) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:08:51.501084', timestamp '2010-08-13 10:09:51.501084')))) [0m
Completed in 103ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/b2302e7088f0012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:11:53) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:12:53.608330', NULL, NULL, NULL, 52.50135, '2010-08-13 10:11:53.608499', NULL, NULL, NULL, '1ebb8ab088f1012d8dee001f5bf1b5ba', '2010-08-13 10:11:53.608499', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:11:53.608330', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (30.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:11:53.622498', 1478078, NULL, '1ebd3bf088f1012d8dee001f5bf1b5ba', '2010-08-13 10:11:53.622498', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/1ebb8ab088f1012d8dee001f5bf1b5ba
Completed in 72ms (DB: 37) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:11:53) [GET]
  Parameters: {"id"=>"1ebb8ab088f1012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '1ebb8ab088f1012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478078) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478078) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478078) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:11:53.608330', timestamp '2010-08-13 10:12:53.608330')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478078) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478078) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:11:53.608330', timestamp '2010-08-13 10:12:53.608330')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/1ebb8ab088f1012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:12:01) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:13:01.609677', NULL, NULL, NULL, 52.50135, '2010-08-13 10:12:01.609850', NULL, NULL, NULL, '2380736088f1012d8dee001f5bf1b5ba', '2010-08-13 10:12:01.609850', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:12:01.609677', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:12:01.623996', 1478079, NULL, '23822c5088f1012d8dee001f5bf1b5ba', '2010-08-13 10:12:01.623996', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/2380736088f1012d8dee001f5bf1b5ba
Completed in 103ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:12:01) [GET]
  Parameters: {"id"=>"2380736088f1012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '2380736088f1012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478079) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478079) [0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478079) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:12:01.609677', timestamp '2010-08-13 10:13:01.609677')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478079) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478079) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:12:01.609677', timestamp '2010-08-13 10:13:01.609677')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/2380736088f1012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:12:02) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:13:02.486503', NULL, NULL, NULL, 52.50135, '2010-08-13 10:12:02.486665', NULL, NULL, NULL, '24063e7088f1012d8dee001f5bf1b5ba', '2010-08-13 10:12:02.486665', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:12:02.486503', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:12:02.500700', 1478080, NULL, '2407f21088f1012d8dee001f5bf1b5ba', '2010-08-13 10:12:02.500700', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/24063e7088f1012d8dee001f5bf1b5ba
Completed in 40ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:12:02) [GET]
  Parameters: {"id"=>"24063e7088f1012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '24063e7088f1012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478080) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478080) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478080) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:12:02.486503', timestamp '2010-08-13 10:13:02.486503')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478080) LIMIT 1[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478080) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:12:02.486503', timestamp '2010-08-13 10:13:02.486503')))) [0m
Completed in 41ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/24063e7088f1012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:25:52) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (115.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:26:52.472362', NULL, NULL, NULL, 52.50135, '2010-08-13 10:25:52.472655', NULL, NULL, NULL, '12bc06e088f3012d8dee001f5bf1b5ba', '2010-08-13 10:25:52.472655', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:25:52.472362', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (25.1ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:25:52.491885', 1478081, NULL, '12be8eb088f3012d8dee001f5bf1b5ba', '2010-08-13 10:25:52.491885', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (44.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/12bc06e088f3012d8dee001f5bf1b5ba
Completed in 256ms (DB: 189) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:25:52) [GET]
  Parameters: {"id"=>"12bc06e088f3012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '12bc06e088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478081) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478081) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478081) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:25:52.472362', timestamp '2010-08-13 10:26:52.472362')))) [0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478081) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478081) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:25:52.472362', timestamp '2010-08-13 10:26:52.472362')))) [0m
Completed in 112ms (View: 13, DB: 9) | 202 Accepted [http://localhost/events/12bc06e088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:25:53) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:26:53.624658', NULL, NULL, NULL, 52.50135, '2010-08-13 10:25:53.624827', NULL, NULL, NULL, '136bdc8088f3012d8dee001f5bf1b5ba', '2010-08-13 10:25:53.624827', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:25:53.624658', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:25:53.639179', 1478082, NULL, '136d997088f3012d8dee001f5bf1b5ba', '2010-08-13 10:25:53.639179', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/136bdc8088f3012d8dee001f5bf1b5ba
Completed in 41ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:25:53) [GET]
  Parameters: {"id"=>"136bdc8088f3012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.1ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '136bdc8088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478082) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478082) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478082) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:25:53.624658', timestamp '2010-08-13 10:26:53.624658')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478082) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478082) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:25:53.624658', timestamp '2010-08-13 10:26:53.624658')))) [0m
Completed in 39ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/136bdc8088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:26:36) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:27:36.930343', NULL, NULL, NULL, 52.50135, '2010-08-13 10:26:36.930527', NULL, NULL, NULL, '2d3bc89088f3012d8dee001f5bf1b5ba', '2010-08-13 10:26:36.930527', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:26:36.930343', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:26:36.945725', 1478083, NULL, '2d3d931088f3012d8dee001f5bf1b5ba', '2010-08-13 10:26:36.945725', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/2d3bc89088f3012d8dee001f5bf1b5ba
Completed in 104ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:26:36) [GET]
  Parameters: {"id"=>"2d3bc89088f3012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '2d3bc89088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478083) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478083) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478083) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:26:36.930343', timestamp '2010-08-13 10:27:36.930343')))) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478083) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478083) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:26:36.930343', timestamp '2010-08-13 10:27:36.930343')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/2d3bc89088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:26:37) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:27:37.792890', NULL, NULL, NULL, 52.50135, '2010-08-13 10:26:37.793053', NULL, NULL, NULL, '2dbf663088f3012d8dee001f5bf1b5ba', '2010-08-13 10:26:37.793053', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:26:37.792890', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:26:37.806967', 1478084, NULL, '2dc1169088f3012d8dee001f5bf1b5ba', '2010-08-13 10:26:37.806967', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/2dbf663088f3012d8dee001f5bf1b5ba
Completed in 40ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:26:37) [GET]
  Parameters: {"id"=>"2dbf663088f3012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '2dbf663088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478084) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478084) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478084) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:26:37.792890', timestamp '2010-08-13 10:27:37.792890')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478084) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478084) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:26:37.792890', timestamp '2010-08-13 10:27:37.792890')))) [0m
Completed in 103ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/2dbf663088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:28:02) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:29:02.503211', NULL, NULL, NULL, 52.50135, '2010-08-13 10:28:02.503380', NULL, NULL, NULL, '603d2ad088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:02.503380', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:28:02.503211', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:28:02.517381', 1478085, NULL, '603eda6088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:02.517381', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/603d2ad088f3012d8dee001f5bf1b5ba
Completed in 53ms (DB: 17) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:28:02) [GET]
  Parameters: {"id"=>"603d2ad088f3012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '603d2ad088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478085) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478085) [0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478085) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:02.503210', timestamp '2010-08-13 10:29:02.503210')))) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478085) LIMIT 1[0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478085) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:02.503210', timestamp '2010-08-13 10:29:02.503210')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/603d2ad088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:28:03) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:29:03.458517', NULL, NULL, NULL, 52.50135, '2010-08-13 10:28:03.458683', NULL, NULL, NULL, '60ceefb088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:03.458683', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:28:03.458517', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:28:03.472962', 1478086, NULL, '60d0aa7088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:03.472962', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/60ceefb088f3012d8dee001f5bf1b5ba
Completed in 41ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:28:03) [GET]
  Parameters: {"id"=>"60ceefb088f3012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '60ceefb088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478086) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478086) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478086) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:03.458517', timestamp '2010-08-13 10:29:03.458517')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478086) LIMIT 1[0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478086) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:03.458517', timestamp '2010-08-13 10:29:03.458517')))) [0m
Completed in 39ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/60ceefb088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:28:22) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:29:22.286482', NULL, NULL, NULL, 52.50135, '2010-08-13 10:28:22.286645', NULL, NULL, NULL, '6c07db2088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:22.286645', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:28:22.286482', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:28:22.359805', 1478087, NULL, '6c098b1088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:22.359805', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/6c07db2088f3012d8dee001f5bf1b5ba
Completed in 100ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:28:22) [GET]
  Parameters: {"id"=>"6c07db2088f3012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '6c07db2088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478087) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478087) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478087) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:22.286482', timestamp '2010-08-13 10:29:22.286482')))) [0m
  [4;35;1mUpload Load (0.5ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478087) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478087) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:22.286482', timestamp '2010-08-13 10:29:22.286482')))) [0m
Completed in 40ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/6c07db2088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:28:22) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-7nta18-0>}, "id"=>"6c098b1088f3012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '6c098b1088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (20.3ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:28:22.727556', "attachment_file_size" = 0, "attachment_updated_at" = '2010-08-13 10:28:22.725963', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36440-13pnk4k' WHERE "id" = 765699[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765699/original/upload.png20100813-36440-13pnk4k
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765699/processed/upload.png20100813-36440-13pnk4k
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.4ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:28:22.814571', "attachment_content_type" = 'application/x-empty' WHERE "id" = 765699[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 109ms (View: 1, DB: 24) | 200 OK [http://localhost/uploads/6c098b1088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:28:23) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:29:23.631210', NULL, NULL, NULL, 52.50135, '2010-08-13 10:28:23.631399', NULL, NULL, NULL, '6cd50a8088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:23.631399', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:28:23.631210', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:28:23.741403', 1478088, NULL, '6cd7839088f3012d8dee001f5bf1b5ba', '2010-08-13 10:28:23.741403', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/6cd50a8088f3012d8dee001f5bf1b5ba
Completed in 143ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:28:23) [GET]
  Parameters: {"id"=>"6cd50a8088f3012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '6cd50a8088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478088) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478088) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478088) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:23.631210', timestamp '2010-08-13 10:29:23.631210')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478088) LIMIT 1[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478088) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:28:23.631210', timestamp '2010-08-13 10:29:23.631210')))) [0m
Completed in 40ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/6cd50a8088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:28:23) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-2dfeio-0>}, "id"=>"6cd7839088f3012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '6cd7839088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.5ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:28:23.849175', "attachment_file_size" = 0, "attachment_updated_at" = '2010-08-13 10:28:23.847807', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36440-1egg50c' WHERE "id" = 765700[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765700/original/upload.png20100813-36440-1egg50c
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765700/processed/upload.png20100813-36440-1egg50c
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.4ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:28:23.866961', "attachment_content_type" = 'application/x-empty' WHERE "id" = 765700[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 34ms (View: 1, DB: 4) | 200 OK [http://localhost/uploads/6cd7839088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-13 12:28:51) [GET]
  Parameters: {"id"=>"6c098b1088f3012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '6c098b1088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 14ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/6c098b1088f3012d8dee001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765699/processed/upload.png20100813-36440-13pnk4k
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:29:33) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:30:33.714763', NULL, NULL, NULL, 52.50135, '2010-08-13 10:29:33.714934', NULL, NULL, NULL, '969af24088f3012d8dee001f5bf1b5ba', '2010-08-13 10:29:33.714934', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:29:33.714763', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (29.5ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:29:33.729445', 1478089, NULL, '969cb6b088f3012d8dee001f5bf1b5ba', '2010-08-13 10:29:33.729445', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/969af24088f3012d8dee001f5bf1b5ba
Completed in 162ms (DB: 35) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:29:33) [GET]
  Parameters: {"id"=>"969af24088f3012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '969af24088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478089) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478089) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478089) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:29:33.714763', timestamp '2010-08-13 10:30:33.714763')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478089) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478089) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:29:33.714763', timestamp '2010-08-13 10:30:33.714763')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/969af24088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:29:33) [PUT]
  Parameters: {"id"=>"969cb6b088f3012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '969cb6b088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 21ms (View: 3, DB: 1) | 200 OK [http://localhost/uploads/969cb6b088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:29:34) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:30:34.659002', NULL, NULL, NULL, 52.50135, '2010-08-13 10:29:34.659169', NULL, NULL, NULL, '972b064088f3012d8dee001f5bf1b5ba', '2010-08-13 10:29:34.659169', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:29:34.659002', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:29:34.764931', 1478090, NULL, '973aabb088f3012d8dee001f5bf1b5ba', '2010-08-13 10:29:34.764931', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost/events/972b064088f3012d8dee001f5bf1b5ba
Completed in 134ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:29:34) [GET]
  Parameters: {"id"=>"972b064088f3012d8dee001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = '972b064088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mAccessPointSighting Load (0.6ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478090) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478090) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478090) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:29:34.659002', timestamp '2010-08-13 10:30:34.659002')))) [0m
  [4;36;1mUpload Load (0.6ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478090) LIMIT 1[0m
  [4;35;1mEvent Load (0.7ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478090) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:29:34.659002', timestamp '2010-08-13 10:30:34.659002')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/972b064088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:29:34) [PUT]
  Parameters: {"id"=>"973aabb088f3012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '973aabb088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 20ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/973aabb088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-13 12:29:56) [GET]
  Parameters: {"id"=>"973aabb088f3012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '973aabb088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
Completed in 13ms (View: 1, DB: 1) | 202 Accepted [http://localhost/uploads/973aabb088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-13 12:30:02) [GET]
  Parameters: {"id"=>"973aabb088f3012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '973aabb088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
Completed in 13ms (View: 1, DB: 1) | 202 Accepted [http://localhost/uploads/973aabb088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:31:29) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:32:29.884051', NULL, NULL, NULL, 52.50135, '2010-08-13 10:31:29.884217', NULL, NULL, NULL, 'dbd8f92088f3012d8dee001f5bf1b5ba', '2010-08-13 10:31:29.884217', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:31:29.884051', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:31:29.898422', 1478091, NULL, 'dbdab0b088f3012d8dee001f5bf1b5ba', '2010-08-13 10:31:29.898422', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/dbd8f92088f3012d8dee001f5bf1b5ba
Completed in 41ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:31:29) [GET]
  Parameters: {"id"=>"dbd8f92088f3012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'dbd8f92088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478091) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478091) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478091) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:31:29.884051', timestamp '2010-08-13 10:32:29.884051')))) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478091) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478091) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:31:29.884051', timestamp '2010-08-13 10:32:29.884051')))) [0m
Completed in 44ms (View: 1, DB: 10) | 202 Accepted [http://localhost/events/dbd8f92088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:31:30) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-17boqcg-0>}, "id"=>"dbdab0b088f3012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'dbdab0b088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:31:30.034505', "attachment_file_size" = 90868, "attachment_updated_at" = '2010-08-13 10:31:30.030723', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36511-qcsx8i' WHERE "id" = 765703[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765703/original/upload.png20100813-36511-qcsx8i
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765703/processed/upload.png20100813-36511-qcsx8i
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Completed in 131ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/dbdab0b088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:31:30) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:32:30.977871', NULL, NULL, NULL, 52.50135, '2010-08-13 10:31:30.978075', NULL, NULL, NULL, 'dc7fdfc088f3012d8dee001f5bf1b5ba', '2010-08-13 10:31:30.978075', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:31:30.977871', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:31:30.994299', 1478092, NULL, 'dc81cc6088f3012d8dee001f5bf1b5ba', '2010-08-13 10:31:30.994299', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/dc7fdfc088f3012d8dee001f5bf1b5ba
Completed in 46ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:31:31) [GET]
  Parameters: {"id"=>"dc7fdfc088f3012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (6.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'dc7fdfc088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478092) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478092) [0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478092) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:31:30.977871', timestamp '2010-08-13 10:32:30.977871')))) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478092) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478092) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:31:30.977871', timestamp '2010-08-13 10:32:30.977871')))) [0m
Completed in 51ms (View: 1, DB: 12) | 202 Accepted [http://localhost/events/dc7fdfc088f3012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:31:31) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-b3i0k9-0>}, "id"=>"dc81cc6088f3012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'dc81cc6088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:31:31.206088', "attachment_file_size" = 90488, "attachment_updated_at" = '2010-08-13 10:31:31.202732', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36511-9ym9q' WHERE "id" = 765704[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765704/original/upload.png20100813-36511-9ym9q
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765704/processed/upload.png20100813-36511-9ym9q
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Completed in 121ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/dc81cc6088f3012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-13 12:31:53) [GET]
  Parameters: {"id"=>"dc81cc6088f3012d8dee001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'dc81cc6088f3012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 16ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/dc81cc6088f3012d8dee001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765704/processed/upload.png20100813-36511-9ym9q
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:32:33) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:33:33.496518', NULL, NULL, NULL, 52.50135, '2010-08-13 10:32:33.496692', NULL, NULL, NULL, '01c3764088f4012d8dee001f5bf1b5ba', '2010-08-13 10:32:33.496692', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:32:33.496518', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (20.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:32:33.511852', 1478093, NULL, '01c5489088f4012d8dee001f5bf1b5ba', '2010-08-13 10:32:33.511852', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/01c3764088f4012d8dee001f5bf1b5ba
Completed in 65ms (DB: 26) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:32:33) [GET]
  Parameters: {"id"=>"01c3764088f4012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (2.9ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '01c3764088f4012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.8ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478093) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478093) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478093) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:32:33.496518', timestamp '2010-08-13 10:33:33.496518')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478093) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478093) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:32:33.496518', timestamp '2010-08-13 10:33:33.496518')))) [0m
Completed in 118ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/01c3764088f4012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:32:33) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-19rz95n-0>}, "id"=>"01c5489088f4012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '01c5489088f4012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:32:33.740321', "attachment_file_size" = 90868, "attachment_updated_at" = '2010-08-13 10:32:33.736917', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36546-13399b3' WHERE "id" = 765705[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765705/original/upload.png20100813-36546-13399b3
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765705/processed/upload.png20100813-36546-13399b3
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Completed in 65ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/01c5489088f4012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:32:34) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:33:34.566686', NULL, NULL, NULL, 52.50135, '2010-08-13 10:32:34.566856', NULL, NULL, NULL, '0266c23088f4012d8dee001f5bf1b5ba', '2010-08-13 10:32:34.566856', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:32:34.566686', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:32:34.582473', 1478094, NULL, '0268857088f4012d8dee001f5bf1b5ba', '2010-08-13 10:32:34.582473', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/0266c23088f4012d8dee001f5bf1b5ba
Completed in 46ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:32:34) [GET]
  Parameters: {"id"=>"0266c23088f4012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '0266c23088f4012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478094) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478094) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478094) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:32:34.566686', timestamp '2010-08-13 10:33:34.566686')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478094) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478094) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:32:34.566686', timestamp '2010-08-13 10:33:34.566686')))) [0m
Completed in 124ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/0266c23088f4012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:32:34) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-1kg5kwy-0>}, "id"=>"0268857088f4012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '0268857088f4012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:32:34.786812', "attachment_file_size" = 90488, "attachment_updated_at" = '2010-08-13 10:32:34.783567', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36546-1mllo0l' WHERE "id" = 765706[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765706/original/upload.png20100813-36546-1mllo0l
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765706/processed/upload.png20100813-36546-1mllo0l
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Completed in 37ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/0268857088f4012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:43:54) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (139.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:44:54.481732', NULL, NULL, NULL, 52.50135, '2010-08-13 10:43:54.481971', NULL, NULL, NULL, '97a98eb088f5012d8dee001f5bf1b5ba', '2010-08-13 10:43:54.481971', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:43:54.481732', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:43:54.530939', 1478095, NULL, '97b01cd088f5012d8dee001f5bf1b5ba', '2010-08-13 10:43:54.530939', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (31.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/97a98eb088f5012d8dee001f5bf1b5ba
Completed in 273ms (DB: 174) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:43:54) [GET]
  Parameters: {"id"=>"97a98eb088f5012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (4.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '97a98eb088f5012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478095) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478095) [0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478095) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:43:54.481732', timestamp '2010-08-13 10:44:54.481732')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478095) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478095) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:43:54.481732', timestamp '2010-08-13 10:44:54.481732')))) [0m
Completed in 56ms (View: 13, DB: 10) | 202 Accepted [http://localhost/events/97a98eb088f5012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:43:54) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-w8ucca-0>}, "id"=>"97b01cd088f5012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '97b01cd088f5012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.7ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:43:54.847824', "attachment_file_size" = 90868, "attachment_updated_at" = '2010-08-13 10:43:54.837233', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36649-35bmbk' WHERE "id" = 765707[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765707/original/upload.png20100813-36649-35bmbk
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765707/processed/upload.png20100813-36649-35bmbk
  [4;35;1mSQL (4.6ms)[0m   [0mCOMMIT[0m
Completed in 199ms (View: 1, DB: 7) | 200 OK [http://localhost/uploads/97b01cd088f5012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:43:55) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.3ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:44:55.812857', NULL, NULL, NULL, 52.50135, '2010-08-13 10:43:55.813069', NULL, NULL, NULL, '9874abf088f5012d8dee001f5bf1b5ba', '2010-08-13 10:43:55.813069', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:43:55.812857', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:43:55.920848', 1478096, NULL, '9876c1b088f5012d8dee001f5bf1b5ba', '2010-08-13 10:43:55.920848', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/9874abf088f5012d8dee001f5bf1b5ba
Completed in 139ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:43:55) [GET]
  Parameters: {"id"=>"9874abf088f5012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (4.3ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '9874abf088f5012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (1.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478096) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478096) [0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478096) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:43:55.812857', timestamp '2010-08-13 10:44:55.812857')))) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478096) LIMIT 1[0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478096) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:43:55.812857', timestamp '2010-08-13 10:44:55.812857')))) [0m
Completed in 48ms (View: 1, DB: 11) | 202 Accepted [http://localhost/events/9874abf088f5012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:43:56) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-1m5btn7-0>}, "id"=>"9876c1b088f5012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.2ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '9876c1b088f5012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.7ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:43:56.065990', "attachment_file_size" = 90488, "attachment_updated_at" = '2010-08-13 10:43:56.062708', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36649-18wrx9q' WHERE "id" = 765708[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765708/original/upload.png20100813-36649-18wrx9q
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765708/processed/upload.png20100813-36649-18wrx9q
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 52ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/9876c1b088f5012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:49:44) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:50:44.534683', NULL, NULL, NULL, 52.50135, '2010-08-13 10:49:44.534861', NULL, NULL, NULL, '684f670088f6012d8dee001f5bf1b5ba', '2010-08-13 10:49:44.534861', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:49:44.534683', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (22.8ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:49:44.644268', 1478097, NULL, '685f853088f6012d8dee001f5bf1b5ba', '2010-08-13 10:49:44.644268', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/684f670088f6012d8dee001f5bf1b5ba
Completed in 162ms (DB: 29) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:49:44) [GET]
  Parameters: {"id"=>"684f670088f6012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '684f670088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478097) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478097) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478097) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:49:44.534683', timestamp '2010-08-13 10:50:44.534683')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478097) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478097) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:49:44.534683', timestamp '2010-08-13 10:50:44.534683')))) [0m
Completed in 42ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/684f670088f6012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:49:44) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-1cukxra-0>}, "id"=>"685f853088f6012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '685f853088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:49:44.801868', "attachment_file_size" = 90868, "attachment_updated_at" = '2010-08-13 10:49:44.798126', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36968-1c8skpo' WHERE "id" = 765709[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765709/original/upload.png20100813-36968-1c8skpo
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765709/processed/upload.png20100813-36968-1c8skpo
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Completed in 37ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/685f853088f6012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:49:45) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:50:45.718733', NULL, NULL, NULL, 52.50135, '2010-08-13 10:49:45.718903', NULL, NULL, NULL, '6904130088f6012d8dee001f5bf1b5ba', '2010-08-13 10:49:45.718903', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:49:45.718733', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:49:45.733863', 1478098, NULL, '6905e32088f6012d8dee001f5bf1b5ba', '2010-08-13 10:49:45.733863', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/6904130088f6012d8dee001f5bf1b5ba
Completed in 134ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:49:45) [GET]
  Parameters: {"id"=>"6904130088f6012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '6904130088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478098) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478098) [0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478098) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:49:45.718733', timestamp '2010-08-13 10:50:45.718733')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478098) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478098) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:49:45.718733', timestamp '2010-08-13 10:50:45.718733')))) [0m
Completed in 40ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/6904130088f6012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:49:45) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-n3m5cg-0>}, "id"=>"6905e32088f6012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.3ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '6905e32088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:49:45.873609', "attachment_file_size" = 90488, "attachment_updated_at" = '2010-08-13 10:49:45.869780', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36968-223575' WHERE "id" = 765710[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765710/original/upload.png20100813-36968-223575
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765710/processed/upload.png20100813-36968-223575
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 56ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/6905e32088f6012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:49:46) [POST]
  Parameters: {"event"=>{"lifetime"=>"60", "latitude"=>"52.51611", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.40911"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.40911 52.51611)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 10:50:46.782139', NULL, NULL, NULL, 52.51611, '2010-08-13 10:49:46.782311', NULL, NULL, NULL, '69a656b088f6012d8dee001f5bf1b5ba', '2010-08-13 10:49:46.782311', NULL, NULL, '0101000020E6100000E1EEACDD76D12A40BC9179E40F424A40', 100.0, NULL, 'Drop', NULL, NULL, 13.40911, NULL, '2010-08-13 10:49:46.782139', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:49:46.796376', 1478099, NULL, '69a808f088f6012d8dee001f5bf1b5ba', '2010-08-13 10:49:46.796376', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/69a656b088f6012d8dee001f5bf1b5ba
Completed in 41ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:49:46) [GET]
  Parameters: {"id"=>"69a656b088f6012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '69a656b088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478099) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478099) [0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478099) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326), 0.08955723226338) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:49:46.782139', timestamp '2010-08-13 10:50:46.782139')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478099) LIMIT 1[0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478099) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326), 0.08955723226338) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:49:46.782139', timestamp '2010-08-13 10:50:46.782139')))) [0m
Completed in 42ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/69a656b088f6012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:49:46) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-av24v9-0>}, "id"=>"69a808f088f6012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = '69a808f088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:49:46.917937', "attachment_file_size" = 90488, "attachment_updated_at" = '2010-08-13 10:49:46.914609', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-36968-w5tqjx' WHERE "id" = 765711[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765711/original/upload.png20100813-36968-w5tqjx
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765711/processed/upload.png20100813-36968-w5tqjx
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 98ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/69a808f088f6012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:51:17) [POST]
  Parameters: {"event"=>{"lifetime"=>"600", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (94.6ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 11:01:17.956406', NULL, NULL, NULL, 52.50135, '2010-08-13 10:51:17.956711', NULL, NULL, NULL, '9ffe6af088f6012d8dee001f5bf1b5ba', '2010-08-13 10:51:17.956711', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:51:17.956406', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (23.1ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:51:17.976590', 1478100, NULL, 'a000f4f088f6012d8dee001f5bf1b5ba', '2010-08-13 10:51:17.976590', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/9ffe6af088f6012d8dee001f5bf1b5ba
Completed in 166ms (DB: 122) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:51:18) [GET]
  Parameters: {"id"=>"9ffe6af088f6012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (4.6ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = '9ffe6af088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478100) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478100) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478100) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:51:17.956406', timestamp '2010-08-13 11:01:17.956406')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478100) LIMIT 1[0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478100) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:51:17.956406', timestamp '2010-08-13 11:01:17.956406')))) [0m
Completed in 70ms (View: 22, DB: 10) | 202 Accepted [http://localhost/events/9ffe6af088f6012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:51:18) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-10n2kgr-0>}, "id"=>"a000f4f088f6012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'a000f4f088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.8ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:51:18.288489', "attachment_file_size" = 90868, "attachment_updated_at" = '2010-08-13 10:51:18.209892', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-37005-ecfeoy' WHERE "id" = 765712[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765712/original/upload.png20100813-37005-ecfeoy
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765712/processed/upload.png20100813-37005-ecfeoy
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Completed in 168ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/a000f4f088f6012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:51:19) [POST]
  Parameters: {"event"=>{"lifetime"=>"600", "latitude"=>"52.50135", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.34415"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.34415 52.50135)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 11:01:19.168467', NULL, NULL, NULL, 52.50135, '2010-08-13 10:51:19.168659', NULL, NULL, NULL, 'a0b75f0088f6012d8dee001f5bf1b5ba', '2010-08-13 10:51:19.168659', NULL, NULL, '0101000020E610000039D6C56D34B02A40C0EC9E3C2C404A40', 100.0, NULL, 'Drop', NULL, NULL, 13.34415, NULL, '2010-08-13 10:51:19.168467', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:51:19.184428', 1478101, NULL, 'a0b941d088f6012d8dee001f5bf1b5ba', '2010-08-13 10:51:19.184428', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a0b75f0088f6012d8dee001f5bf1b5ba
Completed in 47ms (DB: 6) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:51:19) [GET]
  Parameters: {"id"=>"a0b75f0088f6012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'a0b75f0088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478101) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478101) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478101) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:51:19.168467', timestamp '2010-08-13 11:01:19.168467')))) [0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478101) LIMIT 1[0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478101) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326), 0.0895271612531916) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.34415 52.50135)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:51:19.168467', timestamp '2010-08-13 11:01:19.168467')))) [0m
Completed in 43ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/a0b75f0088f6012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:51:19) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-rbon7z-0>}, "id"=>"a0b941d088f6012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'a0b941d088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.5ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:51:19.388247', "attachment_file_size" = 90488, "attachment_updated_at" = '2010-08-13 10:51:19.384987', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-37005-bd8p95' WHERE "id" = 765713[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765713/original/upload.png20100813-37005-bd8p95
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765713/processed/upload.png20100813-37005-bd8p95
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Completed in 41ms (View: 1, DB: 3) | 200 OK [http://localhost/uploads/a0b941d088f6012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-13 12:51:20) [POST]
  Parameters: {"event"=>{"lifetime"=>"600", "latitude"=>"52.51611", "location_accuracy"=>"100", "type"=>"Drop", "longitude"=>"13.40911"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.40911 52.51611)', 4326)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-13 11:01:20.203397', NULL, NULL, NULL, 52.51611, '2010-08-13 10:51:20.203575', NULL, NULL, NULL, 'a155490088f6012d8dee001f5bf1b5ba', '2010-08-13 10:51:20.203575', NULL, NULL, '0101000020E6100000E1EEACDD76D12A40BC9179E40F424A40', 100.0, NULL, 'Drop', NULL, NULL, 13.40911, NULL, '2010-08-13 10:51:20.203397', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-13 10:51:20.218782', 1478102, NULL, 'a157196088f6012d8dee001f5bf1b5ba', '2010-08-13 10:51:20.218782', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost/events/a155490088f6012d8dee001f5bf1b5ba
Completed in 47ms (DB: 7) | 303 See Other [http://localhost/events]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-13 12:51:20) [GET]
  Parameters: {"id"=>"a155490088f6012d8dee001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'a155490088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mAccessPointSighting Load (0.6ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478102) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478102) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478102) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326), 0.08955723226338) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:51:20.203397', timestamp '2010-08-13 11:01:20.203397')))) [0m
  [4;35;1mUpload Load (0.7ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478102) LIMIT 1[0m
  [4;36;1mEvent Load (0.7ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478102) AND ("events"."type" = 'Pick')) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326), 0.08955723226338) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.40911 52.51611)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 100.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-13 10:51:20.203397', timestamp '2010-08-13 11:01:20.203397')))) [0m
Completed in 43ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/a155490088f6012d8dee001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-13 12:51:20) [PUT]
  Parameters: {"upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100813-35688-ieudnu-0>}, "id"=>"a157196088f6012d8dee001f5bf1b5ba"}
  [4;36;1mUpload Load (1.0ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'a157196088f6012d8dee001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.6ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-13 10:51:20.425525', "attachment_file_size" = 90488, "attachment_updated_at" = '2010-08-13 10:51:20.420999', "attachment_content_type" = 'image/png', "attachment_file_name" = 'upload.png20100813-37005-thxbfo' WHERE "id" = 765714[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765714/original/upload.png20100813-37005-thxbfo
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765714/processed/upload.png20100813-37005-thxbfo
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 48ms (View: 2, DB: 3) | 200 OK [http://localhost/uploads/a157196088f6012d8dee001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-27 14:43:32) [POST]
  Parameters: {"peer"=>{"gesture"=>"pass", "latitude"=>"52.51679915", "accuracy"=>"80", "longitude"=>"13.4090414", "seeder"=>"1"}}

SyntaxError (/Volumes/Data/Artcom/hoccer/server/app/models/hoccer/pass.rb:36: syntax error, unexpected ')', expecting kEND):
  app/models/event.rb:300
  app/controllers/events_controller.rb:26:in `create'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (106.6ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-27 14:44:00) [POST]
  Parameters: {"peer"=>{"gesture"=>"pass", "latitude"=>"52.51679915", "accuracy"=>"80", "longitude"=>"13.4090414", "seeder"=>"1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (517.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSQL (391.1ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-27 12:44:08.285628', NULL, NULL, NULL, 52.51679915, '2010-08-27 12:44:01.285783', NULL, NULL, NULL, 'b10543a09406012d8def001f5bf1b5ba', '2010-08-27 12:44:01.285783', NULL, NULL, '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', 80.0, NULL, 'SweepOut', NULL, NULL, 13.4090414, 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', '2010-08-27 12:44:01.260837', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mSQL (229.3ms)[0m   [0mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-27 12:44:01.894856', 1478103, NULL, 'b16295709406012d8def001f5bf1b5ba', '2010-08-27 12:44:01.894856', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;36;1mAccessPointSighting Load (67.3ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478103) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478103) [0m
  [4;36;1mSQL (295.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478103) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:44:01.260837', timestamp '2010-08-27 12:44:08.285628')))) [0m
  [4;35;1mEvent Load (1.6ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478103) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:44:01.260837', timestamp '2010-08-27 12:44:08.285628')))) [0m
  [4;36;1mSQL (45.4ms)[0m   [0;1mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-08-27 12:44:02.533734', '2010-08-27 12:44:02.533734', NULL) RETURNING "id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepOut Update (0.9ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-08-27 12:44:01.260837', "updated_at" = '2010-08-27 12:44:02.651987', "created_at" = '2010-08-27 12:44:01.285783', "longitude" = 13.4090414, "point" = '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', "latitude" = 52.51679915, "ending_at" = '2010-08-27 12:44:08.285628', "event_group_id" = 1202330, "location_accuracy" = 80.0, "uuid" = 'b10543a09406012d8def001f5bf1b5ba', "api_version" = 2, "user_agent" = 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', "type" = 'SweepOut' WHERE "id" = 1478103[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepOut Update (0.3ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-08-27 12:44:02.656543', "api_version" = 1 WHERE "id" = 1478103[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mUpload Load (24.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478103) LIMIT 1[0m
Completed in 2550ms (View: 206, DB: 1576) | 200 OK [http://localhost/peers]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-27 14:44:03) [PUT]
  Parameters: {"Filename"=>"8cdcde4e15f121c75ef24de877d9bdec59173759_m.jpg", "folder"=>"/", "upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100827-46028-b1q9kk-0>}, "id"=>"b16295709406012d8def001f5bf1b5ba", "Upload"=>"Submit Query"}
  [4;36;1mUpload Load (1.8ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'b16295709406012d8def001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.7ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-27 12:44:03.394695', "attachment_file_size" = 21928, "attachment_updated_at" = '2010-08-27 12:44:03.390914', "attachment_content_type" = 'application/octet-stream', "attachment_file_name" = '8cdcde4e15f121c75ef24de877d9bdec59173759_m.jpg' WHERE "id" = 765715[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765715/processed/8cdcde4e15f121c75ef24de877d9bdec59173759_m.jpg
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765715/original/8cdcde4e15f121c75ef24de877d9bdec59173759_m.jpg
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.4ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-08-27 12:44:04.165846', "attachment_content_type" = 'image/jpeg' WHERE "id" = 765715[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 845ms (View: 2, DB: 6) | 200 OK [http://localhost/uploads/b16295709406012d8def001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-27 14:44:05) [POST]
  Parameters: {"peer"=>{"gesture"=>"pass", "latitude"=>"52.51679915", "accuracy"=>"80", "longitude"=>"13.4090414"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (42.8ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-27 12:44:12.489144', NULL, NULL, NULL, 52.51679915, '2010-08-27 12:44:05.489346', NULL, NULL, NULL, 'b38a71409406012d8def001f5bf1b5ba', '2010-08-27 12:44:05.489346', NULL, NULL, '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', 80.0, NULL, 'SweepIn', NULL, NULL, 13.4090414, 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', '2010-08-27 12:44:05.488999', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;35;1mAccessPointSighting Load (0.8ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478104) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478104) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478104) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:44:05.488999', timestamp '2010-08-27 12:44:12.489144')))) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSweepIn Update (0.5ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-08-27 12:44:05.488999', "updated_at" = '2010-08-27 12:44:05.553954', "created_at" = '2010-08-27 12:44:05.489346', "longitude" = 13.4090414, "point" = '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', "latitude" = 52.51679915, "ending_at" = '2010-08-27 12:44:12.489144', "location_accuracy" = 80.0, "pairing_mode" = 1, "uuid" = 'b38a71409406012d8def001f5bf1b5ba', "api_version" = 2, "user_agent" = 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', "type" = 'SweepIn' WHERE "id" = 1478104[0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478104) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:44:05.488999', timestamp '2010-08-27 12:44:12.489144')))) [0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202330) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSweepIn Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-08-27 12:44:05.566544', "event_group_id" = 1202330 WHERE "id" = 1478104[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSweepIn Update (0.3ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-08-27 12:44:05.569516', "api_version" = 1 WHERE "id" = 1478104[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 146ms (View: 1, DB: 89) | 200 OK [http://localhost/peers]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:44:06) [GET]
  Parameters: {"id"=>"b38a71409406012d8def001f5bf1b5ba"}
  [4;36;1mEvent Load (4.3ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = 'b38a71409406012d8def001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202330) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 1202330) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202330)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202330)) [0m
  [4;35;1mEvent Load (0.6ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.3ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202330) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
Completed in 171ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/b38a71409406012d8def001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:44:07) [GET]
  Parameters: {"id"=>"b38a71409406012d8def001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = 'b38a71409406012d8def001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202330) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 1202330) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202330)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202330)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mEvent Update (1.8ms)[0m   [0;1mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202330) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
Completed in 39ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/b38a71409406012d8def001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:44:08) [GET]
  Parameters: {"id"=>"b38a71409406012d8def001f5bf1b5ba"}
  [4;36;1mEvent Load (3.0ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events"."uuid" = 'b38a71409406012d8def001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mEventGroup Load (0.4ms)[0m   [0mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202330) [0m
  [4;36;1mEvent Load (0.4ms)[0m   [0;1mSELECT * FROM "events" WHERE ("events".event_group_id = 1202330) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202330)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202330)) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202330)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202330)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202330)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202330) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202330)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202330)) [0m
  [4;36;1mEvent Update (2.3ms)[0m   [0;1mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 1202330) [0m
  [4;35;1mEvent Load (0.3ms)[0m   [0mSELECT * FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202330)) LIMIT 1[0m
  [4;36;1mUpload Load (0.5ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478103) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 8) | 200 OK [http://localhost/events/b38a71409406012d8def001f5bf1b5ba]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:44:09) [GET]
  Parameters: {"id"=>"b16295709406012d8def001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'b16295709406012d8def001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/b16295709406012d8def001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765715/processed/8cdcde4e15f121c75ef24de877d9bdec59173759_m.jpg
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:44:10) [GET]
  Parameters: {"id"=>"b16295709406012d8def001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'b16295709406012d8def001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 14ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/b16295709406012d8def001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765715/processed/8cdcde4e15f121c75ef24de877d9bdec59173759_m.jpg
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:44:10) [GET]
  Parameters: {"id"=>"b16295709406012d8def001f5bf1b5ba"}
  [4;36;1mUpload Load (0.9ms)[0m   [0;1mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'b16295709406012d8def001f5bf1b5ba') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/b16295709406012d8def001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765715/processed/8cdcde4e15f121c75ef24de877d9bdec59173759_m.jpg
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-27 14:53:05) [POST]
  Parameters: {"peer"=>{"gesture"=>"pass", "latitude"=>"52.51679915", "accuracy"=>"80", "longitude"=>"13.4090414", "seeder"=>"1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (97.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSQL (16.2ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-27 12:53:12.240809', NULL, NULL, NULL, 52.51679915, '2010-08-27 12:53:05.240965', NULL, NULL, NULL, 'f53f6b609407012d8df0001f5bf1b5ba', '2010-08-27 12:53:05.240965', NULL, NULL, '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', 80.0, NULL, 'SweepOut', NULL, NULL, 13.4090414, 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', '2010-08-27 12:53:05.223772', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (46.9ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-27 12:53:05.396293', 1478105, NULL, 'f5593e809407012d8df0001f5bf1b5ba', '2010-08-27 12:53:05.396293', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (21.8ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478105) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478105) [0m
  [4;35;1mSQL (89.4ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478105) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:05.223772', timestamp '2010-08-27 12:53:12.240809')))) [0m
  [4;36;1mEvent Load (1.4ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478105) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:05.223772', timestamp '2010-08-27 12:53:12.240809')))) [0m
  [4;35;1mSQL (14.2ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-08-27 12:53:05.578741', '2010-08-27 12:53:05.578741', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSweepOut Update (1.1ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-08-27 12:53:05.223772', "updated_at" = '2010-08-27 12:53:05.599322', "created_at" = '2010-08-27 12:53:05.240965', "longitude" = 13.4090414, "point" = '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', "latitude" = 52.51679915, "ending_at" = '2010-08-27 12:53:12.240809', "event_group_id" = 1202331, "location_accuracy" = 80.0, "uuid" = 'f53f6b609407012d8df0001f5bf1b5ba', "api_version" = 2, "user_agent" = 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', "type" = 'SweepOut' WHERE "id" = 1478105[0m
  [4;36;1mSQL (25.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSweepOut Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-08-27 12:53:05.628817', "api_version" = 1 WHERE "id" = 1478105[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUpload Load (21.4ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478105) LIMIT 1[0m
Completed in 725ms (View: 77, DB: 337) | 200 OK [http://localhost/peers]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-27 14:53:06) [PUT]
  Parameters: {"Filename"=>"1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg", "folder"=>"/", "upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100827-46873-1odcvzg-0>}, "id"=>"f5593e809407012d8df0001f5bf1b5ba", "Upload"=>"Submit Query"}
  [4;35;1mUpload Load (1.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'f5593e809407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.7ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-08-27 12:53:06.403366', "attachment_file_size" = 53508, "attachment_updated_at" = '2010-08-27 12:53:06.399594', "attachment_content_type" = 'application/octet-stream', "attachment_file_name" = '1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg' WHERE "id" = 765716[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765716/original/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765716/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.4ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-27 12:53:06.659005', "attachment_content_type" = 'image/jpeg' WHERE "id" = 765716[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Completed in 366ms (View: 1, DB: 5) | 200 OK [http://localhost/uploads/f5593e809407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-27 14:53:07) [POST]
  Parameters: {"peer"=>{"gesture"=>"pass", "latitude"=>"52.51679915", "accuracy"=>"80", "longitude"=>"13.4090414"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-27 12:53:14.615007', NULL, NULL, NULL, 52.51679915, '2010-08-27 12:53:07.615131', NULL, NULL, NULL, 'f6ac4c609407012d8df0001f5bf1b5ba', '2010-08-27 12:53:07.615131', NULL, NULL, '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', 80.0, NULL, 'SweepIn', NULL, NULL, 13.4090414, 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', '2010-08-27 12:53:07.614914', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.7ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478106) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478106) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478106) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:07.614914', timestamp '2010-08-27 12:53:14.615007')))) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-08-27 12:53:07.614914', "updated_at" = '2010-08-27 12:53:07.751464', "created_at" = '2010-08-27 12:53:07.615131', "longitude" = 13.4090414, "point" = '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', "latitude" = 52.51679915, "ending_at" = '2010-08-27 12:53:14.615007', "location_accuracy" = 80.0, "pairing_mode" = 1, "uuid" = 'f6ac4c609407012d8df0001f5bf1b5ba', "api_version" = 2, "user_agent" = 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', "type" = 'SweepIn' WHERE "id" = 1478106[0m
  [4;35;1mEvent Load (46.5ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478106) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:07.614914', timestamp '2010-08-27 12:53:14.615007')))) [0m
  [4;36;1mEventGroup Load (0.6ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202331) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-08-27 12:53:07.814487', "event_group_id" = 1202331 WHERE "id" = 1478106[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepIn Update (0.3ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-08-27 12:53:07.818288', "api_version" = 1 WHERE "id" = 1478106[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Completed in 227ms (View: 1, DB: 60) | 200 OK [http://localhost/peers]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:08) [GET]
  Parameters: {"id"=>"f6ac4c609407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.2ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'f6ac4c609407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202331) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202331) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202331)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202331) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
Completed in 39ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/f6ac4c609407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:09) [GET]
  Parameters: {"id"=>"f6ac4c609407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'f6ac4c609407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202331) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202331) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202331)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.2ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202331) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
Completed in 42ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/f6ac4c609407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:10) [GET]
  Parameters: {"id"=>"f6ac4c609407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'f6ac4c609407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202331) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202331) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202331)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202331) [0m
  [4;36;1mEvent Load (0.8ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
Completed in 103ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/f6ac4c609407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:11) [GET]
  Parameters: {"id"=>"f6ac4c609407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'f6ac4c609407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202331) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202331) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202331)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202331) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
Completed in 39ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/f6ac4c609407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:12) [GET]
  Parameters: {"id"=>"f6ac4c609407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'f6ac4c609407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202331) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202331) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202331)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202331) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202331)) [0m
  [4;35;1mEvent Update (2.5ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 1202331) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202331)) LIMIT 1[0m
  [4;35;1mUpload Load (0.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478105) LIMIT 1[0m
Completed in 53ms (View: 1, DB: 9) | 200 OK [http://localhost/events/f6ac4c609407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:53:13) [GET]
  Parameters: {"id"=>"f5593e809407012d8df0001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'f5593e809407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 14ms (View: 1, DB: 2) | 200 OK [http://localhost/uploads/f5593e809407012d8df0001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765716/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:53:14) [GET]
  Parameters: {"id"=>"f5593e809407012d8df0001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'f5593e809407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 14ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/f5593e809407012d8df0001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765716/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:53:15) [GET]
  Parameters: {"id"=>"f5593e809407012d8df0001f5bf1b5ba"}
  [4;35;1mUpload Load (0.9ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'f5593e809407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Completed in 14ms (View: 1, DB: 2) | 200 OK [http://localhost/uploads/f5593e809407012d8df0001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765716/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-27 14:53:21) [POST]
  Parameters: {"peer"=>{"gesture"=>"pass", "latitude"=>"52.51679915", "accuracy"=>"80", "longitude"=>"13.4090414", "seeder"=>"1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-27 12:53:28.547415', NULL, NULL, NULL, 52.51679915, '2010-08-27 12:53:21.547530', NULL, NULL, NULL, 'fefa38109407012d8df0001f5bf1b5ba', '2010-08-27 12:53:21.547530', NULL, NULL, '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', 80.0, NULL, 'SweepOut', NULL, NULL, 13.4090414, 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', '2010-08-27 12:53:21.547333', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mSQL (26.4ms)[0m   [0;1mINSERT INTO "uploads" ("attachment_file_name", "attachment_content_type", "attachment_file_size", "created_at", "event_id", "peer_id", "uuid", "updated_at", "attachment_updated_at") VALUES(NULL, NULL, NULL, '2010-08-27 12:53:21.602321', 1478107, NULL, 'ff01fdc09407012d8df0001f5bf1b5ba', '2010-08-27 12:53:21.602321', NULL) RETURNING "id"[0m
[paperclip] Saving attachments.
  [4;35;1mAccessPointSighting Load (0.7ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478107) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478107) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478107) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:21.547333', timestamp '2010-08-27 12:53:28.547415')))) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT * FROM "events" WHERE (((events.id != 1478107) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:21.547333', timestamp '2010-08-27 12:53:28.547415')))) [0m
  [4;35;1mSQL (26.5ms)[0m   [0mINSERT INTO "event_groups" ("created_at", "updated_at", "type") VALUES('2010-08-27 12:53:21.711543', '2010-08-27 12:53:21.711543', NULL) RETURNING "id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSweepOut Update (0.8ms)[0m   [0mUPDATE "events" SET "starting_at" = '2010-08-27 12:53:21.547333', "updated_at" = '2010-08-27 12:53:21.743836', "created_at" = '2010-08-27 12:53:21.547530', "longitude" = 13.4090414, "point" = '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', "latitude" = 52.51679915, "ending_at" = '2010-08-27 12:53:28.547415', "event_group_id" = 1202332, "location_accuracy" = 80.0, "uuid" = 'fefa38109407012d8df0001f5bf1b5ba', "api_version" = 2, "user_agent" = 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', "type" = 'SweepOut' WHERE "id" = 1478107[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSweepOut Update (0.4ms)[0m   [0mUPDATE "events" SET "updated_at" = '2010-08-27 12:53:21.747697', "api_version" = 1 WHERE "id" = 1478107[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUpload Load (18.2ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478107) LIMIT 1[0m
Completed in 242ms (View: 1, DB: 85) | 200 OK [http://localhost/peers]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#update (for 127.0.0.1 at 2010-08-27 14:53:21) [PUT]
  Parameters: {"Filename"=>"1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg", "folder"=>"/", "upload"=>{"attachment"=>#<File:/var/folders/0M/0M4Sm+FaElqW0-8qHhK-BU+++TI/-Tmp-/RackMultipart20100827-46873-8ag5a6-0>}, "id"=>"ff01fdc09407012d8df0001f5bf1b5ba", "Upload"=>"Submit Query"}
  [4;35;1mUpload Load (1.6ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'ff01fdc09407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUpload Update (0.6ms)[0m   [0mUPDATE "uploads" SET "updated_at" = '2010-08-27 12:53:21.974301', "attachment_file_size" = 53508, "attachment_updated_at" = '2010-08-27 12:53:21.971339', "attachment_content_type" = 'application/octet-stream', "attachment_file_name" = '1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg' WHERE "id" = 765717[0m
[paperclip] Saving attachments.
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765717/original/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
[paperclip] saving /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765717/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUpload Update (0.4ms)[0m   [0;1mUPDATE "uploads" SET "updated_at" = '2010-08-27 12:53:22.019882', "attachment_content_type" = 'image/jpeg' WHERE "id" = 765717[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (33.4ms)[0m   [0mCOMMIT[0m
Completed in 216ms (View: 2, DB: 37) | 200 OK [http://localhost/uploads/ff01fdc09407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#create (for 127.0.0.1 at 2010-08-27 14:53:23) [POST]
  Parameters: {"peer"=>{"gesture"=>"pass", "latitude"=>"52.51679915", "accuracy"=>"80", "longitude"=>"13.4090414"}}
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "events" ("ending_at", "model", "brand", "device", "latitude", "created_at", "event_group_id", "network_type", "timestamp", "uuid", "updated_at", "network_operator", "client_uuid", "point", "location_accuracy", "hoccability", "type", "pairing_mode", "manufacturer", "longitude", "user_agent", "starting_at", "local_ip", "api_version", "state", "version_sdk") VALUES('2010-08-27 12:53:30.065063', NULL, NULL, NULL, 52.51679915, '2010-08-27 12:53:23.065184', NULL, NULL, NULL, 'ffe1ca509407012d8df0001f5bf1b5ba', '2010-08-27 12:53:23.065184', NULL, NULL, '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', 80.0, NULL, 'SweepIn', NULL, NULL, 13.4090414, 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', '2010-08-27 12:53:23.064972', NULL, 2, 'waiting', NULL) RETURNING "id"[0m
  [4;36;1mAccessPointSighting Load (0.5ms)[0m   [0;1mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478108) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT bssid FROM "access_point_sightings" WHERE ("access_point_sightings".event_id = 1478108) [0m
  [4;36;1mSQL (41.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (((events.id != 1478108) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:23.064972', timestamp '2010-08-27 12:53:30.065063')))) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepIn Update (0.5ms)[0m   [0;1mUPDATE "events" SET "starting_at" = '2010-08-27 12:53:23.064972', "updated_at" = '2010-08-27 12:53:23.172709', "created_at" = '2010-08-27 12:53:23.065184', "longitude" = 13.4090414, "point" = '0101000020E61000008C6BD7DF6DD12A40E0EC7B7926424A40', "latitude" = 52.51679915, "ending_at" = '2010-08-27 12:53:30.065063', "location_accuracy" = 80.0, "pairing_mode" = 1, "uuid" = 'ffe1ca509407012d8df0001f5bf1b5ba', "api_version" = 2, "user_agent" = 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) Version/5.0.1 Safari/533.17.8', "type" = 'SweepIn' WHERE "id" = 1478108[0m
  [4;35;1mEvent Load (0.8ms)[0m   [0mSELECT * FROM "events" WHERE (((events.id != 1478108) AND ("events"."type" IN ('SweepOut','SweepIn'))) AND ((ST_DWithin(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326), 0.0895586369291217) AND ST_Distance_Sphere(point, ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)) <= 100 + least(5050, 2*(location_accuracy + 80.0))) AND ((events.starting_at, events.ending_at) OVERLAPS (timestamp '2010-08-27 12:53:23.064972', timestamp '2010-08-27 12:53:30.065063')))) [0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202332) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepIn Update (0.4ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-08-27 12:53:23.184771', "event_group_id" = 1202332 WHERE "id" = 1478108[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT ST_GeomFromText('POINT(13.4090414 52.51679915)', 4326)[0m
  [4;36;1mSweepIn Update (0.3ms)[0m   [0;1mUPDATE "events" SET "updated_at" = '2010-08-27 12:53:23.188038', "api_version" = 1 WHERE "id" = 1478108[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 148ms (View: 1, DB: 51) | 200 OK [http://localhost/peers]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:24) [GET]
  Parameters: {"id"=>"ffe1ca509407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.1ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'ffe1ca509407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202332) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202332) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.3ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202332) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
Completed in 40ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/ffe1ca509407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:25) [GET]
  Parameters: {"id"=>"ffe1ca509407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'ffe1ca509407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202332) [0m
  [4;35;1mEvent Load (0.5ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202332) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (35.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202332) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
Completed in 77ms (View: 1, DB: 42) | 202 Accepted [http://localhost/events/ffe1ca509407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:26) [GET]
  Parameters: {"id"=>"ffe1ca509407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'ffe1ca509407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202332) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202332) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202332) [0m
  [4;36;1mEvent Load (0.9ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
Completed in 39ms (View: 1, DB: 8) | 202 Accepted [http://localhost/events/ffe1ca509407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:27) [GET]
  Parameters: {"id"=>"ffe1ca509407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'ffe1ca509407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202332) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202332) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.7ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202332) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
Completed in 40ms (View: 1, DB: 7) | 202 Accepted [http://localhost/events/ffe1ca509407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:28) [GET]
  Parameters: {"id"=>"ffe1ca509407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.7ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'ffe1ca509407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202332) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202332) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mEvent Load (0.6ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mEvent Update (1.8ms)[0m   [0mUPDATE "events" SET state = 'waiting' WHERE (event_group_id = 1202332) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
Completed in 42ms (View: 1, DB: 9) | 202 Accepted [http://localhost/events/ffe1ca509407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing EventsController#show (for 127.0.0.1 at 2010-08-27 14:53:29) [GET]
  Parameters: {"id"=>"ffe1ca509407012d8df0001f5bf1b5ba"}
  [4;35;1mEvent Load (3.0ms)[0m   [0mSELECT * FROM "events" WHERE ("events"."uuid" = 'ffe1ca509407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mEventGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "event_groups" WHERE ("event_groups"."id" = 1202332) [0m
  [4;35;1mEvent Load (0.4ms)[0m   [0mSELECT * FROM "events" WHERE ("events".event_group_id = 1202332) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mEvent Load (0.5ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT ending_at, created_at, event_group_id FROM "events" WHERE ("events"."event_group_id" = 1202332) ORDER BY created_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "events" WHERE (("events"."type" = 'SweepIn') AND ("events".event_group_id = 1202332)) [0m
  [4;35;1mEvent Update (1.9ms)[0m   [0mUPDATE "events" SET state = 'ready' WHERE (event_group_id = 1202332) [0m
  [4;36;1mEvent Load (0.3ms)[0m   [0;1mSELECT * FROM "events" WHERE (("events"."type" = 'SweepOut') AND ("events".event_group_id = 1202332)) LIMIT 1[0m
  [4;35;1mUpload Load (0.8ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads".event_id = 1478107) LIMIT 1[0m
Completed in 111ms (View: 1, DB: 8) | 200 OK [http://localhost/events/ffe1ca509407012d8df0001f5bf1b5ba]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:53:30) [GET]
  Parameters: {"id"=>"ff01fdc09407012d8df0001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'ff01fdc09407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 65ms (View: 1, DB: 2) | 200 OK [http://localhost/uploads/ff01fdc09407012d8df0001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765717/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:53:31) [GET]
  Parameters: {"id"=>"ff01fdc09407012d8df0001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'ff01fdc09407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 15ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/ff01fdc09407012d8df0001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765717/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing UploadsController#show (for 127.0.0.1 at 2010-08-27 14:53:32) [GET]
  Parameters: {"id"=>"ff01fdc09407012d8df0001f5bf1b5ba"}
  [4;35;1mUpload Load (1.0ms)[0m   [0mSELECT * FROM "uploads" WHERE ("uploads"."uuid" = 'ff01fdc09407012d8df0001f5bf1b5ba') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Completed in 13ms (View: 1, DB: 1) | 200 OK [http://localhost/uploads/ff01fdc09407012d8df0001f5bf1b5ba]
Streaming file /Volumes/Data/Artcom/hoccer/server/public/system/attachments/765717/processed/1c40fd69862ea2741610fb5c57f9b5529e5f87da_m.jpg
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (99.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (271.8ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (109.8ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (151.6ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (48.4ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (43.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (656.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (174.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (52.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (30.5ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (14.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (19.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (39.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (7.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (184.9ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (34.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (87.5ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (315.2ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (76.3ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.8ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (21.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.3ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (23.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (42.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (142.9ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (30.8ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (235.4ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (30.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (2.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (21.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (929.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (1.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (10.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (59.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (92.5ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (26.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (30.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (68.2ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (498.8ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (27.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (54.6ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.8ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (73.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.6ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (31.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (24.7ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (23.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.6ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (41.3ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (9.2ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.1ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (13.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (40.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (18.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (9.8ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (26.1ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (13.0ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (42.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (226.3ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (92.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (164.8ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (29.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (510.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (58.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (44.5ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.5ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (11.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (2.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (163.1ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (48.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (39.2ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (27.0ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (297.5ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.5ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (66.0ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (30.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (19.6ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (20.8ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (29.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (131.3ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (33.3ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (10.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (170.0ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (179.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.0ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (52.4ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (26.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (23.5ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (202.7ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (17.1ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (37.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (39.6ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (21.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (21.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (8.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (6.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.5ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (26.6ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (55.6ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.9ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (51.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (47.1ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (103.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (30.3ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (86.9ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (342.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (51.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (53.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (5.8ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (5.2ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (6.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (223.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.7ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (139.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (224.5ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (291.0ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (40.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (44.9ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (84.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (447.5ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (12.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (491.5ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (52.5ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (15.1ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (12.3ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (1.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (5.6ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (6.8ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (7.4ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (12.5ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (65.0ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (8.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (33.5ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (32.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (24.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (13.5ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (21.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (214.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (15.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (24.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (9.9ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (12.0ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (33.9ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (17.3ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.2ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (34.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (50.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (1.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (18.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (19.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.5ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.9ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.2ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.7ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (41.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (12.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.7ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (19.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (30.4ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (7.7ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (15.5ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (12.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (31.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.2ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (25.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.4ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (14.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (2.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (34.9ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.6ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (8.3ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (28.2ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (17.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.1ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.7ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (36.9ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (11.2ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (20.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (41.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (28.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.5ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (137.2ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (449.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (8.9ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (15.6ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (26.0ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (17.1ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.4ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.7ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (7.3ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (23.3ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (16.9ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (16.0ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (17.8ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (256.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (14.1ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (42.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (26.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (3.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (8.8ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (8.1ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.1ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (39.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (19.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (13.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.9ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.4ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (18.6ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (13.6ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (16.2ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (47.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (64.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (16.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (19.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (8.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.1ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (12.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (6.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.4ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (12.1ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.6ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (47.3ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (20.1ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (26.7ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (24.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.6ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (16.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.2ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (8.6ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.0ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (12.2ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (47.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.3ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (118.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (15.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (14.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (28.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (10.2ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (17.7ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (13.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (20.0ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.8ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (34.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.6ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.9ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (15.4ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (9.2ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (5.7ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.4ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (37.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.8ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (19.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (10.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.6ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (44.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.1ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (5.5ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (17.3ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (11.3ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.9ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mALTER TABLE "events" DROP "local_ip"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "network_type"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "network_operator"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "model"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "brand"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "device"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "manufacturer"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" DROP "version_sdk"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "hoccability"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "timestamp"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "client_uuid"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100603102940'[0m
  [4;35;1mSQL (23.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.1ms)[0m   [0mDROP TABLE "error_reports"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100429090412'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP INDEX "index_uploads_on_uuid"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP INDEX "index_uploads_on_event_id"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419154652'[0m
  [4;36;1mSQL (10.8ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_event_id"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419151822'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (24.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135403'[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_access_point_sightings_on_bssid"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100419135231'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mALTER TABLE "events" DROP "pairing_mode"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100330142652'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (12.6ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100325091142'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_event_group_id"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP INDEX "index_events_on_starting_at"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP INDEX "index_events_on_ending_at"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_uuid"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP INDEX "index_events_on_state"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP INDEX "index_events_on_type"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100325090435'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "events" DROP "state"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100324103945'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "events" DROP "user_agent"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" DROP "api_version"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100322143751'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "uploads" DROP "peer_id"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100317112253'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "uploads"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315160733'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" DROP "location_accuracy"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100315122414'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "event_groups"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100312150735'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "access_point_sightings"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100311162618'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "events"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100310101026'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "access_points_peers"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141641'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "access_points"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100115141154'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "peer_groups"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819041149'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "peers"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090819035916'[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePeers (20090819035916)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (7.0ms)[0m   [0mCREATE TABLE "peers" ("id" serial primary key, "uid" character varying(255), "gesture" character varying(255), "latitude" float, "longitude" float, "accuracy" float, "seeder" boolean DEFAULT 'f', "peer_group_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819035916')[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Migrating to CreatePeerGroups (20090819041149)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "peer_groups" ("id" serial primary key, "expires_at" timestamp, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090819041149')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPoints (20100115141154)
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (20.3ms)[0m   [0mCREATE TABLE "access_points" ("id" serial primary key, "bssid" character varying(255), "latitude" float, "longitude" float, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141154')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddJoinTableForAccessPointsAndPeers (20100115141641)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "access_points_peers" ("access_point_id" integer, "peer_id" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100115141641')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Migrating to CreateEvents (20100310101026)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (6.0ms)[0m   [0mCREATE TABLE "events" ("id" serial primary key, "event_group_id" integer, "longitude" float, "latitude" float, "type" character varying(255), "starting_at" timestamp, "ending_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (9.5ms)[0m   [0;1mSELECT AddGeometryColumn('events', 'point', 4326, 'POINT', 2)[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE INDEX events_point_index ON events USING GIST (point)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100310101026')[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateAccessPointSightings (20100311162618)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "access_point_sightings" ("id" serial primary key, "bssid" character varying(255), "signal" float, "event_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100311162618')[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCOMMIT[0m
Migrating to CreateEventGroups (20100312150735)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "event_groups" ("id" serial primary key, "type" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100312150735')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddLocationAccuracyToEvents (20100315122414)
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "location_accuracy" float[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315122414')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Migrating to CreateUploads (20100315160733)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (17.7ms)[0m   [0mCREATE TABLE "uploads" ("id" serial primary key, "event_id" integer, "attachment_file_name" character varying(255), "attachment_content_type" character varying(255), "attachment_file_size" integer, "attachment_updated_at" timestamp, "uuid" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100315160733')[0m
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Migrating to AddPeerIdOnUploadsForLegacyServer (20100317112253)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "uploads" ADD COLUMN "peer_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100317112253')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to AddUserAgentAndVersionToEvents (20100322143751)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "user_agent" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "api_version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100322143751')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Migrating to AddStateColumnToEvents (20100324103945)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "state" character varying(255)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100324103945')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndicesToEvents (20100325090435)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCREATE INDEX "index_events_on_event_group_id" ON "events" ("event_group_id")[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE INDEX "index_events_on_starting_at" ON "events" ("starting_at")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_events_on_ending_at" ON "events" ("ending_at")[0m
  [4;35;1mSQL (20.0ms)[0m   [0mCREATE INDEX "index_events_on_uuid" ON "events" ("uuid")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE INDEX "index_events_on_state" ON "events" ("state")[0m
  [4;35;1mSQL (225.7ms)[0m   [0mCREATE INDEX "index_events_on_type" ON "events" ("type")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100325090435')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
Migrating to AddDefaultStateForEvents (20100325091142)
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (12.8ms)[0m   [0mALTER TABLE "events" ALTER COLUMN "state" TYPE character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "state" SET DEFAULT 'waiting'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100325091142')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
Migrating to AddPairingModeColumnToEventsForDiagnostics (20100330142652)
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "pairing_mode" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100330142652')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightings (20100419135231)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_bssid" ON "access_point_sightings" ("bssid")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135231')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Migrating to ChangeUserAgentColumnFromVarcharToText (20100419135403)
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (10.2ms)[0m   [0;1mALTER TABLE "events" ALTER COLUMN "user_agent" TYPE text[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419135403')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnAccessPointSightingsEventIdColumn (20100419151822)
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE INDEX "index_access_point_sightings_on_event_id" ON "access_point_sightings" ("event_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100419151822')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
Migrating to AddIndexOnUploadsEventIdAndUuid (20100419154652)
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE INDEX "index_uploads_on_uuid" ON "uploads" ("uuid")[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE INDEX "index_uploads_on_event_id" ON "uploads" ("event_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100419154652')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Migrating to CreateErrorReports (20100429090412)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "error_reports" ("id" serial primary key, "body" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100429090412')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
Migrating to AddMoreFieldsToEvents (20100603102940)
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mALTER TABLE "events" ADD COLUMN "local_ip" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "network_type" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "network_operator" character varying(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "model" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "brand" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "device" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "manufacturer" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "version_sdk" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "hoccability" character varying(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "events" ADD COLUMN "timestamp" character varying(255)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "events" ADD COLUMN "client_uuid" character varying(255)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100603102940')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
/!\ FAILSAFE /!\  Mon Aug 30 14:48:02 +0200 2010
  Status: 500 Internal Server Error
  could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?

    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/commands/server.rb:111
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Mon Aug 30 14:48:02 +0200 2010
  Status: 500 Internal Server Error
  could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?

    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/commands/server.rb:111
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Mon Aug 30 15:21:56 +0200 2010
  Status: 500 Internal Server Error
  could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?

    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/commands/server.rb:111
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Mon Aug 30 15:21:56 +0200 2010
  Status: 500 Internal Server Error
  could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?

    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/commands/server.rb:111
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Mon Aug 30 16:11:51 +0200 2010
  Status: 500 Internal Server Error
  could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?

    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/commands/server.rb:111
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Mon Aug 30 16:12:02 +0200 2010
  Status: 500 Internal Server Error
  could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?

    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:941:in `connect'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /Volumes/Data/RVM/rvm/gems/ruby-1.8.7-p302@hoccer/gems/rails-2.3.8/lib/commands/server.rb:111
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 16:12:32) [OPTIONS]

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (27.5ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 16:13:03) [OPTIONS]

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (89.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 16:13:30) [OPTIONS]

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (87.8ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 16:13:48) [OPTIONS]

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (25.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 16:14:15) [OPTIONS]

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (26.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET standard_conforming_strings = on[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 16:14:34) [OPTIONS]

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET standard_conforming_strings = on[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 16:44:24) [OPTIONS]

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Volumes/Data/RVM/rvm/rubies/ruby-1.8.7-p302/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (26.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (method_not_allowed)
